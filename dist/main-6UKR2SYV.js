var Zp=Object.defineProperty,Qp=Object.defineProperties;var Xp=Object.getOwnPropertyDescriptors;var Ic=Object.getOwnPropertySymbols;var eh=Object.prototype.hasOwnProperty,th=Object.prototype.propertyIsEnumerable;var _c=(t,e,n)=>e in t?Zp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oe=(t,e)=>{for(var n in e||={})eh.call(e,n)&&_c(t,n,e[n]);if(Ic)for(var n of Ic(e))th.call(e,n)&&_c(t,n,e[n]);return t},se=(t,e)=>Qp(t,Xp(e));var ae=null,mo=!1,Di=1,nh=null,Se=Symbol("SIGNAL");function A(t){let e=ae;return ae=t,e}function vo(){return ae}var $t={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ai(t){if(mo)throw new Error("");if(ae===null)return;ae.consumerOnSignalRead(t);let e=ae.producersTail;if(e!==void 0&&e.producer===t)return;let n,o=ae.recomputing;if(o&&(n=e!==void 0?e.nextProducer:ae.producers,n!==void 0&&n.producer===t)){ae.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===ae&&(!o||rh(r,ae)))return;let i=zt(ae),s={producer:t,consumer:ae,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};ae.producersTail=s,e!==void 0?e.nextProducer=s:ae.producers=s,i&&wc(t,s)}function Cc(){Di++}function bi(t){if(!(zt(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Di)){if(!t.producerMustRecompute(t)&&!Io(t)){Mi(t);return}t.producerRecomputeValue(t),Mi(t)}}function Ni(t){if(t.consumers===void 0)return;let e=mo;mo=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let o=n.consumer;o.dirty||oh(o)}}finally{mo=e}}function xi(){return ae?.consumerAllowSignalWrites!==!1}function oh(t){t.dirty=!0,Ni(t),t.consumerMarkedDirty?.(t)}function Mi(t){t.dirty=!1,t.lastCleanEpoch=Di}function Dn(t){return t&&Tc(t),A(t)}function Tc(t){t.producersTail=void 0,t.recomputing=!0}function Eo(t,e){A(e),t&&Sc(t)}function Sc(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(zt(t))do n=Ri(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Io(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,o=e.lastReadVersion;if(o!==n.version||(bi(n),o!==n.version))return!0}return!1}function qt(t){if(zt(t)){let e=t.producers;for(;e!==void 0;)e=Ri(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function wc(t,e){let n=t.consumersTail,o=zt(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!o)for(let r=t.producers;r!==void 0;r=r.nextProducer)wc(r.producer,r)}function Ri(t){let e=t.producer,n=t.nextProducer,o=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,o!==void 0?o.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=o;else if(e.consumers=o,!zt(e)){let i=e.producers;for(;i!==void 0;)i=Ri(i)}return n}function zt(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Pi(t){nh?.(t)}function rh(t,e){let n=e.producersTail;if(n!==void 0){let o=e.producers;do{if(o===t)return!0;if(o===n)break;o=o.nextProducer}while(o!==void 0)}return!1}function ki(t,e){return Object.is(t,e)}function _o(t,e){let n=Object.create(ih);n.computation=t,e!==void 0&&(n.equal=e);let o=()=>{if(bi(n),Ai(n),n.value===yo)throw n.error;return n.value};return o[Se]=n,Pi(n),o}var Si=Symbol("UNSET"),wi=Symbol("COMPUTING"),yo=Symbol("ERRORED"),ih=se(oe({},$t),{value:Si,dirty:!0,error:null,equal:ki,kind:"computed",producerMustRecompute(t){return t.value===Si||t.value===wi},producerRecomputeValue(t){if(t.value===wi)throw new Error("");let e=t.value;t.value=wi;let n=Dn(t),o,r=!1;try{o=t.computation(),A(null),r=e!==Si&&e!==yo&&o!==yo&&t.equal(e,o)}catch(i){o=yo,t.error=i}finally{Eo(t,n)}if(r){t.value=e;return}t.value=o,t.version++}});function sh(){throw new Error}var Mc=sh;function Dc(t){Mc(t)}function Li(t){Mc=t}var ah=null;function Oi(t,e){let n=Object.create(Nc);n.value=t,e!==void 0&&(n.equal=e);let o=()=>Ac(n);return o[Se]=n,Pi(n),[o,s=>Fi(n,s),s=>bc(n,s)]}function Ac(t){return Ai(t),t.value}function Fi(t,e){xi()||Dc(t),t.equal(t.value,e)||(t.value=e,lh(t))}function bc(t,e){xi()||Dc(t),Fi(t,e(t.value))}var Nc=se(oe({},$t),{equal:ki,value:void 0,kind:"signal"});function lh(t){t.version++,Cc(),Ni(t),ah?.(t)}var Vi=se(oe({},$t),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Ui(t){if(t.dirty=!1,t.version>0&&!Io(t))return;t.version++;let e=Dn(t);try{t.cleanup(),t.fn()}finally{Eo(t,e)}}function ge(t){return typeof t=="function"}function Co(t){let n=t(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var To=Co(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,r)=>`${r+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function An(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(ge(o))try{o()}catch(i){e=i instanceof To?i.errors:[i]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let i of r)try{xc(i)}catch(s){e=e??[],s instanceof To?e=[...e,...s.errors]:e.push(s)}}if(e)throw new To(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xc(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&An(n,e)}remove(e){let{_finalizers:n}=this;n&&An(n,e),e instanceof t&&e._removeParent(this)}};fe.EMPTY=(()=>{let t=new fe;return t.closed=!0,t})();var Hi=fe.EMPTY;function So(t){return t instanceof fe||t&&"closed"in t&&ge(t.remove)&&ge(t.add)&&ge(t.unsubscribe)}function xc(t){ge(t)?t():t.unsubscribe()}var be={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wt={setTimeout(t,e,...n){let{delegate:o}=Wt;return o?.setTimeout?o.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Wt;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Rc(t){Wt.setTimeout(()=>{let{onUnhandledError:e}=be;if(e)e(t);else throw t})}function Bi(){}var Pc=Gi("C",void 0,void 0);function kc(t){return Gi("E",void 0,t)}function Lc(t){return Gi("N",t,void 0)}function Gi(t,e,n){return{kind:t,value:e,error:n}}var _t=null;function Jt(t){if(be.useDeprecatedSynchronousErrorHandling){let e=!_t;if(e&&(_t={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:o}=_t;if(_t=null,n)throw o}}else t()}function Oc(t){be.useDeprecatedSynchronousErrorHandling&&_t&&(_t.errorThrown=!0,_t.error=t)}var Ct=class extends fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,So(e)&&e.add(this)):this.destination=dh}static create(e,n,o){return new Yt(e,n,o)}next(e){this.isStopped?qi(Lc(e),this):this._next(e)}error(e){this.isStopped?qi(kc(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qi(Pc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ch=Function.prototype.bind;function $i(t,e){return ch.call(t,e)}var zi=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(o){wo(o)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(o){wo(o)}else wo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){wo(n)}}},Yt=class extends Ct{constructor(e,n,o){super();let r;if(ge(e)||!e)r={next:e??void 0,error:n??void 0,complete:o??void 0};else{let i;this&&be.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&$i(e.next,i),error:e.error&&$i(e.error,i),complete:e.complete&&$i(e.complete,i)}):r=e}this.destination=new zi(r)}};function wo(t){be.useDeprecatedSynchronousErrorHandling?Oc(t):Rc(t)}function uh(t){throw t}function qi(t,e){let{onStoppedNotification:n}=be;n&&Wt.setTimeout(()=>n(t,e))}var dh={closed:!0,next:Bi,error:uh,complete:Bi};var Fc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vc(t){return t}function Uc(t){return t.length===0?Vc:t.length===1?t[0]:function(n){return t.reduce((o,r)=>r(o),n)}}var Kt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new t;return o.source=this,o.operator=n,o}subscribe(n,o,r){let i=ph(n)?n:new Yt(n,o,r);return Jt(()=>{let{operator:s,source:c}=this;i.add(s?s.call(i,c):c?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=Hc(o),new o((r,i)=>{let s=new Yt({next:c=>{try{n(c)}catch(u){i(u),s.unsubscribe()}},error:i,complete:r});this.subscribe(s)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[Fc](){return this}pipe(...n){return Uc(n)(this)}toPromise(n){return n=Hc(n),new n((o,r)=>{let i;this.subscribe(s=>i=s,s=>r(s),()=>o(i))})}}return t.create=e=>new t(e),t})();function Hc(t){var e;return(e=t??be.Promise)!==null&&e!==void 0?e:Promise}function fh(t){return t&&ge(t.next)&&ge(t.error)&&ge(t.complete)}function ph(t){return t&&t instanceof Ct||fh(t)&&So(t)}function hh(t){return ge(t?.lift)}function Bc(t){return e=>{if(hh(e))return e.lift(function(n){try{return t(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Gc(t,e,n,o,r){return new Wi(t,e,n,o,r)}var Wi=class extends Ct{constructor(e,n,o,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=r?function(c){try{r(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var $c=Co(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class t extends Kt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new Mo(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new $c}next(n){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:r,observers:i}=this;return o||r?Hi:(this.currentObservers=null,i.push(n),new fe(()=>{this.currentObservers=null,An(i,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:r,isStopped:i}=this;o?n.error(r):i&&n.complete()}asObservable(){let n=new Kt;return n.source=this,n}}return t.create=(e,n)=>new Mo(e,n),t})(),Mo=class extends ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,e)}error(e){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&o!==void 0?o:Hi}};var bn=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:o}=this;if(e)throw n;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}};function Ji(t,e){return Bc((n,o)=>{let r=0;n.subscribe(Gc(o,i=>{o.next(t.call(e,i,r++))}))})}var Yi;function Do(){return Yi}function qe(t){let e=Yi;return Yi=t,e}var qc=Symbol("NotFound");function jt(t){return t===qc||t?.name==="\u0275NotFound"}var ls="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(cs(e,n)),this.code=e}};function mh(t){return`NG0${Math.abs(t)}`}function cs(t,e){return`${mh(t)}${e?": "+e:""}`}function q(t){for(let e in t)if(t[e]===q)return e;throw Error("")}function dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(dt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let o=n.indexOf(`
`);return o>=0?n.slice(0,o):n}function us(t,e){return t?e?`${t} ${e}`:t:e||""}var yh=q({__forward_ref__:q});function Lo(t){return t.__forward_ref__=Lo,t.toString=function(){return dt(this())},t}function Ie(t){return Kc(t)?t():t}function Kc(t){return typeof t=="function"&&t.hasOwnProperty(yh)&&t.__forward_ref__===Lo}function Z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Oo(t){return vh(t,Fo)}function vh(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Eh(t){let e=t?.[Fo]??null;return e||null}function ji(t){return t&&t.hasOwnProperty(bo)?t[bo]:null}var Fo=q({\u0275prov:q}),bo=q({\u0275inj:q}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ds(t){return t&&!!t.\u0275providers}var fs=q({\u0275cmp:q}),ps=q({\u0275dir:q}),hs=q({\u0275pipe:q});var Zi=q({\u0275fac:q}),Dt=q({__NG_ELEMENT_ID__:q}),zc=q({__NG_ENV_ID__:q});function Ln(t){return ms(t,"@Component"),t[fs]||null}function gs(t){return ms(t,"@Directive"),t[ps]||null}function jc(t){return ms(t,"@Pipe"),t[hs]||null}function ms(t,e){if(t==null)throw new V(-919,!1)}function ys(t){return typeof t=="string"?t:t==null?"":String(t)}var Zc=q({ngErrorCode:q}),Ih=q({ngErrorMessage:q}),_h=q({ngTokenPath:q});function vs(t,e){return Qc("",-200,e)}function Vo(t,e){throw new V(-201,!1)}function Qc(t,e,n){let o=new V(e,t);return o[Zc]=e,o[Ih]=t,n&&(o[_h]=n),o}function Ch(t){return t[Zc]}var Qi;function Xc(){return Qi}function Ee(t){let e=Qi;return Qi=t,e}function Es(t,e,n){let o=Oo(t);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&8)return null;if(e!==void 0)return e;Vo(t,"")}var Th={},Tt=Th,Sh="__NG_DI_FLAG__",Xi=class{injector;constructor(e){this.injector=e}retrieve(e,n){let o=St(n)||0;try{return this.injector.get(e,o&8?null:Tt,o)}catch(r){if(jt(r))return r;throw r}}};function wh(t,e=0){let n=Do();if(n===void 0)throw new V(-203,!1);if(n===null)return Es(t,void 0,e);{let o=Mh(e),r=n.retrieve(t,o);if(jt(r)){if(o.optional)return null;throw r}return r}}function z(t,e=0){return(Xc()||wh)(Ie(t),e)}function G(t,e){return z(t,St(e))}function St(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Mh(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function es(t){let e=[];for(let n=0;n<t.length;n++){let o=Ie(t[n]);if(Array.isArray(o)){if(o.length===0)throw new V(900,!1);let r,i=0;for(let s=0;s<o.length;s++){let c=o[s],u=Dh(c);typeof u=="number"?u===-1?r=c.token:i|=u:r=c}e.push(z(r,i))}else e.push(z(o))}return e}function Dh(t){return t[Sh]}function Qt(t,e){let n=t.hasOwnProperty(Zi);return n?t[Zi]:null}function Uo(t,e){t.forEach(n=>Array.isArray(n)?Uo(n,e):e(n))}function eu(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Is(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tu(t,e,n,o){let r=t.length;if(r==e)t.push(n,o);else if(r===1)t.push(o,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let i=r-2;t[r]=t[i],r--}t[e]=n,t[e+1]=o}}function nu(t,e,n){let o=Xt(t,e);return o>=0?t[o|1]=n:(o=~o,tu(t,o,e,n)),o}function Ho(t,e){let n=Xt(t,e);if(n>=0)return t[n|1]}function Xt(t,e){return Ah(t,e,1)}function Ah(t,e,n){let o=0,r=t.length>>n;for(;r!==o;){let i=o+(r-o>>1),s=t[i<<n];if(e===s)return i<<n;s>e?r=i:o=i+1}return~(r<<n)}var At={},ft=[],On=new B(""),_s=new B("",-1),Cs=new B(""),xn=class{get(e,n=Tt){if(n===Tt){let r=Qc("",-201);throw r.name="\u0275NotFound",r}return n}};function Ts(t){return{\u0275providers:t}}function ou(...t){return{\u0275providers:Ss(!0,t),\u0275fromNgModule:!0}}function Ss(t,...e){let n=[],o=new Set,r,i=s=>{n.push(s)};return Uo(e,s=>{let c=s;No(c,i,[],o)&&(r||=[],r.push(c))}),r!==void 0&&ru(r,i),n}function ru(t,e){for(let n=0;n<t.length;n++){let{ngModule:o,providers:r}=t[n];ws(r,i=>{e(i,o)})}}function No(t,e,n,o){if(t=Ie(t),!t)return!1;let r=null,i=ji(t),s=!i&&Ln(t);if(!i&&!s){let u=t.ngModule;if(i=ji(u),i)r=u;else return!1}else{if(s&&!s.standalone)return!1;r=t}let c=o.has(r);if(s){if(c)return!1;if(o.add(r),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)No(d,e,n,o)}}else if(i){if(i.imports!=null&&!c){o.add(r);let d;Uo(i.imports,f=>{No(f,e,n,o)&&(d||=[],d.push(f))}),d!==void 0&&ru(d,e)}if(!c){let d=Qt(r)||(()=>new r);e({provide:r,useFactory:d,deps:ft},r),e({provide:Cs,useValue:r,multi:!0},r),e({provide:On,useValue:()=>z(r),multi:!0},r)}let u=i.providers;if(u!=null&&!c){let d=t;ws(u,f=>{e(f,d)})}}else return!1;return r!==t&&t.providers!==void 0}function ws(t,e){for(let n of t)ds(n)&&(n=n.\u0275providers),Array.isArray(n)?ws(n,e):e(n)}var bh=q({provide:String,useValue:q});function iu(t){return t!==null&&typeof t=="object"&&bh in t}function Nh(t){return!!(t&&t.useExisting)}function xh(t){return!!(t&&t.useFactory)}function xo(t){return typeof t=="function"}var Fn=new B(""),Ao={},Wc={},Ki;function Vn(){return Ki===void 0&&(Ki=new xn),Ki}var Ne=class{},wt=class extends Ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,ns(e,s=>this.processProvider(s)),this.records.set(_s,Zt(void 0,this)),r.has("environment")&&this.records.set(Ne,Zt(void 0,this));let i=this.records.get(Fn);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Cs,ft,{self:!0}))}retrieve(e,n){let o=St(n)||0;try{return this.get(e,Tt,o)}catch(r){if(jt(r))return r;throw r}}destroy(){Nn(this),this._destroyed=!0;let e=A(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),A(e)}}onDestroy(e){return Nn(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Nn(this);let n=qe(this),o=Ee(void 0),r;try{return e()}finally{qe(n),Ee(o)}}get(e,n=Tt,o){if(Nn(this),e.hasOwnProperty(zc))return e[zc](this);let r=St(o),i,s=qe(this),c=Ee(void 0);try{if(!(r&4)){let d=this.records.get(e);if(d===void 0){let f=Oh(e)&&Oo(e);f&&this.injectableDefInScope(f)?d=Zt(ts(e),Ao):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,r)}let u=r&2?Vn():this.parent;return n=r&8&&n===Tt?null:n,u.get(e,n)}catch(u){let d=Ch(u);throw d===-200||d===-201?new V(d,null):u}finally{Ee(c),qe(s)}}resolveInjectorInitializers(){let e=A(null),n=qe(this),o=Ee(void 0),r;try{let i=this.get(On,ft,{self:!0});for(let s of i)s()}finally{qe(n),Ee(o),A(e)}}toString(){let e=[],n=this.records;for(let o of n.keys())e.push(dt(o));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ie(e);let n=xo(e)?e:Ie(e&&e.provide),o=Ph(e);if(!xo(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Zt(void 0,Ao,!0),r.factory=()=>es(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,o)}hydrate(e,n,o){let r=A(null);try{if(n.value===Wc)throw vs(dt(e));return n.value===Ao&&(n.value=Wc,n.value=n.factory(void 0,o)),typeof n.value=="object"&&n.value&&Lh(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{A(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ie(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ts(t){let e=Oo(t),n=e!==null?e.factory:Qt(t);if(n!==null)return n;if(t instanceof B)throw new V(204,!1);if(t instanceof Function)return Rh(t);throw new V(204,!1)}function Rh(t){if(t.length>0)throw new V(204,!1);let n=Eh(t);return n!==null?()=>n.factory(t):()=>new t}function Ph(t){if(iu(t))return Zt(void 0,t.useValue);{let e=su(t);return Zt(e,Ao)}}function su(t,e,n){let o;if(xo(t)){let r=Ie(t);return Qt(r)||ts(r)}else if(iu(t))o=()=>Ie(t.useValue);else if(xh(t))o=()=>t.useFactory(...es(t.deps||[]));else if(Nh(t))o=(r,i)=>z(Ie(t.useExisting),i!==void 0&&i&8?8:void 0);else{let r=Ie(t&&(t.useClass||t.provide));if(kh(t))o=()=>new r(...es(t.deps));else return Qt(r)||ts(r)}return o}function Nn(t){if(t.destroyed)throw new V(205,!1)}function Zt(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kh(t){return!!t.deps}function Lh(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Oh(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function ns(t,e){for(let n of t)Array.isArray(n)?ns(n,e):n&&ds(n)?ns(n.\u0275providers,e):e(n)}function Bo(t,e){let n;t instanceof wt?(Nn(t),n=t):n=new Xi(t);let o,r=qe(n),i=Ee(void 0);try{return e()}finally{qe(r),Ee(i)}}function au(){return Xc()!==void 0||Do()!=null}var xe=0,R=1,x=2,pe=3,Me=4,Re=5,en=6,tn=7,Q=8,Xe=9,et=10,ee=11,nn=12,Ms=13,bt=14,De=15,Nt=16,xt=17,Rt=18,tt=19,Ds=20,Ze=21,Go=22,pt=23,_e=24,$o=25,Pt=26,le=27,lu=1,As=6,on=7,cu=8,Un=9,te=10;function nt(t){return Array.isArray(t)&&typeof t[lu]=="object"}function ot(t){return Array.isArray(t)&&t[lu]===!0}function bs(t){return(t.flags&4)!==0}function rn(t){return t.componentOffset>-1}function Ns(t){return(t.flags&1)===1}function sn(t){return!!t.template}function an(t){return(t[x]&512)!==0}function kt(t){return(t[x]&256)===256}var xs="svg",uu="math";function Pe(t){for(;Array.isArray(t);)t=t[xe];return t}function Rs(t,e){return Pe(e[t])}function ze(t,e){return Pe(e[t.index])}function Hn(t,e){return t.data[e]}function rt(t,e){let n=e[t];return nt(n)?n:n[xe]}function qo(t){return(t[x]&128)===128}function We(t,e){return e==null?null:t[e]}function Ps(t){t[xt]=0}function ks(t){t[x]&1024||(t[x]|=1024,qo(t)&&ln(t))}function du(t,e){for(;t>0;)e=e[bt],t--;return e}function Bn(t){return!!(t[x]&9216||t[_e]?.dirty)}function zo(t){t[et].changeDetectionScheduler?.notify(8),t[x]&64&&(t[x]|=1024),Bn(t)&&ln(t)}function ln(t){t[et].changeDetectionScheduler?.notify(0);let e=ht(t);for(;e!==null&&!(e[x]&8192||(e[x]|=8192,!qo(e)));)e=ht(e)}function Ls(t,e){if(kt(t))throw new V(911,!1);t[Ze]===null&&(t[Ze]=[]),t[Ze].push(e)}function fu(t,e){if(t[Ze]===null)return;let n=t[Ze].indexOf(e);n!==-1&&t[Ze].splice(n,1)}function ht(t){let e=t[pe];return ot(e)?e[pe]:e}function pu(t){return t[tn]??=[]}function hu(t){return t.cleanup??=[]}var O={lFrame:Nu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var os=!1;function gu(){return O.lFrame.elementDepthCount}function mu(){O.lFrame.elementDepthCount++}function yu(){O.lFrame.elementDepthCount--}function vu(){return O.skipHydrationRootTNode!==null}function Eu(t){return O.skipHydrationRootTNode===t}function Iu(){O.skipHydrationRootTNode=null}function j(){return O.lFrame.lView}function ke(){return O.lFrame.tView}function Le(t){return O.lFrame.contextLView=t,t[Q]}function Oe(t){return O.lFrame.contextLView=null,t}function it(){let t=Os();for(;t!==null&&t.type===64;)t=t.parent;return t}function Os(){return O.lFrame.currentTNode}function _u(){let t=O.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function cn(t,e){let n=O.lFrame;n.currentTNode=t,n.isParent=e}function Fs(){return O.lFrame.isParent}function Cu(){O.lFrame.isParent=!1}function Vs(){return os}function Rn(t){let e=os;return os=t,e}function Tu(t){return O.lFrame.bindingIndex=t}function un(){return O.lFrame.bindingIndex++}function Su(t){let e=O.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function wu(){return O.lFrame.inI18n}function Mu(t,e){let n=O.lFrame;n.bindingIndex=n.bindingRootIndex=t,Wo(e)}function Du(){return O.lFrame.currentDirectiveIndex}function Wo(t){O.lFrame.currentDirectiveIndex=t}function Au(t){let e=O.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Us(t){O.lFrame.currentQueryIndex=t}function Fh(t){let e=t[R];return e.type===2?e.declTNode:e.type===1?t[Re]:null}function Hs(t,e,n){if(n&4){let r=e,i=t;for(;r=r.parent,r===null&&!(n&1);)if(r=Fh(i),r===null||(i=i[bt],r.type&10))break;if(r===null)return!1;e=r,t=i}let o=O.lFrame=bu();return o.currentTNode=e,o.lView=t,!0}function Jo(t){let e=bu(),n=t[R];O.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function bu(){let t=O.lFrame,e=t===null?null:t.child;return e===null?Nu(t):e}function Nu(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function xu(){let t=O.lFrame;return O.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Bs=xu;function Yo(){let t=xu();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ru(t){return(O.lFrame.contextLView=du(t,O.lFrame.contextLView))[Q]}function mt(){return O.lFrame.selectedIndex}function yt(t){O.lFrame.selectedIndex=t}function Gs(){let t=O.lFrame;return Hn(t.tView,t.selectedIndex)}function U(){O.lFrame.currentNamespace=xs}function J(){Vh()}function Vh(){O.lFrame.currentNamespace=null}function Pu(){return O.lFrame.currentNamespace}var ku=!0;function Ko(){return ku}function jo(t){ku=t}function rs(t,e=null,n=null,o){let r=Lu(t,e,n,o);return r.resolveInjectorInitializers(),r}function Lu(t,e=null,n=null,o,r=new Set){let i=[n||ft,ou(t)];return o=o||(typeof t=="object"?void 0:dt(t)),new wt(i,e||Vn(),o||null,r)}var gt=class t{static THROW_IF_NOT_FOUND=Tt;static NULL=new xn;static create(e,n){if(Array.isArray(e))return rs({name:""},n,e,"");{let o=e.name??"";return rs({name:o},e.parent,e.providers,o)}}static \u0275prov=Z({token:t,providedIn:"any",factory:()=>z(_s)});static __NG_ELEMENT_ID__=-1},Fe=new B(""),Gn=(()=>{class t{static __NG_ELEMENT_ID__=Uh;static __NG_ENV_ID__=n=>n}return t})(),Ro=class extends Gn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return kt(this._lView)}onDestroy(e){let n=this._lView;return Ls(n,e),()=>fu(n,e)}};function Uh(){return new Ro(j())}var Ou=!1,Fu=new B(""),dn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new bn(!1);debugTaskTracker=G(Fu,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Kt(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})(),is=class extends ut{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,au()&&(this.destroyRef=G(Gn,{optional:!0})??void 0,this.pendingTasks=G(dn,{optional:!0})??void 0)}emit(e){let n=A(null);try{super.next(e)}finally{A(n)}}subscribe(e,n,o){let r=e,i=n||(()=>null),s=o;if(e&&typeof e=="object"){let u=e;r=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=this.wrapInTimeout(i),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:r,error:i,complete:s});return e instanceof fe&&e.add(c),c}wrapInTimeout(e){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},je=is;function Po(...t){}function $s(t){let e,n;function o(){t=Po;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),o()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),o()})),()=>o()}function Vu(t){return queueMicrotask(()=>t()),()=>{t=Po}}var qs="isAngularZone",Pn=qs+"_ID",Hh=0,we=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new je(!1);onMicrotaskEmpty=new je(!1);onStable=new je(!1);onError=new je(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:i=Ou}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&o,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=i,$h(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(qs)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,o){return this._inner.run(e,n,o)}runTask(e,n,o,r){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Bh,Po,Po);try{return i.runTask(s,n,o)}finally{i.cancelTask(s)}}runGuarded(e,n,o){return this._inner.runGuarded(e,n,o)}runOutsideAngular(e){return this._outer.run(e)}},Bh={};function zs(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gh(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){$s(()=>{t.callbackScheduled=!1,ss(t),t.isCheckStableRunning=!0,zs(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ss(t)}function $h(t){let e=()=>{Gh(t)},n=Hh++;t._inner=t._inner.fork({name:"angular",properties:{[qs]:!0,[Pn]:n,[Pn+n]:!0},onInvokeTask:(o,r,i,s,c,u)=>{if(qh(u))return o.invokeTask(i,s,c,u);try{return Jc(t),o.invokeTask(i,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Yc(t)}},onInvoke:(o,r,i,s,c,u,d)=>{try{return Jc(t),o.invoke(i,s,c,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!zh(u)&&e(),Yc(t)}},onHasTask:(o,r,i,s)=>{o.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ss(t),zs(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,r,i,s)=>(o.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ss(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Jc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yc(t){t._nesting--,zs(t)}var kn=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new je;onMicrotaskEmpty=new je;onStable=new je;onError=new je;run(e,n,o){return e.apply(n,o)}runGuarded(e,n,o){return e.apply(n,o)}runOutsideAngular(e){return e()}runTask(e,n,o,r){return e.apply(n,o)}};function qh(t){return Uu(t,"__ignore_ng_zone__")}function zh(t){return Uu(t,"__scheduler_tick__")}function Uu(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Qe=class{_console=console;handleError(e){this._console.error("ERROR",e)}},fn=new B("",{factory:()=>{let t=G(we),e=G(Ne),n;return o=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw o}):(n??=e.get(Qe),n.handleError(o))})}}}),Hu={provide:On,useValue:()=>{let t=G(Qe,{optional:!0})},multi:!0};function ce(t,e){let[n,o,r]=Oi(t,e?.equal),i=n,s=i[Se];return i.set=o,i.update=r,i.asReadonly=Bu.bind(i),i}function Bu(){let t=this[Se];if(t.readonlyFn===void 0){let e=()=>this();e[Se]=t,t.readonlyFn=e}return t.readonlyFn}var Zo=(()=>{class t{view;node;constructor(n,o){this.view=n,this.node=o}static __NG_ELEMENT_ID__=Wh}return t})();function Wh(){return new Zo(j(),it())}var Mt=class{},$n=new B("",{factory:()=>!0});var Ws=new B("");var Qo=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new as})}return t})(),as=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,o=this.queues.get(n);o.has(e)&&(o.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let o=this.queues.get(n);o.has(e)||o.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,o]of this.queues)n===null?e||=this.flushQueue(o):e||=n.run(()=>this.flushQueue(o));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let o of e)o.dirty&&(this.dirtyEffectCount--,n=!0,o.run());return n}},ko=class{[Se];constructor(e){this[Se]=e}destroy(){this[Se].destroy()}};function Js(t,e){let n=e?.injector??G(gt),o=e?.manualCleanup!==!0?n.get(Gn):null,r,i=n.get(Zo,null,{optional:!0}),s=n.get(Mt);return i!==null?(r=Kh(i.view,s,t),o instanceof Ro&&o._lView===i.view&&(o=null)):r=jh(t,n.get(Qo),s),r.injector=n,o!==null&&(r.onDestroyFns=[o.onDestroy(()=>r.destroy())]),new ko(r)}var Gu=se(oe({},Vi),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=Rn(!1);try{Ui(this)}finally{Rn(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=A(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],A(t)}}}),Jh=se(oe({},Gu),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(qt(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),Yh=se(oe({},Gu),{consumerMarkedDirty(){this.view[x]|=8192,ln(this.view),this.notifier.notify(13)},destroy(){if(qt(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[pt]?.delete(this)}});function Kh(t,e,n){let o=Object.create(Yh);return o.view=t,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=e,o.fn=$u(o,n),t[pt]??=new Set,t[pt].add(o),o.consumerMarkedDirty(o),o}function jh(t,e,n){let o=Object.create(Jh);return o.fn=$u(o,t),o.scheduler=e,o.notifier=n,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.add(o),o.notifier.notify(12),o}function $u(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function md(t){return{toString:t}.toString()}function yd(t,e,n,o){e!==null?e.applyValueToInputSignal(e,o):t[n]=o}var rr=class{previousValue;currentValue;firstChange;constructor(e,n,o){this.previousValue=e,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function ag(t){return t.type.prototype.ngOnChanges&&(t.setInput=cg),lg}function lg(){let t=Ed(this),e=t?.current;if(e){let n=t.previous;if(n===At)t.previous=e;else for(let o in e)n[o]=e[o];t.current=null,this.ngOnChanges(e)}}function cg(t,e,n,o,r){let i=this.declaredInputs[o],s=Ed(t)||ug(t,{previous:At,current:null}),c=s.current||(s.current={}),u=s.previous,d=u[i];c[i]=new rr(d&&d.currentValue,n,u===At),yd(t,e,r,n)}var vd="__ngSimpleChanges__";function Ed(t){return t[vd]||null}function ug(t,e){return t[vd]=e}var qu=[];var W=function(t,e=null,n){for(let o=0;o<qu.length;o++){let r=qu[o];r(t,e,n)}},$=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})($||{});function dg(t,e,n){let{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(o){let s=ag(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function fg(t,e){for(let n=e.directiveStart,o=e.directiveEnd;n<o;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function er(t,e,n){Id(t,e,3,n)}function tr(t,e,n,o){(t[x]&3)===n&&Id(t,e,n,o)}function Ys(t,e){let n=t[x];(n&3)===e&&(n&=16383,n+=1,t[x]=n)}function Id(t,e,n,o){let r=o!==void 0?t[xt]&65535:0,i=o??-1,s=e.length-1,c=0;for(let u=r;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],o!=null&&c>=o)break}else e[u]<0&&(t[xt]+=65536),(c<i||i==-1)&&(pg(t,n,e,u),t[xt]=(t[xt]&4294901760)+u+2),u++}function zu(t,e){W($.LifecycleHookStart,t,e);let n=A(null);try{e.call(t)}finally{A(n),W($.LifecycleHookEnd,t,e)}}function pg(t,e,n,o){let r=n[o]<0,i=n[o+1],s=r?-n[o]:n[o],c=t[s];r?t[x]>>14<t[xt]>>16&&(t[x]&3)===e&&(t[x]+=16384,zu(c,i)):zu(c,i)}var hn=-1,Wn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,o,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=o}};function hg(t,e,n){let o=0;for(;o<n.length;){let r=n[o];if(typeof r=="number"){if(r!==0)break;o++;let i=n[o++],s=n[o++],c=n[o++];t.setAttribute(e,s,c,i)}else{let i=r,s=n[++o];gg(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),o++}}return o}function gg(t){return t.charCodeAt(0)===64}function gr(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let o=0;o<e.length;o++){let r=e[o];typeof r=="number"?n=r:n===0||(n===-1||n===2?Wu(t,n,r,null,e[++o]):Wu(t,n,r,null,null))}}return t}function Wu(t,e,n,o,r){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let c=t[i++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=i-1;break}}}for(;i<t.length;){let c=t[i];if(typeof c=="number")break;if(c===n){r!==null&&(t[i+1]=r);return}i++,r!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r)}function mg(t){return t!==hn}function ea(t){return t&32767}function yg(t){return t>>16}function ta(t,e){let n=yg(t),o=e;for(;n>0;)o=o[bt],n--;return o}var na=!0;function Ju(t){let e=na;return na=t,e}var vg=256,_d=vg-1,Cd=5,Eg=0,Je={};function Ig(t,e,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(Dt)&&(o=n[Dt]),o==null&&(o=n[Dt]=Eg++);let r=o&_d,i=1<<r;e.data[t+(r>>Cd)]|=i}function Td(t,e){let n=Sd(t,e);if(n!==-1)return n;let o=e[R];o.firstCreatePass&&(t.injectorIndex=e.length,Ks(o.data,t),Ks(e,null),Ks(o.blueprint,null));let r=wd(t,e),i=t.injectorIndex;if(mg(r)){let s=ea(r),c=ta(r,e),u=c[R].data;for(let d=0;d<8;d++)e[i+d]=c[s+d]|u[s+d]}return e[i+8]=r,i}function Ks(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Sd(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function wd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,o=null,r=e;for(;r!==null;){if(o=Nd(r),o===null)return hn;if(n++,r=r[bt],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return hn}function _g(t,e,n){Ig(t,e,n)}function Md(t,e,n){if(n&8||t!==void 0)return t;Vo(e,"NodeInjector")}function Dd(t,e,n,o){if(n&8&&o===void 0&&(o=null),(n&3)===0){let r=t[Xe],i=Ee(void 0);try{return r?r.get(e,o,n&8):Es(e,o,n&8)}finally{Ee(i)}}return Md(o,e,n)}function Ad(t,e,n,o=0,r){if(t!==null){if(e[x]&2048&&!(o&2)){let s=Mg(t,e,n,o,Je);if(s!==Je)return s}let i=bd(t,e,n,o,Je);if(i!==Je)return i}return Dd(e,n,o,r)}function bd(t,e,n,o,r){let i=Sg(n);if(typeof i=="function"){if(!Hs(e,t,o))return o&1?Md(r,n,o):Dd(e,n,o,r);try{let s;if(s=i(o),s==null&&!(o&8))Vo(n);else return s}finally{Bs()}}else if(typeof i=="number"){let s=null,c=Sd(t,e),u=hn,d=o&1?e[De][Re]:null;for((c===-1||o&4)&&(u=c===-1?wd(t,e):e[c+8],u===hn||!Ku(o,!1)?c=-1:(s=e[R],c=ea(u),e=ta(u,e)));c!==-1;){let f=e[R];if(Yu(i,c,f.data)){let p=Cg(c,e,n,s,o,d);if(p!==Je)return p}u=e[c+8],u!==hn&&Ku(o,e[R].data[c+8]===d)&&Yu(i,c,e)?(s=f,c=ea(u),e=ta(u,e)):c=-1}}return r}function Cg(t,e,n,o,r,i){let s=e[R],c=s.data[t+8],u=o==null?rn(c)&&na:o!=s&&(c.type&3)!==0,d=r&1&&i===c,f=Tg(c,s,n,u,d);return f!==null?oa(e,s,f,c,r):Je}function Tg(t,e,n,o,r){let i=t.providerIndexes,s=e.data,c=i&1048575,u=t.directiveStart,d=t.directiveEnd,f=i>>20,p=o?c:c+f,h=r?c+f:d;for(let g=p;g<h;g++){let m=s[g];if(g<u&&n===m||g>=u&&m.type===n)return g}if(r){let g=s[u];if(g&&sn(g)&&g.type===n)return u}return null}function oa(t,e,n,o,r){let i=t[n],s=e.data;if(i instanceof Wn){let c=i;if(c.resolving)throw vs("");let u=Ju(c.canSeeViewProviders);c.resolving=!0;let d=s[n].type||s[n],f,p=c.injectImpl?Ee(c.injectImpl):null,h=Hs(t,o,0);try{i=t[n]=c.factory(void 0,r,s,t,o),e.firstCreatePass&&n>=o.directiveStart&&dg(n,s[n],e)}finally{p!==null&&Ee(p),Ju(u),c.resolving=!1,Bs()}}return i}function Sg(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Dt)?t[Dt]:void 0;return typeof e=="number"?e>=0?e&_d:wg:e}function Yu(t,e,n){let o=1<<t;return!!(n[e+(t>>Cd)]&o)}function Ku(t,e){return!(t&2)&&!(t&1&&e)}var ir=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,o){return Ad(this._tNode,this._lView,e,St(o),n)}};function wg(){return new ir(it(),j())}function Mg(t,e,n,o,r){let i=t,s=e;for(;i!==null&&s!==null&&s[x]&2048&&!an(s);){let c=bd(i,s,n,o|2,Je);if(c!==Je)return c;let u=i.parent;if(!u){let d=s[Ds];if(d){let f=d.get(n,Je,o);if(f!==Je)return f}u=Nd(s),s=s[bt]}i=u}return r}function Nd(t){let e=t[R],n=e.type;return n===2?e.declTNode:n===1?t[Re]:null}function Dg(){return xd(it(),j())}function xd(t,e){return new mr(ze(t,e))}var mr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Dg}return t})();function Rd(t){return(t.flags&128)===128}var Sa=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Sa||{}),Pd=new Map,Ag=0;function bg(){return Ag++}function Ng(t){Pd.set(t[tt],t)}function ra(t){Pd.delete(t[tt])}var ju="__ngContext__";function gn(t,e){nt(e)?(t[ju]=e[tt],Ng(e)):t[ju]=e}function kd(t){return Od(t[nn])}function Ld(t){return Od(t[Me])}function Od(t){for(;t!==null&&!ot(t);)t=t[Me];return t}var xg;function wa(t){xg=t}var yr=new B("",{factory:()=>Rg}),Rg="ng";var vr=new B(""),jn=new B("",{providedIn:"platform",factory:()=>"unknown"});var Er=new B("",{factory:()=>G(Fe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Fd="r";var Vd="di";var Ud=!1,Hd=new B("",{factory:()=>Ud});var Pg=(t,e,n,o)=>{};function kg(t,e,n,o){Pg(t,e,n,o)}function Ma(t){return(t.flags&32)===32}var Lg=()=>null;function Bd(t,e,n=!1){return Lg(t,e,n)}function Gd(t,e){let n=t.contentQueries;if(n!==null){let o=A(null);try{for(let r=0;r<n.length;r+=2){let i=n[r],s=n[r+1];if(s!==-1){let c=t.data[s];Us(i),c.contentQueries(2,e[s],s)}}}finally{A(o)}}}function ia(t,e,n){Us(0);let o=A(null);try{e(t,n)}finally{A(o)}}function Og(t,e,n){if(bs(e)){let o=A(null);try{let r=e.directiveStart,i=e.directiveEnd;for(let s=r;s<i;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{A(o)}}}var Ve=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Ve||{});var sa=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ls})`}};function $d(t){return t instanceof sa?t.changingThisBreaksApplicationSecurity:t}function Fg(t,e){return t.createText(e)}function Vg(t,e,n){t.setValue(e,n)}function qd(t,e,n){return t.createElement(e,n)}function aa(t,e,n,o,r){t.insertBefore(e,n,o,r)}function zd(t,e,n){t.appendChild(e,n)}function Zu(t,e,n,o,r){o!==null?aa(t,e,n,o,r):zd(t,e,n)}function Wd(t,e,n,o){t.removeChild(null,e,n,o)}function Ug(t,e,n){t.setAttribute(e,"style",n)}function Hg(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Jd(t,e,n){let{mergedAttrs:o,classes:r,styles:i}=n;o!==null&&hg(t,e,o),r!==null&&Hg(t,e,r),i!==null&&Ug(t,e,i)}function Zn(t){return t.ownerDocument}var Bg="ng-template";function Gg(t){return t.type===4&&t.value!==Bg}function la(t){return(t&1)===0}function Qu(t,e){return t?":not("+e.trim()+")":e}function $g(t){let e=t[0],n=1,o=2,r="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(o&2){let c=t[++n];r+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else o&8?r+="."+s:o&4&&(r+=" "+s);else r!==""&&!la(s)&&(e+=Qu(i,r),r=""),o=s,i=i||!la(o);n++}return r!==""&&(e+=Qu(i,r)),e}function qg(t){return t.map($g).join(",")}function zg(t){let e=[],n=[],o=1,r=2;for(;o<t.length;){let i=t[o];if(typeof i=="string")r===2?i!==""&&e.push(i,t[++o]):r===8&&n.push(i);else{if(!la(r))break;r=i}o++}return n.length&&e.push(1,...n),e}var at={};function Da(t,e,n,o,r,i,s,c,u,d,f){let p=le+o,h=p+r,g=Wg(p,h),m=typeof d=="function"?d():d;return g[R]={type:t,blueprint:g,template:n,queries:null,viewQuery:c,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1,ssrId:f}}function Wg(t,e){let n=[];for(let o=0;o<e;o++)n.push(o<t?null:at);return n}function Jg(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Da(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Aa(t,e,n,o,r,i,s,c,u,d,f){let p=e.blueprint.slice();return p[xe]=r,p[x]=o|4|128|8|64|1024,(d!==null||t&&t[x]&2048)&&(p[x]|=2048),Ps(p),p[pe]=p[bt]=t,p[Q]=n,p[et]=s||t&&t[et],p[ee]=c||t&&t[ee],p[Xe]=u||t&&t[Xe]||null,p[Re]=i,p[tt]=bg(),p[en]=f,p[Ds]=d,p[De]=e.type==2?t[De]:p,p}function Yg(t,e,n){let o=ze(e,t),r=Jg(n),i=t[et].rendererFactory,s=jd(t,Aa(t,r,null,Yd(n),o,e,null,i.createRenderer(o,n),null,null,null));return t[e.index]=s}function Yd(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Kd(t,e,n,o){if(n===0)return-1;let r=e.length;for(let i=0;i<n;i++)e.push(o),t.blueprint.push(o),t.data.push(null);return r}function jd(t,e){return t[nn]?t[Ms][Me]=e:t[nn]=e,t[Ms]=e,e}function K(t=1){Zd(ke(),j(),mt()+t,!1)}function Zd(t,e,n,o){if(!o)if((e[x]&3)===3){let i=t.preOrderCheckHooks;i!==null&&er(e,i,n)}else{let i=t.preOrderHooks;i!==null&&tr(e,i,0,n)}yt(n)}var Ir=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ir||{});function ca(t,e,n,o){let r=A(null);try{let[i,s,c]=t.inputs[n],u=null;(s&Ir.SignalBased)!==0&&(u=e[i][Se]),u!==null&&u.transformFn!==void 0?o=u.transformFn(o):c!==null&&(o=c.call(e,o)),t.setInput!==null?t.setInput(e,u,o,n,i):yd(e,u,i,o)}finally{A(r)}}var st=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(st||{}),Kg;function ba(t,e){return Kg(t,e)}var Lt=new Set,Na=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Na||{}),Qn=new B(""),Xu=new Set;function Vt(t){Xu.has(t)||(Xu.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Qd=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Z({token:t,providedIn:"root",factory:()=>new t})}return t})();var xa=new B("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:G(Ne)})});function Xd(t,e,n){let o=t.get(xa);if(Array.isArray(e))for(let r of e)o.queue.add(r),n?.detachedLeaveAnimationFns?.push(r);else o.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);o.scheduler&&o.scheduler(t)}function jg(t,e){let n=t.get(xa);if(e.detachedLeaveAnimationFns){for(let o of e.detachedLeaveAnimationFns)n.queue.delete(o);e.detachedLeaveAnimationFns=void 0}}function Zg(t,e){for(let[n,o]of e)Xd(t,o.animateFns)}function Qg(t,e){let n=t.get(xa);if(Array.isArray(e))for(let o of e)n.queue.delete(o);else n.queue.delete(e)}function ed(t,e,n,o){let r=t?.[Pt]?.enter;e!==null&&r&&r.has(n.index)&&Zg(o,r)}function pn(t,e,n,o,r,i,s,c){if(r!=null){let u,d=!1;ot(r)?u=r:nt(r)&&(d=!0,r=r[xe]);let f=Pe(r);t===0&&o!==null?(ed(c,o,i,n),s==null?zd(e,o,f):aa(e,o,f,s||null,!0)):t===1&&o!==null?(ed(c,o,i,n),aa(e,o,f,s||null,!0)):t===2?td(c,i,n,p=>{Wd(e,f,d,p)}):t===3&&td(c,i,n,()=>{e.destroyNode(f)}),u!=null&&dm(e,t,n,u,i,o,s)}}function Xg(t,e){ef(t,e),e[xe]=null,e[Re]=null}function em(t,e,n,o,r,i){o[xe]=r,o[Re]=e,_r(t,o,n,1,r,i)}function ef(t,e){e[et].changeDetectionScheduler?.notify(9),_r(t,e,e[ee],2,null,null)}function tm(t){let e=t[nn];if(!e)return js(t[R],t);for(;e;){let n=null;if(nt(e))n=e[nn];else{let o=e[te];o&&(n=o)}if(!n){for(;e&&!e[Me]&&e!==t;)nt(e)&&js(e[R],e),e=e[pe];e===null&&(e=t),nt(e)&&js(e[R],e),n=e&&e[Me]}e=n}}function Ra(t,e){let n=t[Un],o=n.indexOf(e);n.splice(o,1)}function Pa(t,e){if(kt(e))return;let n=e[ee];n.destroyNode&&_r(t,e,n,3,null,null),tm(e)}function js(t,e){if(kt(e))return;let n=A(null);try{e[x]&=-129,e[x]|=256,e[_e]&&qt(e[_e]),rm(t,e),om(t,e),e[R].type===1&&e[ee].destroy();let o=e[Nt];if(o!==null&&ot(e[pe])){o!==e[pe]&&Ra(o,e);let r=e[Rt];r!==null&&r.detachView(t)}ra(e)}finally{A(n)}}function td(t,e,n,o){let r=t?.[Pt];if(r?.enter?.has(e.index)&&Qg(n,r.enter.get(e.index).animateFns),r==null||r.leave==null||!r.leave.has(e.index))return o(!1);t&&Lt.add(t[tt]),Xd(n,()=>{if(r.leave&&r.leave.has(e.index)){let s=r.leave.get(e.index),c=[];if(s){for(let u=0;u<s.animateFns.length;u++){let d=s.animateFns[u],{promise:f}=d();c.push(f)}r.detachedLeaveAnimationFns=void 0}r.running=Promise.allSettled(c),nm(t,o)}else t&&Lt.delete(t[tt]),o(!1)},r)}function nm(t,e){let n=t[Pt]?.running;if(n){n.then(()=>{t[Pt].running=void 0,Lt.delete(t[tt]),e(!0)});return}e(!1)}function om(t,e){let n=t.cleanup,o=e[tn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?o[c]():o[-c].unsubscribe(),s+=2}else{let c=o[n[s+1]];n[s].call(c)}o!==null&&(e[tn]=null);let r=e[Ze];if(r!==null){e[Ze]=null;for(let s=0;s<r.length;s++){let c=r[s];c()}}let i=e[pt];if(i!==null){e[pt]=null;for(let s of i)s.destroy()}}function rm(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let r=e[n[o]];if(!(r instanceof Wn)){let i=n[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let c=r[i[s]],u=i[s+1];W($.LifecycleHookStart,c,u);try{u.call(c)}finally{W($.LifecycleHookEnd,c,u)}}else{W($.LifecycleHookStart,r,i);try{i.call(r)}finally{W($.LifecycleHookEnd,r,i)}}}}}function im(t,e,n){return sm(t,e.parent,n)}function sm(t,e,n){let o=e;for(;o!==null&&o.type&168;)e=o,o=e.parent;if(o===null)return n[xe];if(rn(o)){let{encapsulation:r}=t.data[o.directiveStart+o.componentOffset];if(r===Ve.None||r===Ve.Emulated)return null}return ze(o,n)}function am(t,e,n){return cm(t,e,n)}function lm(t,e,n){return t.type&40?ze(t,n):null}var cm=lm,nd;function ka(t,e,n,o){let r=im(t,o,e),i=e[ee],s=o.parent||e[Re],c=am(s,o,e);if(r!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Zu(i,r,n[u],c,!1);else Zu(i,r,n,c,!1);nd!==void 0&&nd(i,o,e,n,r)}function qn(t,e){if(e!==null){let n=e.type;if(n&3)return ze(e,t);if(n&4)return ua(-1,t[e.index]);if(n&8){let o=e.child;if(o!==null)return qn(t,o);{let r=t[e.index];return ot(r)?ua(-1,r):Pe(r)}}else{if(n&128)return qn(t,e.next);if(n&32)return ba(e,t)()||Pe(t[e.index]);{let o=tf(t,e);if(o!==null){if(Array.isArray(o))return o[0];let r=ht(t[De]);return qn(r,o)}else return qn(t,e.next)}}}return null}function tf(t,e){if(e!==null){let o=t[De][Re],r=e.projection;return o.projection[r]}return null}function ua(t,e){let n=te+t+1;if(n<e.length){let o=e[n],r=o[R].firstChild;if(r!==null)return qn(o,r)}return e[on]}function La(t,e,n,o,r,i,s){for(;n!=null;){let c=o[Xe];if(n.type===128){n=n.next;continue}let u=o[n.index],d=n.type;if(s&&e===0&&(u&&gn(Pe(u),o),n.flags|=2),!Ma(n))if(d&8)La(t,e,n.child,o,r,i,!1),pn(e,t,c,r,u,n,i,o);else if(d&32){let f=ba(n,o),p;for(;p=f();)pn(e,t,c,r,p,n,i,o);pn(e,t,c,r,u,n,i,o)}else d&16?um(t,e,o,n,r,i):pn(e,t,c,r,u,n,i,o);n=s?n.projectionNext:n.next}}function _r(t,e,n,o,r,i){La(n,o,t.firstChild,e,r,i,!1)}function um(t,e,n,o,r,i){let s=n[De],u=s[Re].projection[o.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let f=u[d];pn(e,t,n[Xe],r,f,o,i,n)}else{let d=u,f=s[pe];Rd(o)&&(d.flags|=128),La(t,e,d,f,r,i,!0)}}function dm(t,e,n,o,r,i,s){let c=o[on],u=Pe(o);c!==u&&pn(e,t,n,i,c,r,s);for(let d=te;d<o.length;d++){let f=o[d];_r(f[R],f,t,e,i,c)}}function fm(t,e,n,o,r){if(e)r?t.addClass(n,o):t.removeClass(n,o);else{let i=o.indexOf("-")===-1?void 0:st.DashCase;r==null?t.removeStyle(n,o,i):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=st.Important),t.setStyle(n,o,r,i))}}function nf(t,e,n,o,r){let i=mt(),s=o&2;try{yt(-1),s&&e.length>le&&Zd(t,e,le,!1);let c=s?$.TemplateUpdateStart:$.TemplateCreateStart;W(c,r,n),n(o,r)}finally{yt(i);let c=s?$.TemplateUpdateEnd:$.TemplateCreateEnd;W(c,r,n)}}function pm(t,e,n){vm(t,e,n),(n.flags&64)===64&&Em(t,e,n)}function of(t,e,n=ze){let o=e.localNames;if(o!==null){let r=e.index+1;for(let i=0;i<o.length;i+=2){let s=o[i+1],c=s===-1?n(e,t):t[s];t[r++]=c}}}function hm(t,e,n,o){let i=o.get(Hd,Ud)||n===Ve.ShadowDom||n===Ve.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,i);return gm(s),s}function gm(t){mm(t)}var mm=()=>null;function ym(t,e,n,o,r,i){if(t.type&3){let s=ze(t,e);o=i!=null?i(o,t.value||"",n):o,r.setProperty(s,n,o)}else t.type&12}function vm(t,e,n){let o=n.directiveStart,r=n.directiveEnd;rn(n)&&Yg(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Td(n,e);let i=n.initialInputs;for(let s=o;s<r;s++){let c=t.data[s],u=oa(e,t,s,n);if(gn(u,e),i!==null&&Tm(e,s-o,u,c,n,i),sn(c)){let d=rt(n.index,e);d[Q]=oa(e,t,s,n)}}}function Em(t,e,n){let o=n.directiveStart,r=n.directiveEnd,i=n.index,s=Du();try{yt(i);for(let c=o;c<r;c++){let u=t.data[c],d=e[c];Wo(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Im(u,d)}}finally{yt(-1),Wo(s)}}function Im(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _m(t,e,n,o,r,i){let s=ze(t,e);Cm(e[ee],s,i,t.value,n,o,r)}function Cm(t,e,n,o,r,i,s){if(i==null)t.removeAttribute(e,r,n);else{let c=s==null?ys(i):s(i,o||"",r);t.setAttribute(e,r,c,n)}}function Tm(t,e,n,o,r,i){let s=i[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1];ca(o,n,u,d)}}function Sm(t,e,n,o,r){let i=le+n,s=e[R],c=r(s,e,t,o,n);e[i]=c,cn(t,!0);let u=t.type===2;return u?(Jd(e[ee],c,t),(gu()===0||Ns(t))&&gn(c,e),mu()):gn(c,e),Ko()&&(!u||!Ma(t))&&ka(s,e,c,t),t}function wm(t){let e=t;return Fs()?Cu():(e=e.parent,cn(e,!1)),e}function Mm(t,e){let n=t[Xe];if(!n)return;let o;try{o=n.get(fn,null)}catch{o=null}o?.(e)}function Dm(t,e,n,o,r){let i=t.inputs?.[o],s=t.hostDirectiveInputs?.[o],c=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],f=s[u+1],p=e.data[d];ca(p,n[d],f,r),c=!0}if(i)for(let u of i){let d=n[u],f=e.data[u];ca(f,d,o,r),c=!0}return c}function Am(t,e){let n=rt(e,t),o=n[R];bm(o,n);let r=n[xe];r!==null&&n[en]===null&&(n[en]=Bd(r,n[Xe])),W($.ComponentStart);try{Oa(o,n,n[Q])}finally{W($.ComponentEnd,n[Q])}}function bm(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Oa(t,e,n){Jo(e);try{let o=t.viewQuery;o!==null&&ia(1,o,n);let r=t.template;r!==null&&nf(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rt]?.finishViewCreation(t),t.staticContentQueries&&Gd(t,e),t.staticViewQueries&&ia(2,t.viewQuery,n);let i=t.components;i!==null&&Nm(e,i)}catch(o){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),o}finally{e[x]&=-5,Yo()}}function Nm(t,e){for(let n=0;n<e.length;n++)Am(t,e[n])}function Fa(t,e,n,o){let r=A(null);try{let i=e.tView,c=t[x]&4096?4096:16,u=Aa(t,i,n,c,null,e,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),d=t[e.index];u[Nt]=d;let f=t[Rt];return f!==null&&(u[Rt]=f.createEmbeddedView(i)),Oa(i,u,n),u}finally{A(r)}}function Va(t,e){return!e||e.firstChild===null||Rd(t)}function Jn(t,e,n,o,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&o.push(Pe(i)),ot(i)&&rf(i,o);let s=n.type;if(s&8)Jn(t,e,n.child,o);else if(s&32){let c=ba(n,e),u;for(;u=c();)o.push(u)}else if(s&16){let c=tf(e,n);if(Array.isArray(c))o.push(...c);else{let u=ht(e[De]);Jn(u[R],u,c,o,!0)}}n=r?n.projectionNext:n.next}return o}function rf(t,e){for(let n=te;n<t.length;n++){let o=t[n],r=o[R].firstChild;r!==null&&Jn(o[R],o,r,e)}t[on]!==t[xe]&&e.push(t[on])}function sf(t){if(t[$o]!==null){for(let e of t[$o])e.impl.addSequence(e);t[$o].length=0}}var af=[];function xm(t){return t[_e]??Rm(t)}function Rm(t){let e=af.pop()??Object.create(km);return e.lView=t,e}function Pm(t){t.lView[_e]!==t&&(t.lView=null,af.push(t))}var km=se(oe({},$t),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ln(t.lView)},consumerOnSignalRead(){this.lView[_e]=this}});function Lm(t){let e=t[_e]??Object.create(Om);return e.lView=t,e}var Om=se(oe({},$t),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ht(t.lView);for(;e&&!lf(e[R]);)e=ht(e);e&&ks(e)},consumerOnSignalRead(){this.lView[_e]=this}});function lf(t){return t.type!==2}function cf(t){if(t[pt]===null)return;let e=!0;for(;e;){let n=!1;for(let o of t[pt])o.dirty&&(n=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));e=n&&!!(t[x]&8192)}}var Fm=100;function uf(t,e=0){let o=t[et].rendererFactory,r=!1;r||o.begin?.();try{Vm(t,e)}finally{r||o.end?.()}}function Vm(t,e){let n=Vs();try{Rn(!0),da(t,e);let o=0;for(;Bn(t);){if(o===Fm)throw new V(103,!1);o++,da(t,1)}}finally{Rn(n)}}function Um(t,e,n,o){if(kt(e))return;let r=e[x],i=!1,s=!1;Jo(e);let c=!0,u=null,d=null;i||(lf(t)?(d=xm(e),u=Dn(d)):vo()===null?(c=!1,d=Lm(e),u=Dn(d)):e[_e]&&(qt(e[_e]),e[_e]=null));try{Ps(e),Tu(t.bindingStartIndex),n!==null&&nf(t,e,n,2,o);let f=(r&3)===3;if(!i)if(f){let g=t.preOrderCheckHooks;g!==null&&er(e,g,null)}else{let g=t.preOrderHooks;g!==null&&tr(e,g,0,null),Ys(e,0)}if(s||Hm(e),cf(e),df(e,0),t.contentQueries!==null&&Gd(t,e),!i)if(f){let g=t.contentCheckHooks;g!==null&&er(e,g)}else{let g=t.contentHooks;g!==null&&tr(e,g,1),Ys(e,1)}Gm(t,e);let p=t.components;p!==null&&pf(e,p,0);let h=t.viewQuery;if(h!==null&&ia(2,h,o),!i)if(f){let g=t.viewCheckHooks;g!==null&&er(e,g)}else{let g=t.viewHooks;g!==null&&tr(e,g,2),Ys(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Go]){for(let g of e[Go])g();e[Go]=null}i||(sf(e),e[x]&=-73)}catch(f){throw i||ln(e),f}finally{d!==null&&(Eo(d,u),c&&Pm(d)),Yo()}}function df(t,e){for(let n=kd(t);n!==null;n=Ld(n))for(let o=te;o<n.length;o++){let r=n[o];ff(r,e)}}function Hm(t){for(let e=kd(t);e!==null;e=Ld(e)){if(!(e[x]&2))continue;let n=e[Un];for(let o=0;o<n.length;o++){let r=n[o];ks(r)}}}function Bm(t,e,n){W($.ComponentStart);let o=rt(e,t);try{ff(o,n)}finally{W($.ComponentEnd,o[Q])}}function ff(t,e){qo(t)&&da(t,e)}function da(t,e){let o=t[R],r=t[x],i=t[_e],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(i?.dirty&&Io(i)),s||=!1,i&&(i.dirty=!1),t[x]&=-9217,s)Um(o,t,o.template,t[Q]);else if(r&8192){let c=A(null);try{cf(t),df(t,1);let u=o.components;u!==null&&pf(t,u,1),sf(t)}finally{A(c)}}}function pf(t,e,n){for(let o=0;o<e.length;o++)Bm(t,e[o],n)}function Gm(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let r=n[o];if(r<0)yt(~r);else{let i=r,s=n[++o],c=n[++o];Mu(s,i);let u=e[i];W($.HostBindingsUpdateStart,u);try{c(2,u)}finally{W($.HostBindingsUpdateEnd,u)}}}}finally{yt(-1)}}function Ua(t,e){let n=Vs()?64:1088;for(t[et].changeDetectionScheduler?.notify(e);t;){t[x]|=n;let o=ht(t);if(an(t)&&!o)return t;t=o}return null}function $m(t,e,n,o){return[t,!0,0,e,null,o,null,n,null,null]}function hf(t,e){let n=te+e;if(n<t.length)return t[n]}function Ha(t,e,n,o=!0){let r=e[R];if(qm(r,e,t,n),o){let s=ua(n,t),c=e[ee],u=c.parentNode(t[on]);u!==null&&em(r,t[Re],c,e,u,s)}let i=e[en];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function gf(t,e){let n=Ba(t,e);return n!==void 0&&Pa(n[R],n),n}function Ba(t,e){if(t.length<=te)return;let n=te+e,o=t[n];if(o){let r=o[Nt];r!==null&&r!==t&&Ra(r,o),e>0&&(t[n-1][Me]=o[Me]);let i=Is(t,te+e);Xg(o[R],o);let s=i[Rt];s!==null&&s.detachView(i[R]),o[pe]=null,o[Me]=null,o[x]&=-129}return o}function qm(t,e,n,o){let r=te+o,i=n.length;o>0&&(n[r-1][Me]=e),o<i-te?(e[Me]=n[r],eu(n,te+o,e)):(n.push(e),e[Me]=null),e[pe]=n;let s=e[Nt];s!==null&&n!==s&&mf(s,e);let c=e[Rt];c!==null&&c.insertView(t),zo(e),e[x]|=128}function mf(t,e){let n=t[Un],o=e[pe];if(nt(o))t[x]|=2;else{let r=o[pe][De];e[De]!==r&&(t[x]|=2)}n===null?t[Un]=[e]:n.push(e)}var sr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[R];return Jn(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Q]}set context(e){this._lView[Q]=e}get destroyed(){return kt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pe];if(ot(e)){let n=e[cu],o=n?n.indexOf(this):-1;o>-1&&(Ba(e,o),Is(n,o))}this._attachedToViewContainer=!1}Pa(this._lView[R],this._lView)}onDestroy(e){Ls(this._lView,e)}markForCheck(){Ua(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){zo(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,uf(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=an(this._lView),n=this._lView[Nt];n!==null&&!e&&Ra(n,this._lView),ef(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=an(this._lView),o=this._lView[Nt];o!==null&&!n&&mf(o,this._lView),zo(this._lView)}};function Cr(t,e,n,o,r){let i=t.data[e];if(i===null)i=zm(t,e,n,o,r),wu()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=o,i.attrs=r;let s=_u();i.injectorIndex=s===null?-1:s.injectorIndex}return cn(i,!0),i}function zm(t,e,n,o,r){let i=Os(),s=Fs(),c=s?i:i&&i.parent,u=t.data[e]=Jm(t,c,n,e,o,r);return Wm(t,u,i,s),u}function Wm(t,e,n,o){t.firstChild===null&&(t.firstChild=e),n!==null&&(o?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Jm(t,e,n,o,r,i){let s=e?e.injectorIndex:-1,c=0;return vu()&&(c|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ym(t){let e=t[As]??[],o=t[pe][ee],r=[];for(let i of e)i.data[Vd]!==void 0?r.push(i):Km(i,o);t[As]=r}function Km(t,e){let n=0,o=t.firstChild;if(o){let r=t.data[Fd];for(;n<r;){let i=o.nextSibling;Wd(e,o,!1),o=i,n++}}}var jm=()=>null,Zm=()=>null;function Qm(t,e){return jm(t,e)}function yf(t,e,n){return Zm(t,e,n)}var vf=class{},Tr=class{},fa=class{resolveComponentFactory(e){throw new V(917,!1)}},Sr=class{static NULL=new fa},Ot=class{};var Ef=(()=>{class t{static \u0275prov=Z({token:t,providedIn:"root",factory:()=>null})}return t})();var nr={},pa=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,o){let r=this.injector.get(e,nr,o);return r!==nr||n===nr?r:this.parentInjector.get(e,n,o)}};function ar(t,e,n){let o=n?t.styles:null,r=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")i=c;else if(i==1)r=us(r,c);else if(i==2){let u=c,d=e[++s];o=us(o,u+": "+d+";")}}n?t.styles=o:t.stylesWithoutHost=o,n?t.classes=r:t.classesWithoutHost=r}function If(t,e=0){let n=j();if(n===null)return z(t,e);let o=it();return Ad(o,n,Ie(t),e)}function Xm(t,e,n,o,r){let i=o===null?null:{"":-1},s=r(t,n);if(s!==null){let c=s,u=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,d]=f.resolveHostDirectives(s);break}ny(t,e,n,c,i,u,d)}i!==null&&o!==null&&ey(n,o,i)}function ey(t,e,n){let o=t.localNames=[];for(let r=0;r<e.length;r+=2){let i=n[e[r+1]];if(i==null)throw new V(-301,!1);o.push(e[r],i)}}function ty(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ny(t,e,n,o,r,i,s){let c=o.length,u=null;for(let h=0;h<c;h++){let g=o[h];u===null&&sn(g)&&(u=g,ty(t,n,h)),_g(Td(n,e),t,g.type)}ly(n,t.data.length,c),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let h=0;h<c;h++){let g=o[h];g.providersResolver&&g.providersResolver(g)}let d=!1,f=!1,p=Kd(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let h=0;h<c;h++){let g=o[h];if(n.mergedAttrs=gr(n.mergedAttrs,g.hostAttrs),ry(t,n,e,p,g),ay(p,g,r),s!==null&&s.has(g)){let[v,_]=s.get(g);n.directiveToIndex.set(g.type,[p,v+n.directiveStart,_+n.directiveStart])}else(i===null||!i.has(g))&&n.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let m=g.type.prototype;!d&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}oy(t,n,i)}function oy(t,e,n){for(let o=e.directiveStart;o<e.directiveEnd;o++){let r=t.data[o];if(n===null||!n.has(r))od(0,e,r,o),od(1,e,r,o),id(e,o,!1);else{let i=n.get(r);rd(0,e,i,o),rd(1,e,i,o),id(e,o,!0)}}}function od(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(o),_f(e,i)}}function rd(t,e,n,o){let r=t===0?n.inputs:n.outputs;for(let i in r)if(r.hasOwnProperty(i)){let s=r[i],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(o,i),_f(e,s)}}function _f(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function id(t,e,n){let{attrs:o,inputs:r,hostDirectiveInputs:i}=t;if(o===null||!n&&r===null||n&&i===null||Gg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<o.length;){let u=o[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&r.hasOwnProperty(u)){let d=r[u];for(let f of d)if(f===e){s??=[],s.push(u,o[c+1]);break}}else if(n&&i.hasOwnProperty(u)){let d=i[u];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],o[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function ry(t,e,n,o,r){t.data[o]=r;let i=r.factory||(r.factory=Qt(r.type,!0)),s=new Wn(i,sn(r),If,null);t.blueprint[o]=s,n[o]=s,iy(t,e,o,Kd(t,n,r.hostVars,at),r)}function iy(t,e,n,o,r){let i=r.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;sy(s)!=c&&s.push(c),s.push(n,o,i)}}function sy(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ay(t,e,n){if(n){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)n[e.exportAs[o]]=t;sn(e)&&(n[""]=t)}}function ly(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function cy(t,e,n,o,r,i,s,c){let u=e[R],d=u.consts,f=We(d,s),p=Cr(u,t,n,o,f);return i&&Xm(u,e,p,We(d,c),r),p.mergedAttrs=gr(p.mergedAttrs,p.attrs),p.attrs!==null&&ar(p,p.attrs,!1),p.mergedAttrs!==null&&ar(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function uy(t,e){fg(t,e),bs(e)&&t.queries.elementEnd(e)}function dy(t,e,n,o,r,i){let s=e.consts,c=We(s,r),u=Cr(e,t,n,o,c);if(u.mergedAttrs=gr(u.mergedAttrs,u.attrs),i!=null){let d=We(s,i);u.localNames=[];for(let f=0;f<d.length;f+=2)u.localNames.push(d[f],-1)}return u.attrs!==null&&ar(u,u.attrs,!1),u.mergedAttrs!==null&&ar(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function yn(t,e,n){if(n===at)return!1;let o=t[e];return Object.is(o,n)?!1:(t[e]=n,!0)}function or(t,e,n){return function o(r){let i=rn(t)?rt(t.index,e):e;Ua(i,5);let s=e[Q],c=sd(e,s,n,r),u=o.__ngNextListenerFn__;for(;u;)c=sd(e,s,u,r)&&c,u=u.__ngNextListenerFn__;return c}}function sd(t,e,n,o){let r=A(null);try{return W($.OutputStart,e,n),n(o)!==!1}catch(i){return Mm(t,i),!1}finally{W($.OutputEnd,e,n),A(r)}}function Cf(t,e,n,o,r,i,s,c){let u=Ns(t),d=!1,f=null;if(!o&&u&&(f=py(e,n,i,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let p=ze(t,n),h=o?o(p):p;kg(n,h,i,c);let g=r.listen(h,i,c);if(!fy(i)){let m=o?v=>o(Pe(v[t.index])):t.index;Tf(m,e,n,i,c,g,!1)}}return d}function fy(t){return t.startsWith("animation")||t.startsWith("transition")}function py(t,e,n,o){let r=t.cleanup;if(r!=null)for(let i=0;i<r.length-1;i+=2){let s=r[i];if(s===n&&r[i+1]===o){let c=e[tn],u=r[i+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(i+=2)}return null}function Tf(t,e,n,o,r,i,s){let c=e.firstCreatePass?hu(e):null,u=pu(n),d=u.length;u.push(r,i),c&&c.push(o,t,d,(d+1)*(s?-1:1))}function ad(t,e,n,o,r,i){let s=e[n],c=e[R],d=c.data[n].outputs[o],p=s[d].subscribe(i);Tf(t.index,c,e,r,i,p,!0)}var ha=Symbol("BINDING");var ga=class extends Sr{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ln(e);return new lr(n,this.ngModule)}};function hy(t){return Object.keys(t).map(e=>{let[n,o,r]=t[e],i={propName:n,templateName:e,isSignal:(o&Ir.SignalBased)!==0};return r&&(i.transform=r),i})}function gy(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function my(t,e,n){let o=e instanceof Ne?e:e?.injector;return o&&t.getStandaloneInjector!==null&&(o=t.getStandaloneInjector(o)||o),o?new pa(n,o):n}function yy(t){let e=t.get(Ot,null);if(e===null)throw new V(407,!1);let n=t.get(Ef,null),o=t.get(Mt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:o,ngReflect:!1}}function vy(t,e){let n=Sf(t);return qd(e,n,n==="svg"?xs:n==="math"?uu:null)}function Sf(t){return(t.selectors[0][0]||"div").toLowerCase()}var lr=class extends Tr{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=hy(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=gy(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qg(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,o,r,i,s){W($.DynamicComponentStart);let c=A(null);try{let u=this.componentDef,d=Ey(o,u,s,i),f=my(u,r||this.ngModule,e),p=yy(f),h=p.rendererFactory.createRenderer(null,u),g=o?hm(h,o,u.encapsulation,f):vy(u,h),m=s?.some(ld)||i?.some(I=>typeof I!="function"&&I.bindings.some(ld)),v=Aa(null,d,null,512|Yd(u),null,null,p,h,f,null,Bd(g,f,!0));v[le]=g,Jo(v);let _=null;try{let I=cy(le,v,2,"#host",()=>d.directiveRegistry,!0,0);Jd(h,g,I),gn(g,v),pm(d,v,I),Og(d,I,v),uy(d,I),n!==void 0&&_y(I,this.ngContentSelectors,n),_=rt(I.index,v),v[Q]=_[Q],Oa(d,v,null)}catch(I){throw _!==null&&ra(_),ra(v),I}finally{W($.DynamicComponentEnd),Yo()}return new cr(this.componentType,v,!!m)}finally{A(c)}}};function Ey(t,e,n,o){let r=t?["ng-version","21.1.3"]:zg(e.selectors[0]),i=null,s=null,c=0;if(n)for(let f of n)c+=f[ha].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(o)for(let f=0;f<o.length;f++){let p=o[f];if(typeof p!="function")for(let h of p.bindings){c+=h[ha].requiredVars;let g=f+1;h.create&&(h.targetIdx=g,(i??=[]).push(h)),h.update&&(h.targetIdx=g,(s??=[]).push(h))}}let u=[e];if(o)for(let f of o){let p=typeof f=="function"?f:f.type,h=gs(p);u.push(h)}return Da(0,null,Iy(i,s),1,c,u,null,null,null,[r],null)}function Iy(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let o of t)o.create();if(n&2&&e)for(let o of e)o.update()}}function ld(t){let e=t[ha].kind;return e==="input"||e==="twoWay"}var cr=class extends vf{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,o){super(),this._rootLView=n,this._hasInputBindings=o,this._tNode=Hn(n[R],le),this.location=xd(this._tNode,n),this.instance=rt(this._tNode.index,n)[Q],this.hostView=this.changeDetectorRef=new sr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,i=Dm(o,r[R],r,e,n);this.previousInputValues.set(e,n);let s=rt(o.index,r);Ua(s,1)}get injector(){return new ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _y(t,e,n){let o=t.projection=[];for(let r=0;r<e.length;r++){let i=n[r];o.push(i!=null&&i.length?Array.from(i):null)}}var Cy=()=>!1;function Ty(t,e,n){return Cy(t,e,n)}var ur=class{};var Yn=class extends ur{injector;componentFactoryResolver=new ga(this);instance=null;constructor(e){super();let n=new wt([...e.providers,{provide:ur,useValue:this},{provide:Sr,useValue:this.componentFactoryResolver}],e.parent||Vn(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function wf(t,e,n=null){return new Yn({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Sy=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let o=Ss(!1,n.type),r=o.length>0?wf([o],this._injector,""):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Z({token:t,providedIn:"environment",factory:()=>new t(z(Ne))})}return t})();function Ga(t){return md(()=>{let e=Ay(t),n=se(oe({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Sa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(Sy).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ve.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Vt("NgStandalone"),by(n);let o=t.dependencies;return n.directiveDefs=cd(o,wy),n.pipeDefs=cd(o,jc),n.id=Ny(n),n})}function wy(t){return Ln(t)||gs(t)}function My(t,e){if(t==null)return At;let n={};for(let o in t)if(t.hasOwnProperty(o)){let r=t[o],i,s,c,u;Array.isArray(r)?(c=r[0],i=r[1],s=r[2]??i,u=r[3]||null):(i=r,s=r,c=Ir.None,u=null),n[i]=[o,c,u],e[i]=s}return n}function Dy(t){if(t==null)return At;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ay(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||At,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:My(t.inputs,e),outputs:Dy(t.outputs),debugInfo:null}}function by(t){t.features?.forEach(e=>e(t))}function cd(t,e){return t?()=>{let n=typeof t=="function"?t():t,o=[];for(let r of n){let i=e(r);i!==null&&o.push(i)}return o}:null}function Ny(t){let e=0,n=typeof t.consts=="function"?"":t.consts,o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of o.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function xy(t,e,n,o,r,i,s,c){if(n.firstCreatePass){t.mergedAttrs=gr(t.mergedAttrs,t.attrs);let f=t.tView=Da(2,t,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}c&&(t.flags|=c),cn(t,!1);let u=Ry(n,e,t,o);Ko()&&ka(n,e,u,t),gn(u,e);let d=$m(u,e,u,t);e[o+le]=d,jd(e,d),Ty(d,t,e)}function dr(t,e,n,o,r,i,s,c,u,d,f){let p=n+le,h;if(e.firstCreatePass){if(h=Cr(e,p,4,s||null,c||null),d!=null){let g=We(e.consts,d);h.localNames=[];for(let m=0;m<g.length;m+=2)h.localNames.push(g[m],-1)}}else h=e.data[p];return xy(h,t,e,n,o,r,i,u),d!=null&&of(t,h,f),h}var Ry=Py;function Py(t,e,n,o){return jo(!0),e[ee].createComment("")}var $a=new B("");function qa(t){return!!t&&typeof t.then=="function"}function Mf(t){return!!t&&typeof t.subscribe=="function"}var Df=new B("");var za=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o});appInits=G(Df,{optional:!0})??[];injector=G(gt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let i=Bo(this.injector,r);if(qa(i))n.push(i);else if(Mf(i)){let s=new Promise((c,u)=>{i.subscribe({complete:c,error:u})});n.push(s)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(r=>{this.reject(r)}),n.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Af=new B("");function bf(){Li(()=>{let t="";throw new V(600,t)})}function Nf(t){return t.isBoundToModule}var ky=10;var wr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=G(fn);afterRenderManager=G(Qd);zonelessEnabled=G($n);rootEffectScheduler=G(Qo);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ut;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=G(dn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ji(n=>!n))}constructor(){G(Qn,{optional:!0})}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:r=>{r&&o()}})}).finally(()=>{n.unsubscribe()})}_injector=G(Ne);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,o){return this.bootstrapImpl(n,o)}bootstrapImpl(n,o,r=gt.NULL){return this._injector.get(we).run(()=>{W($.BootstrapComponentStart);let s=n instanceof Tr;if(!this._injector.get(za).done){let m="";throw new V(405,m)}let u;s?u=n:u=this._injector.get(Sr).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let d=Nf(u)?void 0:this._injector.get(ur),f=o||u.selector,p=u.create(r,[],f,d),h=p.location.nativeElement,g=p.injector.get($a,null);return g?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),zn(this.components,p),g?.unregisterApplication(h)}),this._loadComponent(p),W($.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){W($.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Na.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw W($.ChangeDetectionEnd),new V(101,!1);let n=A(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,A(n),this.afterTick.next(),W($.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ot,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<ky;){W($.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{W($.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!o&&!Bn(r))continue;let i=o&&!this.zonelessEnabled?0:1;uf(r,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Bn(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){let o=n;zn(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(Af,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>zn(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zn(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vt(t,e,n,o){let r=j(),i=un();if(yn(r,i,e)){let s=ke(),c=Gs();_m(c,r,t,e,n,o)}return vt}var YA=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var ma=class{destroy(e){}updateValue(e,n){}swap(e,n){let o=Math.min(e,n),r=Math.max(e,n),i=this.detach(r);if(r-o>1){let s=this.detach(o);this.attach(o,i),this.attach(r,s)}else this.attach(o,i)}move(e,n){this.attach(n,this.detach(e))}};function Zs(t,e,n,o,r){return t===n&&Object.is(e,o)?1:Object.is(r(t,e),r(n,o))?-1:0}function Ly(t,e,n,o){let r,i,s=0,c=t.length-1,u=void 0;if(Array.isArray(e)){A(o);let d=e.length-1;for(A(null);s<=c&&s<=d;){let f=t.at(s),p=e[s],h=Zs(s,f,s,p,n);if(h!==0){h<0&&t.updateValue(s,p),s++;continue}let g=t.at(c),m=e[d],v=Zs(c,g,d,m,n);if(v!==0){v<0&&t.updateValue(c,m),c--,d--;continue}let _=n(s,f),I=n(c,g),M=n(s,p);if(Object.is(M,I)){let w=n(d,m);Object.is(w,_)?(t.swap(s,c),t.updateValue(c,m),d--,c--):t.move(c,s),t.updateValue(s,p),s++;continue}if(r??=new fr,i??=dd(t,s,c,n),ya(t,r,s,M))t.updateValue(s,p),s++,c++;else if(i.has(M))r.set(_,t.detach(s)),c--;else{let w=t.create(s,e[s]);t.attach(s,w),s++,c++}}for(;s<=d;)ud(t,r,n,s,e[s]),s++}else if(e!=null){A(o);let d=e[Symbol.iterator]();A(null);let f=d.next();for(;!f.done&&s<=c;){let p=t.at(s),h=f.value,g=Zs(s,p,s,h,n);if(g!==0)g<0&&t.updateValue(s,h),s++,f=d.next();else{r??=new fr,i??=dd(t,s,c,n);let m=n(s,h);if(ya(t,r,s,m))t.updateValue(s,h),s++,c++,f=d.next();else if(!i.has(m))t.attach(s,t.create(s,h)),s++,c++,f=d.next();else{let v=n(s,p);r.set(v,t.detach(s)),c--}}}for(;!f.done;)ud(t,r,n,t.length,f.value),f=d.next()}for(;s<=c;)t.destroy(t.detach(c--));r?.forEach(d=>{t.destroy(d)})}function ya(t,e,n,o){return e!==void 0&&e.has(o)?(t.attach(n,e.get(o)),e.delete(o),!0):!1}function ud(t,e,n,o,r){if(ya(t,e,o,n(o,r)))t.updateValue(o,r);else{let i=t.create(o,r);t.attach(o,i)}}function dd(t,e,n,o){let r=new Set;for(let i=e;i<=n;i++)r.add(o(i,t.at(i)));return r}var fr=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let o=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(o);)o=r.get(o);r.set(o,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,o]of this.kvMap)if(e(o,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(o);)o=r.get(o),e(o,n)}}};function Ce(t,e,n,o,r,i,s,c){Vt("NgControlFlow");let u=j(),d=ke(),f=We(d.consts,i);return dr(u,d,t,e,n,o,r,f,256,s,c),Wa}function Wa(t,e,n,o,r,i,s,c){Vt("NgControlFlow");let u=j(),d=ke(),f=We(d.consts,i);return dr(u,d,t,e,n,o,r,f,512,s,c),Wa}function Te(t,e){Vt("NgControlFlow");let n=j(),o=un(),r=n[o]!==at?n[o]:-1,i=r!==-1?pr(n,le+r):void 0,s=0;if(yn(n,o,t)){let c=A(null);try{if(i!==void 0&&gf(i,s),t!==-1){let u=le+t,d=pr(n,u),f=_a(n[R],u),p=yf(d,f,n),h=Fa(n,f,e,{dehydratedView:p});Ha(d,h,s,Va(f,p))}}finally{A(c)}}else if(i!==void 0){let c=hf(i,s);c!==void 0&&(c[Q]=e)}}var va=class{lContainer;$implicit;$index;constructor(e,n,o){this.lContainer=e,this.$implicit=n,this.$index=o}get $count(){return this.lContainer.length-te}};function Ja(t,e){return e}var Ea=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,o){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=o}};function Mr(t,e,n,o,r,i,s,c,u,d,f,p,h){Vt("NgControlFlow");let g=j(),m=ke(),v=u!==void 0,_=j(),I=c?s.bind(_[De][Q]):s,M=new Ea(v,I);_[le+t]=M,dr(g,m,t+1,e,n,o,r,We(m.consts,i),256),v&&dr(g,m,t+2,u,d,f,p,We(m.consts,h),512)}var Ia=class extends ma{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,o){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=o}get length(){return this.lContainer.length-te}at(e){return this.getLView(e)[Q].$implicit}attach(e,n){let o=n[en];this.needsIndexUpdate||=e!==this.length,Ha(this.lContainer,n,e,Va(this.templateTNode,o)),Oy(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Fy(this.lContainer,e),Vy(this.lContainer,e)}create(e,n){let o=Qm(this.lContainer,this.templateTNode.tView.ssrId);return Fa(this.hostLView,this.templateTNode,new va(this.lContainer,n,e),{dehydratedView:o})}destroy(e){Pa(e[R],e)}updateValue(e,n){this.getLView(e)[Q].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Q].$index=e}getLView(e){return Uy(this.lContainer,e)}};function Dr(t){let e=A(null),n=mt();try{let o=j(),r=o[R],i=o[n],s=n+1,c=pr(o,s);if(i.liveCollection===void 0){let d=_a(r,s);i.liveCollection=new Ia(c,o,d)}else i.liveCollection.reset();let u=i.liveCollection;if(Ly(u,t,i.trackByFn,e),u.updateIndexes(),i.hasEmptyBlock){let d=un(),f=u.length===0;if(yn(o,d,f)){let p=n+2,h=pr(o,p);if(f){let g=_a(r,p),m=yf(h,g,o),v=Fa(o,g,void 0,{dehydratedView:m});Ha(h,v,0,Va(g,m))}else r.firstUpdatePass&&Ym(h),gf(h,0)}}}finally{A(e)}}function pr(t,e){return t[e]}function Oy(t,e){if(t.length<=te)return;let n=te+e,o=t[n],r=o?o[Pt]:void 0;if(o&&r&&r.detachedLeaveAnimationFns&&r.detachedLeaveAnimationFns.length>0){let i=o[Xe];jg(i,r),Lt.delete(o[tt]),r.detachedLeaveAnimationFns=void 0}}function Fy(t,e){if(t.length<=te)return;let n=te+e,o=t[n],r=o?o[Pt]:void 0;r&&r.leave&&r.leave.size>0&&(r.detachedLeaveAnimationFns=[])}function Vy(t,e){return Ba(t,e)}function Uy(t,e){return hf(t,e)}function _a(t,e){return Hn(t,e)}function y(t,e,n,o){let r=j(),i=r[R],s=t+le,c=i.firstCreatePass?dy(s,i,2,e,n,o):i.data[s];return Sm(c,r,t,e,Hy),o!=null&&of(r,c),y}function E(){let t=it(),e=wm(t);return Eu(e)&&Iu(),yu(),E}function F(t,e,n,o){return y(t,e,n,o),E(),F}var Hy=(t,e,n,o,r)=>(jo(!0),qd(e[ee],o,Pu()));function vn(){return j()}function Xn(t,e,n){let o=j(),r=un();if(yn(o,r,e)){let i=ke(),s=Gs();ym(s,o,t,e,o[ee],n)}return Xn}var eo="en-US";var By=eo;function xf(t){typeof t=="string"&&(By=t.toLowerCase().replace(/_/g,"-"))}function Ar(t,e,n){let o=j(),r=ke(),i=it();return Gy(r,o,o[ee],i,t,e,n),Ar}function re(t,e,n){let o=j(),r=ke(),i=it();return(i.type&3||n)&&Cf(i,r,o,n,o[ee],t,e,or(i,o,e)),re}function Gy(t,e,n,o,r,i,s){let c=!0,u=null;if((o.type&3||s)&&(u??=or(o,e,i),Cf(o,t,e,s,n,r,i,u)&&(c=!1)),c){let d=o.outputs?.[r],f=o.hostDirectiveOutputs?.[r];if(f&&f.length)for(let p=0;p<f.length;p+=2){let h=f[p],g=f[p+1];u??=or(o,e,i),ad(o,e,h,g,r,u)}if(d&&d.length)for(let p of d)u??=or(o,e,i),ad(o,e,p,r,r,u)}}function Ue(t=1){return Ru(t)}function Xo(t,e){return t<<17|e<<2}function Ft(t){return t>>17&32767}function $y(t){return(t&2)==2}function qy(t,e){return t&131071|e<<17}function Ca(t){return t|2}function mn(t){return(t&131068)>>2}function Qs(t,e){return t&-131069|e<<2}function zy(t){return(t&1)===1}function Ta(t){return t|1}function Wy(t,e,n,o,r,i){let s=i?e.classBindings:e.styleBindings,c=Ft(s),u=mn(s);t[o]=n;let d=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Xt(p,f)>0)&&(d=!0)}else f=n;if(r)if(u!==0){let h=Ft(t[c+1]);t[o+1]=Xo(h,c),h!==0&&(t[h+1]=Qs(t[h+1],o)),t[c+1]=qy(t[c+1],o)}else t[o+1]=Xo(c,0),c!==0&&(t[c+1]=Qs(t[c+1],o)),c=o;else t[o+1]=Xo(u,0),c===0?c=o:t[u+1]=Qs(t[u+1],o),u=o;d&&(t[o+1]=Ca(t[o+1])),fd(t,f,o,!0),fd(t,f,o,!1),Jy(e,f,t,o,i),s=Xo(c,u),i?e.classBindings=s:e.styleBindings=s}function Jy(t,e,n,o,r){let i=r?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Xt(i,e)>=0&&(n[o+1]=Ta(n[o+1]))}function fd(t,e,n,o){let r=t[n+1],i=e===null,s=o?Ft(r):mn(r),c=!1;for(;s!==0&&(c===!1||i);){let u=t[s],d=t[s+1];Yy(u,e)&&(c=!0,t[s+1]=o?Ta(d):Ca(d)),s=o?Ft(d):mn(d)}c&&(t[n+1]=o?Ca(r):Ta(r))}function Yy(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Xt(t,e)>=0:!1}function br(t,e,n){return Rf(t,e,n,!1),br}function Ye(t,e){return Rf(t,e,null,!0),Ye}function Rf(t,e,n,o){let r=j(),i=ke(),s=Su(2);if(i.firstUpdatePass&&jy(i,t,s,o),e!==at&&yn(r,s,e)){let c=i.data[mt()];tv(i,c,r,r[ee],t,r[s+1]=nv(e,n),o,s)}}function Ky(t,e){return e>=t.expandoStartIndex}function jy(t,e,n,o){let r=t.data;if(r[n+1]===null){let i=r[mt()],s=Ky(t,n);ov(i,o)&&e===null&&!s&&(e=!1),e=Zy(r,i,e,o),Wy(r,i,e,n,s,o)}}function Zy(t,e,n,o){let r=Au(t),i=o?e.residualClasses:e.residualStyles;if(r===null)(o?e.classBindings:e.styleBindings)===0&&(n=Xs(null,t,e,n,o),n=Kn(n,e.attrs,o),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Xs(r,t,e,n,o),i===null){let u=Qy(t,e,o);u!==void 0&&Array.isArray(u)&&(u=Xs(null,t,e,u[1],o),u=Kn(u,e.attrs,o),Xy(t,e,o,u))}else i=ev(t,e,o)}return i!==void 0&&(o?e.residualClasses=i:e.residualStyles=i),n}function Qy(t,e,n){let o=n?e.classBindings:e.styleBindings;if(mn(o)!==0)return t[Ft(o)]}function Xy(t,e,n,o){let r=n?e.classBindings:e.styleBindings;t[Ft(r)]=o}function ev(t,e,n){let o,r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++){let s=t[i].hostAttrs;o=Kn(o,s,n)}return Kn(o,e.attrs,n)}function Xs(t,e,n,o,r){let i=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(i=e[c],o=Kn(o,i.hostAttrs,r),i!==t);)c++;return t!==null&&(n.directiveStylingLast=c),o}function Kn(t,e,n){let o=n?1:2,r=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?r=s:r===o&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),nu(t,s,n?!0:e[++i]))}return t===void 0?null:t}function tv(t,e,n,o,r,i,s,c){if(!(e.type&3))return;let u=t.data,d=u[c+1],f=zy(d)?pd(u,e,n,r,mn(d),s):void 0;if(!hr(f)){hr(i)||$y(d)&&(i=pd(u,null,n,r,c,s));let p=Rs(mt(),n);fm(o,s,p,r,i)}}function pd(t,e,n,o,r,i){let s=e===null,c;for(;r>0;){let u=t[r],d=Array.isArray(u),f=d?u[1]:u,p=f===null,h=n[r+1];h===at&&(h=p?ft:void 0);let g=p?Ho(h,o):f===o?h:void 0;if(d&&!hr(g)&&(g=Ho(u,o)),hr(g)&&(c=g,s))return c;let m=t[r+1];r=s?Ft(m):mn(m)}if(e!==null){let u=i?e.residualClasses:e.residualStyles;u!=null&&(c=Ho(u,o))}return c}function hr(t){return t!==void 0}function nv(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dt($d(t)))),t}function ov(t,e){return(t.flags&(e?8:16))!==0}function T(t,e=""){let n=j(),o=ke(),r=t+le,i=o.firstCreatePass?Cr(o,r,1,e,null):o.data[r],s=rv(o,n,i,e);n[r]=s,Ko()&&ka(o,n,s,i),cn(i,!1)}var rv=(t,e,n,o)=>(jo(!0),Fg(e[ee],o));function iv(t,e,n,o=""){return yn(t,un(),n)?e+ys(n)+o:at}function Nr(t){return Ya("",t),Nr}function Ya(t,e,n){let o=j(),r=iv(o,t,e,n);return r!==at&&sv(o,mt(),r),Ya}function sv(t,e,n){let o=Rs(e,t);Vg(t[ee],o,n)}var Pf=(()=>{class t{applicationErrorHandler=G(fn);appRef=G(wr);taskService=G(dn);ngZone=G(we);zonelessEnabled=G($n);tracing=G(Qn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pn):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(G(Ws,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?Vu:$s;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pn+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){this.applicationErrorHandler(o)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(o){return new(o||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ka(){return Vt("NgZoneless"),Ts([...ja(),[]])}function ja(){return[{provide:Mt,useExisting:Pf},{provide:we,useClass:kn},{provide:$n,useValue:!0}]}function av(){return typeof $localize<"u"&&$localize.locale||eo}var Za=new B("",{factory:()=>G(Za,{optional:!0,skipSelf:!0})||av()});function Qa(t,e){return _o(t,e?.equal)}var Xa=new B(""),gv=new B("");function to(t){return!t.moduleRef}function mv(t){let e=to(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{to(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let o=e.get(fn),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o})}),to(t)){let i=()=>e.destroy(),s=t.platformInjector.get(Xa);s.add(i),e.onDestroy(()=>{r.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Xa);s.add(i),t.moduleRef.onDestroy(()=>{zn(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(i)})}return vv(o,n,()=>{let i=e.get(dn),s=i.add(),c=e.get(za);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Za,eo);if(xf(u||eo),!e.get(gv,!0))return to(t)?e.get(wr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(to(t)){let f=e.get(wr);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return yv?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{i.remove(s)})})})}var yv;function vv(t,e,n){try{let o=n();return qa(o)?o.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):o}catch(o){throw e.runOutsideAngular(()=>t(o)),o}}var xr=null;function Ev(t=[],e){return gt.create({name:e,providers:[{provide:Fn,useValue:"platform"},{provide:Xa,useValue:new Set([()=>xr=null])},...t]})}function Iv(t=[]){if(xr)return xr;let e=Ev(t);return xr=e,bf(),_v(e),e}function _v(t){let e=t.get(vr,null);Bo(t,()=>{e?.forEach(n=>n())})}var Cv=1e4;var aL=Cv-1e3;function kf(t){let{rootComponent:e,appProviders:n,platformProviders:o,platformRef:r}=t;W($.BootstrapApplicationStart);try{let i=r?.injector??Iv(o),s=[ja(),Hu,...n||[]],c=new Yn({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return mv({r3Injector:c.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{W($.BootstrapApplicationEnd)}}var Lf=null;function oo(){return Lf}function el(t){Lf??=t}var no=class{};function tl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let o=n.indexOf("="),[r,i]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}var ro=class{};var Of="browser";var io=class{_doc;constructor(e){this._doc=e}manager},Pr=(()=>{class t extends io{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r,i){return n.addEventListener(o,r,i),()=>this.removeEventListener(n,o,r,i)}removeEventListener(n,o,r,i){return n.removeEventListener(o,r,i)}static \u0275fac=function(o){return new(o||t)(z(Fe))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),Or=new B(""),il=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,o){this._zone=o,n.forEach(s=>{s.manager=this});let r=n.filter(s=>!(s instanceof Pr));this._plugins=r.slice().reverse();let i=n.find(s=>s instanceof Pr);i&&this._plugins.push(i)}addEventListener(n,o,r,i){return this._findPluginFor(o).addEventListener(n,o,r,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(i=>i.supports(n)),!o)throw new V(5101,!1);return this._eventNameToPlugin.set(n,o),o}static \u0275fac=function(o){return new(o||t)(z(Or),z(we))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),nl="ng-app-id";function Ff(t){for(let e of t)e.remove()}function Vf(t,e){let n=e.createElement("style");return n.textContent=t,n}function Tv(t,e,n,o){let r=t.head?.querySelectorAll(`style[${nl}="${e}"],link[${nl}="${e}"]`);if(r)for(let i of r)i.removeAttribute(nl),i instanceof HTMLLinkElement?o.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function rl(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var sl=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,o,r,i={}){this.doc=n,this.appId=o,this.nonce=r,Tv(n,o,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,o){for(let r of n)this.addUsage(r,this.inline,Vf);o?.forEach(r=>this.addUsage(r,this.external,rl))}removeStyles(n,o){for(let r of n)this.removeUsage(r,this.inline);o?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,o,r){let i=o.get(n);i?i.usage++:o.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,o){let r=o.get(n);r&&(r.usage--,r.usage<=0&&(Ff(r.elements),o.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Ff(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[o,{elements:r}]of this.inline)r.push(this.addElement(n,Vf(o,this.doc)));for(let[o,{elements:r}]of this.external)r.push(this.addElement(n,rl(o,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,o){return this.nonce&&o.setAttribute("nonce",this.nonce),n.appendChild(o)}static \u0275fac=function(o){return new(o||t)(z(Fe),z(yr),z(Er,8),z(jn))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),ol={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},al=/%COMP%/g;var Hf="%COMP%",Sv=`_nghost-${Hf}`,wv=`_ngcontent-${Hf}`,Mv=!0,Dv=new B("",{factory:()=>Mv});function Av(t){return wv.replace(al,t)}function bv(t){return Sv.replace(al,t)}function Bf(t,e){return e.map(n=>n.replace(al,t))}var ll=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,o,r,i,s,c,u=null,d=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=c,this.nonce=u,this.tracingService=d,this.defaultRenderer=new so(n,s,c,this.tracingService)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,o);return r instanceof Lr?r.applyToHost(n):r instanceof ao&&r.applyStyles(),r}getOrCreateRenderer(n,o){let r=this.rendererByCompId,i=r.get(o.id);if(!i){let s=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(o.encapsulation){case Ve.Emulated:i=new Lr(u,d,o,this.appId,f,s,c,p);break;case Ve.ShadowDom:return new kr(u,n,o,s,c,this.nonce,p,d);case Ve.ExperimentalIsolatedShadowDom:return new kr(u,n,o,s,c,this.nonce,p);default:i=new ao(u,d,o,f,s,c,p);break}r.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(o){return new(o||t)(z(il),z(sl),z(yr),z(Dv),z(Fe),z(we),z(Er),z(Qn,8))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),so=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,o,r){this.eventManager=e,this.doc=n,this.ngZone=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(ol[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Uf(e)?e.content:e).appendChild(n)}insertBefore(e,n,o){e&&(Uf(e)?e.content:e).insertBefore(n,o)}removeChild(e,n){n.remove()}selectRootElement(e,n){let o=typeof e=="string"?this.doc.querySelector(e):e;if(!o)throw new V(-5104,!1);return n||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,o,r){if(r){n=r+":"+n;let i=ol[r];i?e.setAttributeNS(i,n,o):e.setAttribute(n,o)}else e.setAttribute(n,o)}removeAttribute(e,n,o){if(o){let r=ol[o];r?e.removeAttributeNS(r,n):e.removeAttribute(`${o}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,o,r){r&(st.DashCase|st.Important)?e.style.setProperty(n,o,r&st.Important?"important":""):e.style[n]=o}removeStyle(e,n,o){o&st.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,o){e!=null&&(e[n]=o)}setValue(e,n){e.nodeValue=n}listen(e,n,o,r){if(typeof e=="string"&&(e=oo().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let i=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Uf(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var kr=class extends so{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,o,r,i,s,c,u){super(e,r,i,c),this.hostEl=n,this.sharedStylesHost=u,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=Bf(o.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let f=o.getExternalStyles?.();if(f)for(let p of f){let h=rl(p,r);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,o){return super.insertBefore(this.nodeOrShadowRoot(e),n,o)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ao=class extends so{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,o,r,i,s,c,u){super(e,i,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let d=o.styles;this.styles=u?Bf(u,d):d,this.styleUrls=o.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Lt.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Lr=class extends ao{contentAttr;hostAttr;constructor(e,n,o,r,i,s,c,u){let d=r+"-"+o.id;super(e,n,o,i,s,c,u,d),this.contentAttr=Av(d),this.hostAttr=bv(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let o=super.createElement(e,n);return super.setAttribute(o,this.contentAttr,""),o}};var Fr=class t extends no{supportsDOMEvents=!0;static makeCurrent(){el(new t)}onAndCancel(e,n,o,r){return e.addEventListener(n,o,r),()=>{e.removeEventListener(n,o,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Nv();return n==null?null:xv(n)}resetBaseElement(){lo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tl(document.cookie,e)}},lo=null;function Nv(){return lo=lo||document.head.querySelector("base"),lo?lo.getAttribute("href"):null}function xv(t){return new URL(t,document.baseURI).pathname}var Rv=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||t)};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})(),Gf=["alt","control","meta","shift"],Pv={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kv={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$f=(()=>{class t extends io{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,o,r,i){let s=t.parseEventName(o),c=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oo().onAndCancel(n,s.domEventName,c,i))}static parseEventName(n){let o=n.toLowerCase().split("."),r=o.shift();if(o.length===0||!(r==="keydown"||r==="keyup"))return null;let i=t._normalizeKey(o.pop()),s="",c=o.indexOf("code");if(c>-1&&(o.splice(c,1),s="code."),Gf.forEach(d=>{let f=o.indexOf(d);f>-1&&(o.splice(f,1),s+=d+".")}),s+=i,o.length!=0||i.length===0)return null;let u={};return u.domEventName=r,u.fullKey=s,u}static matchEventFullKeyCode(n,o){let r=Pv[n.key]||n.key,i="";return o.indexOf("code.")>-1&&(r=n.code,i="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Gf.forEach(s=>{if(s!==r){let c=kv[s];c(n)&&(i+=s+".")}}),i+=r,i===o)}static eventCallback(n,o,r){return i=>{t.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>o(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(o){return new(o||t)(z(Fe))};static \u0275prov=Z({token:t,factory:t.\u0275fac})}return t})();async function cl(t,e,n){let o=oe({rootComponent:t},Lv(e,n));return kf(o)}function Lv(t,e){return{platformRef:e?.platformRef,appProviders:[...Hv,...t?.providers??[]],platformProviders:Uv}}function Ov(){Fr.makeCurrent()}function Fv(){return new Qe}function Vv(){return wa(document),document}var Uv=[{provide:jn,useValue:Of},{provide:vr,useValue:Ov,multi:!0},{provide:Fe,useFactory:Vv}];var Hv=[{provide:Fn,useValue:"root"},{provide:Qe,useFactory:Fv},{provide:Or,useClass:Pr,multi:!0},{provide:Or,useClass:$f,multi:!0},ll,sl,il,{provide:Ot,useExisting:ll},{provide:ro,useClass:Rv},[]];var Bv,Gv;function $v(){return{geminiUrl:Bv,vertexUrl:Gv}}function qv(t,e,n,o){var r,i;if(!t?.baseUrl){let s=$v();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(i=s.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}var Ge=class{};function S(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function l(t,e,n){for(let i=0;i<e.length-1;i++){let s=e[i];if(s.endsWith("[]")){let c=s.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[c])){let u=t[c];if(Array.isArray(n))for(let d=0;d<u.length;d++){let f=u[d];l(f,e.slice(i+1),n[d])}else for(let d of u)l(d,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){let c=s.slice(0,-3);c in t||(t[c]=[{}]);let u=t[c];l(u[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}let o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;let r=e[o];if(r.endsWith("[]")){let i=r.slice(0,-2);if(i in t){let s=t[i];return Array.isArray(s)?s.map(c=>a(c,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function zv(t,e){for(let[n,o]of Object.entries(e)){let r=n.split("."),i=o.split("."),s=new Set,c=-1;for(let u=0;u<r.length;u++)if(r[u]==="*"){c=u;break}if(c!==-1&&i.length>c)for(let u=c;u<i.length;u++){let d=i[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}pl(t,r,i,0,s)}}function pl(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;let i=e[o];if(i.endsWith("[]")){let s=i.slice(0,-2),c=t;if(s in c&&Array.isArray(c[s]))for(let u of c[s])pl(u,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let s=t,c=Object.keys(s).filter(d=>!d.startsWith("_")&&!r.has(d)),u={};for(let d of c)u[d]=s[d];for(let[d,f]of Object.entries(u)){let p=[];for(let h of n.slice(o))h==="*"?p.push(d):p.push(h);l(s,p,f)}for(let d of c)delete s[d]}}else{let s=t;i in s&&pl(s[i],e,n,o+1,r)}}function fc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function Wv(t){let e={},n=a(t,["operationName"]);n!=null&&l(e,["operationName"],n);let o=a(t,["resourceName"]);return o!=null&&l(e,["_url","resourceName"],o),e}function Jv(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response","generateVideoResponse"]);return s!=null&&l(e,["response"],Kv(s)),e}function Yv(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response"]);return s!=null&&l(e,["response"],jv(s)),e}function Kv(t){let e={},n=a(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Zv(s))),l(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function jv(t){let e={},n=a(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Qv(s))),l(e,["generatedVideos"],i)}let o=a(t,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);let r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function Zv(t){let e={},n=a(t,["video"]);return n!=null&&l(e,["video"],rE(n)),e}function Qv(t){let e={},n=a(t,["_self"]);return n!=null&&l(e,["video"],iE(n)),e}function Xv(t){let e={},n=a(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function eE(t){let e={},n=a(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function tE(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response"]);return s!=null&&l(e,["response"],nE(s)),e}function nE(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&l(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&l(e,["documentName"],r),e}function hp(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response"]);return s!=null&&l(e,["response"],oE(s)),e}function oE(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&l(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&l(e,["documentName"],r),e}function rE(t){let e={},n=a(t,["uri"]);n!=null&&l(e,["uri"],n);let o=a(t,["encodedVideo"]);o!=null&&l(e,["videoBytes"],fc(o));let r=a(t,["encoding"]);return r!=null&&l(e,["mimeType"],r),e}function iE(t){let e={},n=a(t,["gcsUri"]);n!=null&&l(e,["uri"],n);let o=a(t,["bytesBase64Encoded"]);o!=null&&l(e,["videoBytes"],fc(o));let r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}var Bt=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(Bt||{});var hl=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(hl||{});var gp=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(gp||{});var mp=(function(t){return t.COLLECTION="COLLECTION",t})(mp||{});var uo=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(uo||{});var po=class{constructor(e){let n={};for(let o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var Ht=class{get text(){var e,n,o,r,i,s,c,u;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let h of(u=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&u!==void 0?u:[]){for(let[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(m!==null||m!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,s,c,u;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(u=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)!==null&&u!==void 0?u:[]){for(let[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,s,c,u;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(u=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,r,i,s,c,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(u=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,s,c,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(u=(c=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||c===void 0?void 0:c.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},zr=class{},Wr=class{},gl=class{},ml=class{},yl=class{},vl=class{},Jr=class{},Yr=class{},Kr=class{},El=class{};var jr=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,r,i=e;return n?r=Yv(i):r=Jv(i),Object.assign(o,r),o}},Zr=class{},Qr=class{},Xr=class{},ei=class{},Il=class{},_l=class{},Cl=class{};var Tl=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=tE(e);return Object.assign(o,i),o}},Sl=class{},wl=class{},Ml=class{},Dl=class{};var ti=class{};var Al=class{get text(){var e,n,o;let r="",i=!1,s=[];for(let c of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[u,d]of Object.entries(c))u!=="text"&&u!=="thought"&&d!==null&&s.push(u);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;i=!0,r+=c.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="",i=[];for(let s of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(let[c,u]of Object.entries(s))c!=="inlineData"&&u!==null&&i.push(c);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var bl=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var Nl=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let o=new t,i=hp(e);return Object.assign(o,i),o}};function H(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function yp(t,e){let n=H(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function vp(t){return Array.isArray(t)?t.map(e=>ni(e)):[ni(t)]}function ni(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Ep(t){let e=ni(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Ip(t){let e=ni(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qf(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _p(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>qf(e)):[qf(t)]}function xl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function zf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Wf(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ue(t){if(t==null)throw new Error("ContentUnion is required");return xl(t)?t:{role:"user",parts:_p(t)}}function pc(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let o=ue(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){let n=ue(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ue(n)):[ue(e)]}function Ae(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(zf(t)||Wf(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ue(t)]}let e=[],n=[],o=xl(t[0]);for(let r of t){let i=xl(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(zf(r)||Wf(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:_p(n)}),e}function sE(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Bt).includes(n[0].toUpperCase())?n[0].toUpperCase():Bt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let o of n)e.anyOf.push({type:Object.values(Bt).includes(o.toUpperCase())?o.toUpperCase():Bt.TYPE_UNSPECIFIED})}}function In(t){let e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&sE(t.type,e);for(let[s,c]of Object.entries(t))if(c!=null)if(s=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Bt).includes(c.toUpperCase())?c.toUpperCase():Bt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=In(c);else if(o.includes(s)){let u=[];for(let d of c){if(d.type=="null"){e.nullable=!0;continue}u.push(In(d))}e[s]=u}else if(r.includes(s)){let u={};for(let[d,f]of Object.entries(c))u[d]=In(f);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=c}return e}function hc(t){return In(t)}function gc(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function mc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Sn(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=In(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=In(e.response));return t}function wn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function aE(t,e,n,o=1){let r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function ct(t,e){if(typeof e!="string")throw new Error("name must be a string");return aE(t,e,"cachedContents")}function Cp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Et(t){return fc(t)}function lE(t){return t!=null&&typeof t=="object"&&"name"in t}function cE(t){return t!=null&&typeof t=="object"&&"video"in t}function uE(t){return t!=null&&typeof t=="object"&&"uri"in t}function Tp(t){var e;let n;if(lE(t)&&(n=t.name),!(uE(t)&&(n=t.uri,n===void 0))&&!(cE(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Sp(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function wp(t){for(let e of["models","tunedModels","publisherModels"])if(dE(t,e))return t[e];return[]}function dE(t,e){return t!==null&&typeof t=="object"&&e in t}function fE(t,e={}){let n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function pE(t,e={}){let n=[],o=new Set;for(let r of t){let i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);let s=fE(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function Mp(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function hE(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Dp(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(let s of r){if(typeof s!="object"||s===null)continue;let u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Mn(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ap(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function gE(t){let e={},n=a(t,["responsesFile"]);n!=null&&l(e,["fileName"],n);let o=a(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>KE(s))),l(e,["inlinedResponses"],i)}let r=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["inlinedEmbedContentResponses"],i)}return e}function mE(t){let e={},n=a(t,["predictionsFormat"]);n!=null&&l(e,["format"],n);let o=a(t,["gcsDestination","outputUriPrefix"]);o!=null&&l(e,["gcsUri"],o);let r=a(t,["bigqueryDestination","outputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function yE(t){let e={},n=a(t,["format"]);n!=null&&l(e,["predictionsFormat"],n);let o=a(t,["gcsUri"]);o!=null&&l(e,["gcsDestination","outputUriPrefix"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&l(e,["bigqueryDestination","outputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $r(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata","displayName"]);o!=null&&l(e,["displayName"],o);let r=a(t,["metadata","state"]);r!=null&&l(e,["state"],Ap(r));let i=a(t,["metadata","createTime"]);i!=null&&l(e,["createTime"],i);let s=a(t,["metadata","endTime"]);s!=null&&l(e,["endTime"],s);let c=a(t,["metadata","updateTime"]);c!=null&&l(e,["updateTime"],c);let u=a(t,["metadata","model"]);u!=null&&l(e,["model"],u);let d=a(t,["metadata","output"]);return d!=null&&l(e,["dest"],gE(Dp(d))),e}function Rl(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["displayName"]);o!=null&&l(e,["displayName"],o);let r=a(t,["state"]);r!=null&&l(e,["state"],Ap(r));let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["createTime"]);s!=null&&l(e,["createTime"],s);let c=a(t,["startTime"]);c!=null&&l(e,["startTime"],c);let u=a(t,["endTime"]);u!=null&&l(e,["endTime"],u);let d=a(t,["updateTime"]);d!=null&&l(e,["updateTime"],d);let f=a(t,["model"]);f!=null&&l(e,["model"],f);let p=a(t,["inputConfig"]);p!=null&&l(e,["src"],vE(p));let h=a(t,["outputConfig"]);h!=null&&l(e,["dest"],mE(Dp(h)));let g=a(t,["completionStats"]);return g!=null&&l(e,["completionStats"],g),e}function vE(t){let e={},n=a(t,["instancesFormat"]);n!=null&&l(e,["format"],n);let o=a(t,["gcsSource","uris"]);o!=null&&l(e,["gcsUri"],o);let r=a(t,["bigquerySource","inputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function EE(t,e){let n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let o=a(e,["fileName"]);o!=null&&l(n,["fileName"],o);let r=a(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>YE(t,s))),l(n,["requests","requests"],i)}return n}function IE(t){let e={},n=a(t,["format"]);n!=null&&l(e,["instancesFormat"],n);let o=a(t,["gcsUri"]);o!=null&&l(e,["gcsSource","uris"],o);let r=a(t,["bigqueryUri"]);if(r!=null&&l(e,["bigquerySource","inputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function _E(t){let e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function CE(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Mn(t,o)),n}function TE(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Mn(t,o)),n}function SE(t){let e={},n=a(t,["content"]);n!=null&&l(e,["content"],n);let o=a(t,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],wE(o));let r=a(t,["tokenCount"]);r!=null&&l(e,["tokenCount"],r);let i=a(t,["finishReason"]);i!=null&&l(e,["finishReason"],i);let s=a(t,["avgLogprobs"]);s!=null&&l(e,["avgLogprobs"],s);let c=a(t,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);let u=a(t,["index"]);u!=null&&l(e,["index"],u);let d=a(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);let f=a(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),l(e,["safetyRatings"],h)}let p=a(t,["urlContextMetadata"]);return p!=null&&l(e,["urlContextMetadata"],p),e}function wE(t){let e={},n=a(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),l(e,["citations"],o)}return e}function bp(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>nI(i))),l(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&l(e,["role"],o),e}function ME(t,e){let n={},o=a(t,["displayName"]);if(e!==void 0&&o!=null&&l(e,["batch","displayName"],o),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function DE(t,e){let n={},o=a(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);let r=a(t,["dest"]);return e!==void 0&&r!=null&&l(e,["outputConfig"],yE(hE(r))),n}function Jf(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],H(t,o));let r=a(e,["src"]);r!=null&&l(n,["batch","inputConfig"],EE(t,Mp(t,r)));let i=a(e,["config"]);return i!=null&&ME(i,n),n}function AE(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["model"],H(t,o));let r=a(e,["src"]);r!=null&&l(n,["inputConfig"],IE(Mp(t,r)));let i=a(e,["config"]);return i!=null&&DE(i,n),n}function bE(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&l(e,["batch","displayName"],o),n}function NE(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["_url","model"],H(t,o));let r=a(e,["src"]);r!=null&&l(n,["batch","inputConfig"],FE(t,r));let i=a(e,["config"]);return i!=null&&bE(i,n),n}function xE(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Mn(t,o)),n}function RE(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Mn(t,o)),n}function PE(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&l(e,["name"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);return i!=null&&l(e,["error"],i),e}function kE(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["name"]);o!=null&&l(e,["name"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);return i!=null&&l(e,["error"],i),e}function LE(t,e){let n={},o=a(e,["contents"]);if(o!=null){let i=pc(t,o);Array.isArray(i)&&(i=i.map(s=>s)),l(n,["requests[]","request","content"],i)}let r=a(e,["config"]);return r!=null&&(l(n,["_self"],OE(r,n)),zv(n,{"requests[].*":"requests[].request.*"})),n}function OE(t,e){let n={},o=a(t,["taskType"]);e!==void 0&&o!=null&&l(e,["requests[]","taskType"],o);let r=a(t,["title"]);e!==void 0&&r!=null&&l(e,["requests[]","title"],r);let i=a(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&l(e,["requests[]","outputDimensionality"],i),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function FE(t,e){let n={},o=a(e,["fileName"]);o!=null&&l(n,["file_name"],o);let r=a(e,["inlinedRequests"]);return r!=null&&l(n,["requests"],LE(t,r)),n}function VE(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function UE(t){let e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);let o=a(t,["args"]);o!=null&&l(e,["args"],o);let r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HE(t){let e={},n=a(t,["allowedFunctionNames"]);n!=null&&l(e,["allowedFunctionNames"],n);let o=a(t,["mode"]);if(o!=null&&l(e,["mode"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function BE(t,e,n){let o={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],bp(ue(r)));let i=a(e,["temperature"]);i!=null&&l(o,["temperature"],i);let s=a(e,["topP"]);s!=null&&l(o,["topP"],s);let c=a(e,["topK"]);c!=null&&l(o,["topK"],c);let u=a(e,["candidateCount"]);u!=null&&l(o,["candidateCount"],u);let d=a(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&l(o,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&l(o,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&l(o,["frequencyPenalty"],m);let v=a(e,["seed"]);v!=null&&l(o,["seed"],v);let _=a(e,["responseMimeType"]);_!=null&&l(o,["responseMimeType"],_);let I=a(e,["responseSchema"]);I!=null&&l(o,["responseSchema"],hc(I));let M=a(e,["responseJsonSchema"]);if(M!=null&&l(o,["responseJsonSchema"],M),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let w=a(e,["safetySettings"]);if(n!==void 0&&w!=null){let de=w;Array.isArray(de)&&(de=de.map(ie=>oI(ie))),l(n,["safetySettings"],de)}let D=a(e,["tools"]);if(n!==void 0&&D!=null){let de=wn(D);Array.isArray(de)&&(de=de.map(ie=>iI(Sn(ie)))),l(n,["tools"],de)}let C=a(e,["toolConfig"]);if(n!==void 0&&C!=null&&l(n,["toolConfig"],rI(C)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let k=a(e,["cachedContent"]);n!==void 0&&k!=null&&l(n,["cachedContent"],ct(t,k));let P=a(e,["responseModalities"]);P!=null&&l(o,["responseModalities"],P);let Y=a(e,["mediaResolution"]);Y!=null&&l(o,["mediaResolution"],Y);let b=a(e,["speechConfig"]);if(b!=null&&l(o,["speechConfig"],gc(b)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let L=a(e,["thinkingConfig"]);L!=null&&l(o,["thinkingConfig"],L);let X=a(e,["imageConfig"]);X!=null&&l(o,["imageConfig"],JE(X));let ve=a(e,["enableEnhancedCivicAnswers"]);if(ve!=null&&l(o,["enableEnhancedCivicAnswers"],ve),a(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function GE(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>SE(d))),l(e,["candidates"],u)}let r=a(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);let i=a(t,["promptFeedback"]);i!=null&&l(e,["promptFeedback"],i);let s=a(t,["responseId"]);s!=null&&l(e,["responseId"],s);let c=a(t,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function $E(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Mn(t,o)),n}function qE(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],Mn(t,o)),n}function zE(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function WE(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function JE(t){let e={},n=a(t,["aspectRatio"]);n!=null&&l(e,["aspectRatio"],n);let o=a(t,["imageSize"]);if(o!=null&&l(e,["imageSize"],o),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function YE(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["request","model"],H(t,o));let r=a(e,["contents"]);if(r!=null){let c=Ae(r);Array.isArray(c)&&(c=c.map(u=>bp(u))),l(n,["request","contents"],c)}let i=a(e,["metadata"]);i!=null&&l(n,["metadata"],i);let s=a(e,["config"]);return s!=null&&l(n,["request","generationConfig"],BE(t,s,a(n,["request"],{}))),n}function KE(t){let e={},n=a(t,["response"]);n!=null&&l(e,["response"],GE(n));let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["error"]);return r!=null&&l(e,["error"],r),e}function jE(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);if(e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ZE(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);let i=a(t,["filter"]);return e!==void 0&&i!=null&&l(e,["_query","filter"],i),n}function QE(t){let e={},n=a(t,["config"]);return n!=null&&jE(n,e),e}function XE(t){let e={},n=a(t,["config"]);return n!=null&&ZE(n,e),e}function eI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$r(s))),l(e,["batchJobs"],i)}return e}function tI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Rl(s))),l(e,["batchJobs"],i)}return e}function nI(t){let e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&l(e,["fileData"],VE(i));let s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],UE(s));let c=a(t,["functionResponse"]);c!=null&&l(e,["functionResponse"],c);let u=a(t,["inlineData"]);u!=null&&l(e,["inlineData"],_E(u));let d=a(t,["text"]);d!=null&&l(e,["text"],d);let f=a(t,["thought"]);f!=null&&l(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function oI(t){let e={},n=a(t,["category"]);if(n!=null&&l(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=a(t,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function rI(t){let e={},n=a(t,["retrievalConfig"]);n!=null&&l(e,["retrievalConfig"],n);let o=a(t,["functionCallingConfig"]);return o!=null&&l(e,["functionCallingConfig"],HE(o)),e}function iI(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&l(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&l(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&l(e,["googleMaps"],zE(s));let c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],WE(c));let u=a(t,["googleSearchRetrieval"]);u!=null&&l(e,["googleSearchRetrieval"],u);let d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}var It=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(It||{}),lt=class{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!o||Object.keys(o).length===0?s={config:{}}:typeof o=="object"?s=Object.assign({},o):s=o,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var Pl=class extends Ge{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lt(It.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){let n=Jf(this.apiClient,e),o=n._url,r=S("{model}:batchGenerateContent",o),c=n.batch.inputConfig.requests,u=c.requests,d=[];for(let f of u){let p=Object.assign({},f);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){let i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(s)o.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=AE(this.apiClient,e);return c=S("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Rl(f))}else{let d=Jf(this.apiClient,e);return c=S("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>$r(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=NE(this.apiClient,e);return i=S("{model}:asyncBatchEmbedContent",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>$r(u))}}async get(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=qE(this.apiClient,e);return c=S("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Rl(f))}else{let d=$E(this.apiClient,e);return c=S("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>$r(f))}}async cancel(e){var n,o,r,i;let s="",c={};if(this.apiClient.isVertexAI()){let u=TE(this.apiClient,e);s=S("batchPredictionJobs/{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let u=CE(this.apiClient,e);s=S("batches/{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=XE(e);return c=S("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=tI(f),h=new ti;return Object.assign(h,p),h})}else{let d=QE(e);return c=S("batches",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=eI(f),h=new ti;return Object.assign(h,p),h})}}async delete(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=RE(this.apiClient,e);return c=S("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>kE(f))}else{let d=xE(this.apiClient,e);return c=S("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>PE(f))}}};function sI(t){let e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Yf(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bI(i))),l(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&l(e,["role"],o),e}function aI(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let f=Ae(s);Array.isArray(f)&&(f=f.map(p=>Yf(p))),l(e,["contents"],f)}let c=a(t,["systemInstruction"]);e!==void 0&&c!=null&&l(e,["systemInstruction"],Yf(ue(c)));let u=a(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>xI(p))),l(e,["tools"],f)}let d=a(t,["toolConfig"]);if(e!==void 0&&d!=null&&l(e,["toolConfig"],NI(d)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lI(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=a(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);let i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let p=Ae(s);Array.isArray(p)&&(p=p.map(h=>h)),l(e,["contents"],p)}let c=a(t,["systemInstruction"]);e!==void 0&&c!=null&&l(e,["systemInstruction"],ue(c));let u=a(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>RI(h))),l(e,["tools"],p)}let d=a(t,["toolConfig"]);e!==void 0&&d!=null&&l(e,["toolConfig"],d);let f=a(t,["kmsKeyName"]);return e!==void 0&&f!=null&&l(e,["encryption_spec","kmsKeyName"],f),n}function cI(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["model"],yp(t,o));let r=a(e,["config"]);return r!=null&&aI(r,n),n}function uI(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["model"],yp(t,o));let r=a(e,["config"]);return r!=null&&lI(r,n),n}function dI(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],ct(t,o)),n}function fI(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],ct(t,o)),n}function pI(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function hI(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function gI(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function mI(t){let e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);let o=a(t,["args"]);o!=null&&l(e,["args"],o);let r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yI(t){let e={},n=a(t,["allowedFunctionNames"]);n!=null&&l(e,["allowedFunctionNames"],n);let o=a(t,["mode"]);if(o!=null&&l(e,["mode"],o),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vI(t){let e={},n=a(t,["description"]);n!=null&&l(e,["description"],n);let o=a(t,["name"]);o!=null&&l(e,["name"],o);let r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&l(e,["response"],s);let c=a(t,["responseJsonSchema"]);if(c!=null&&l(e,["responseJsonSchema"],c),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function EI(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],ct(t,o)),n}function II(t,e){let n={},o=a(e,["name"]);return o!=null&&l(n,["_url","name"],ct(t,o)),n}function _I(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function CI(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function TI(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function SI(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function wI(t){let e={},n=a(t,["config"]);return n!=null&&TI(n,e),e}function MI(t){let e={},n=a(t,["config"]);return n!=null&&SI(n,e),e}function DI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["cachedContents"],i)}return e}function AI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["cachedContents"],i)}return e}function bI(t){let e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&l(e,["fileData"],gI(i));let s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],mI(s));let c=a(t,["functionResponse"]);c!=null&&l(e,["functionResponse"],c);let u=a(t,["inlineData"]);u!=null&&l(e,["inlineData"],sI(u));let d=a(t,["text"]);d!=null&&l(e,["text"],d);let f=a(t,["thought"]);f!=null&&l(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function NI(t){let e={},n=a(t,["retrievalConfig"]);n!=null&&l(e,["retrievalConfig"],n);let o=a(t,["functionCallingConfig"]);return o!=null&&l(e,["functionCallingConfig"],yI(o)),e}function xI(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&l(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&l(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&l(e,["googleMaps"],_I(s));let c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],CI(c));let u=a(t,["googleSearchRetrieval"]);u!=null&&l(e,["googleSearchRetrieval"],u);let d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function RI(t){let e={},n=a(t,["retrieval"]);n!=null&&l(e,["retrieval"],n);let o=a(t,["computerUse"]);if(o!=null&&l(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);let i=a(t,["enterpriseWebSearch"]);i!=null&&l(e,["enterpriseWebSearch"],i);let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>vI(h))),l(e,["functionDeclarations"],p)}let c=a(t,["googleMaps"]);c!=null&&l(e,["googleMaps"],c);let u=a(t,["googleSearch"]);u!=null&&l(e,["googleSearch"],u);let d=a(t,["googleSearchRetrieval"]);d!=null&&l(e,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&l(e,["urlContext"],f),e}function PI(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),n}function kI(t,e){let n={},o=a(t,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);let r=a(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),n}function LI(t,e){let n={},o=a(e,["name"]);o!=null&&l(n,["_url","name"],ct(t,o));let r=a(e,["config"]);return r!=null&&PI(r,n),n}function OI(t,e){let n={},o=a(e,["name"]);o!=null&&l(n,["_url","name"],ct(t,o));let r=a(e,["config"]);return r!=null&&kI(r,n),n}var kl=class extends Ge{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lt(It.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=uI(this.apiClient,e);return c=S("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=cI(this.apiClient,e);return c=S("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=II(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=EI(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=fI(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=hI(f),h=new Xr;return Object.assign(h,p),h})}else{let d=dI(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=pI(f),h=new Xr;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=OI(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=LI(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=MI(e);return c=S("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=AI(f),h=new ei;return Object.assign(h,p),h})}else{let d=wI(e);return c=S("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=DI(f),h=new ei;return Object.assign(h,p),h})}}};function oi(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function Kf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(t){return this instanceof N?(this.v=t,this):new N(t)}function He(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function c(g,m){o[g]&&(r[g]=function(v){return new Promise(function(_,I){i.push([g,v,_,I])>1||u(g,v)})},m&&(r[g]=m(r[g])))}function u(g,m){try{d(o[g](m))}catch(v){h(i[0][3],v)}}function d(g){g.value instanceof N?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){u("next",g)}function p(g){u("throw",g)}function h(g,m){g(m),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Be(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Kf=="function"?Kf(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(s){return new Promise(function(c,u){s=t[i](s),r(c,u,s.done,s.value)})}}function r(i,s,c,u){Promise.resolve(u).then(function(d){i({value:d,done:c})},s)}}function FI(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Np(n)}function Np(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function VI(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function jf(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{let r=[],i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!Np(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}var Ll=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ol(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},Ol=class{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),VI(i)}async sendMessage(e){var n;await this.sendPromise;let o=ue(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,c;let u=await r,d=(s=(i=u.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];f!=null&&(h=(c=f.slice(p))!==null&&c!==void 0?c:[]);let g=d?[d]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;let o=ue(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){let n=e?jf(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return He(this,arguments,function*(){var r,i,s,c,u,d;let f=[];try{for(var p=!0,h=Be(e),g;g=yield N(h.next()),r=g.done,!r;p=!0){c=g.value,p=!1;let m=c;if(FI(m)){let v=(d=(u=m.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content;v!==void 0&&f.push(v)}yield yield N(m)}}catch(m){i={error:m}}finally{try{!p&&!r&&(s=h.return)&&(yield N(s.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...jf(o)):this.history.push(e),this.history.push(...r)}};var ho=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function UI(t){let e={},n=a(t,["file"]);return n!=null&&l(e,["file"],n),e}function HI(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function BI(t){let e={},n=a(t,["name"]);return n!=null&&l(e,["_url","file"],Tp(n)),e}function GI(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function $I(t){let e={},n=a(t,["name"]);return n!=null&&l(e,["_url","file"],Tp(n)),e}function qI(t){let e={},n=a(t,["uris"]);return n!=null&&l(e,["uris"],n),e}function zI(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function WI(t){let e={},n=a(t,["config"]);return n!=null&&zI(n,e),e}function JI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["files"],i)}return e}function YI(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),l(e,["files"],r)}return e}var Fl=class extends Ge{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lt(It.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=WI(e);return i=S("files",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=JI(u),f=new Sl;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=UI(e);return i=S("upload/v1beta/files",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=HI(u),f=new wl;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=$I(e);return i=S("files/{file}",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=BI(e);return i=S("files/{file}",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=GI(u),f=new Ml;return Object.assign(f,d),f})}}async registerFilesInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=qI(e);return i=S("files:register",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=YI(u),f=new Dl;return Object.assign(f,d),f})}}};function qr(t){let e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function KI(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>d_(i))),l(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&l(e,["role"],o),e}function jI(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function ZI(t){let e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);let o=a(t,["args"]);o!=null&&l(e,["args"],o);let r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QI(t){let e={},n=a(t,["description"]);n!=null&&l(e,["description"],n);let o=a(t,["name"]);o!=null&&l(e,["name"],o);let r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);let i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&l(e,["response"],s);let c=a(t,["responseJsonSchema"]);if(c!=null&&l(e,["responseJsonSchema"],c),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function XI(t){let e={},n=a(t,["modelSelectionConfig"]);n!=null&&l(e,["modelConfig"],n);let o=a(t,["responseJsonSchema"]);o!=null&&l(e,["responseJsonSchema"],o);let r=a(t,["audioTimestamp"]);r!=null&&l(e,["audioTimestamp"],r);let i=a(t,["candidateCount"]);i!=null&&l(e,["candidateCount"],i);let s=a(t,["enableAffectiveDialog"]);s!=null&&l(e,["enableAffectiveDialog"],s);let c=a(t,["frequencyPenalty"]);c!=null&&l(e,["frequencyPenalty"],c);let u=a(t,["logprobs"]);u!=null&&l(e,["logprobs"],u);let d=a(t,["maxOutputTokens"]);d!=null&&l(e,["maxOutputTokens"],d);let f=a(t,["mediaResolution"]);f!=null&&l(e,["mediaResolution"],f);let p=a(t,["presencePenalty"]);p!=null&&l(e,["presencePenalty"],p);let h=a(t,["responseLogprobs"]);h!=null&&l(e,["responseLogprobs"],h);let g=a(t,["responseMimeType"]);g!=null&&l(e,["responseMimeType"],g);let m=a(t,["responseModalities"]);m!=null&&l(e,["responseModalities"],m);let v=a(t,["responseSchema"]);v!=null&&l(e,["responseSchema"],v);let _=a(t,["routingConfig"]);_!=null&&l(e,["routingConfig"],_);let I=a(t,["seed"]);I!=null&&l(e,["seed"],I);let M=a(t,["speechConfig"]);M!=null&&l(e,["speechConfig"],M);let w=a(t,["stopSequences"]);w!=null&&l(e,["stopSequences"],w);let D=a(t,["temperature"]);D!=null&&l(e,["temperature"],D);let C=a(t,["thinkingConfig"]);C!=null&&l(e,["thinkingConfig"],C);let k=a(t,["topK"]);k!=null&&l(e,["topK"],k);let P=a(t,["topP"]);if(P!=null&&l(e,["topP"],P),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function e_(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function t_(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function n_(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","topP"],s);let c=a(t,["topK"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","topK"],c);let u=a(t,["maxOutputTokens"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","maxOutputTokens"],u);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],mc(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&l(e,["setup","systemInstruction"],KI(ue(m)));let v=a(t,["tools"]);if(e!==void 0&&v!=null){let k=wn(v);Array.isArray(k)&&(k=k.map(P=>p_(Sn(P)))),l(e,["setup","tools"],k)}let _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&l(e,["setup","sessionResumption"],f_(_));let I=a(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","inputAudioTranscription"],I);let M=a(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&l(e,["setup","outputAudioTranscription"],M);let w=a(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&l(e,["setup","realtimeInputConfig"],w);let D=a(t,["contextWindowCompression"]);e!==void 0&&D!=null&&l(e,["setup","contextWindowCompression"],D);let C=a(t,["proactivity"]);if(e!==void 0&&C!=null&&l(e,["setup","proactivity"],C),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function o_(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],XI(o));let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","topP"],s);let c=a(t,["topK"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","topK"],c);let u=a(t,["maxOutputTokens"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","maxOutputTokens"],u);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],mc(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&l(e,["setup","systemInstruction"],ue(m));let v=a(t,["tools"]);if(e!==void 0&&v!=null){let P=wn(v);Array.isArray(P)&&(P=P.map(Y=>h_(Sn(Y)))),l(e,["setup","tools"],P)}let _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&l(e,["setup","sessionResumption"],_);let I=a(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","inputAudioTranscription"],I);let M=a(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&l(e,["setup","outputAudioTranscription"],M);let w=a(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&l(e,["setup","realtimeInputConfig"],w);let D=a(t,["contextWindowCompression"]);e!==void 0&&D!=null&&l(e,["setup","contextWindowCompression"],D);let C=a(t,["proactivity"]);e!==void 0&&C!=null&&l(e,["setup","proactivity"],C);let k=a(t,["explicitVadSignal"]);return e!==void 0&&k!=null&&l(e,["setup","explicitVadSignal"],k),n}function r_(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["setup","model"],H(t,o));let r=a(e,["config"]);return r!=null&&l(n,["config"],n_(r,n)),n}function i_(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["setup","model"],H(t,o));let r=a(e,["config"]);return r!=null&&l(n,["config"],o_(r,n)),n}function s_(t){let e={},n=a(t,["musicGenerationConfig"]);return n!=null&&l(e,["musicGenerationConfig"],n),e}function a_(t){let e={},n=a(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),l(e,["weightedPrompts"],o)}return e}function l_(t){let e={},n=a(t,["media"]);if(n!=null){let d=vp(n);Array.isArray(d)&&(d=d.map(f=>qr(f))),l(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&l(e,["audio"],qr(Ip(o)));let r=a(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&l(e,["video"],qr(Ep(i)));let s=a(t,["text"]);s!=null&&l(e,["text"],s);let c=a(t,["activityStart"]);c!=null&&l(e,["activityStart"],c);let u=a(t,["activityEnd"]);return u!=null&&l(e,["activityEnd"],u),e}function c_(t){let e={},n=a(t,["media"]);if(n!=null){let d=vp(n);Array.isArray(d)&&(d=d.map(f=>f)),l(e,["mediaChunks"],d)}let o=a(t,["audio"]);o!=null&&l(e,["audio"],Ip(o));let r=a(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);let i=a(t,["video"]);i!=null&&l(e,["video"],Ep(i));let s=a(t,["text"]);s!=null&&l(e,["text"],s);let c=a(t,["activityStart"]);c!=null&&l(e,["activityStart"],c);let u=a(t,["activityEnd"]);return u!=null&&l(e,["activityEnd"],u),e}function u_(t){let e={},n=a(t,["setupComplete"]);n!=null&&l(e,["setupComplete"],n);let o=a(t,["serverContent"]);o!=null&&l(e,["serverContent"],o);let r=a(t,["toolCall"]);r!=null&&l(e,["toolCall"],r);let i=a(t,["toolCallCancellation"]);i!=null&&l(e,["toolCallCancellation"],i);let s=a(t,["usageMetadata"]);s!=null&&l(e,["usageMetadata"],g_(s));let c=a(t,["goAway"]);c!=null&&l(e,["goAway"],c);let u=a(t,["sessionResumptionUpdate"]);u!=null&&l(e,["sessionResumptionUpdate"],u);let d=a(t,["voiceActivityDetectionSignal"]);d!=null&&l(e,["voiceActivityDetectionSignal"],d);let f=a(t,["voiceActivity"]);return f!=null&&l(e,["voiceActivity"],m_(f)),e}function d_(t){let e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&l(e,["fileData"],jI(i));let s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],ZI(s));let c=a(t,["functionResponse"]);c!=null&&l(e,["functionResponse"],c);let u=a(t,["inlineData"]);u!=null&&l(e,["inlineData"],qr(u));let d=a(t,["text"]);d!=null&&l(e,["text"],d);let f=a(t,["thought"]);f!=null&&l(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function f_(t){let e={},n=a(t,["handle"]);if(n!=null&&l(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function p_(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&l(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&l(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&l(e,["googleMaps"],e_(s));let c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],t_(c));let u=a(t,["googleSearchRetrieval"]);u!=null&&l(e,["googleSearchRetrieval"],u);let d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function h_(t){let e={},n=a(t,["retrieval"]);n!=null&&l(e,["retrieval"],n);let o=a(t,["computerUse"]);if(o!=null&&l(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let r=a(t,["codeExecution"]);r!=null&&l(e,["codeExecution"],r);let i=a(t,["enterpriseWebSearch"]);i!=null&&l(e,["enterpriseWebSearch"],i);let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>QI(h))),l(e,["functionDeclarations"],p)}let c=a(t,["googleMaps"]);c!=null&&l(e,["googleMaps"],c);let u=a(t,["googleSearch"]);u!=null&&l(e,["googleSearch"],u);let d=a(t,["googleSearchRetrieval"]);d!=null&&l(e,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&l(e,["urlContext"],f),e}function g_(t){let e={},n=a(t,["promptTokenCount"]);n!=null&&l(e,["promptTokenCount"],n);let o=a(t,["cachedContentTokenCount"]);o!=null&&l(e,["cachedContentTokenCount"],o);let r=a(t,["candidatesTokenCount"]);r!=null&&l(e,["responseTokenCount"],r);let i=a(t,["toolUsePromptTokenCount"]);i!=null&&l(e,["toolUsePromptTokenCount"],i);let s=a(t,["thoughtsTokenCount"]);s!=null&&l(e,["thoughtsTokenCount"],s);let c=a(t,["totalTokenCount"]);c!=null&&l(e,["totalTokenCount"],c);let u=a(t,["promptTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(m=>m)),l(e,["promptTokensDetails"],g)}let d=a(t,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>m)),l(e,["cacheTokensDetails"],g)}let f=a(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>m)),l(e,["responseTokensDetails"],g)}let p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),l(e,["toolUsePromptTokensDetails"],g)}let h=a(t,["trafficType"]);return h!=null&&l(e,["trafficType"],h),e}function m_(t){let e={},n=a(t,["type"]);return n!=null&&l(e,["voiceActivityType"],n),e}function y_(t,e){let n={},o=a(t,["data"]);if(o!=null&&l(n,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=a(t,["mimeType"]);return r!=null&&l(n,["mimeType"],r),n}function v_(t,e){let n={},o=a(t,["content"]);o!=null&&l(n,["content"],o);let r=a(t,["citationMetadata"]);r!=null&&l(n,["citationMetadata"],E_(r));let i=a(t,["tokenCount"]);i!=null&&l(n,["tokenCount"],i);let s=a(t,["finishReason"]);s!=null&&l(n,["finishReason"],s);let c=a(t,["avgLogprobs"]);c!=null&&l(n,["avgLogprobs"],c);let u=a(t,["groundingMetadata"]);u!=null&&l(n,["groundingMetadata"],u);let d=a(t,["index"]);d!=null&&l(n,["index"],d);let f=a(t,["logprobsResult"]);f!=null&&l(n,["logprobsResult"],f);let p=a(t,["safetyRatings"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),l(n,["safetyRatings"],g)}let h=a(t,["urlContextMetadata"]);return h!=null&&l(n,["urlContextMetadata"],h),n}function E_(t,e){let n={},o=a(t,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),l(n,["citations"],r)}return n}function I_(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["contents"]);if(i!=null){let s=Ae(i);Array.isArray(s)&&(s=s.map(c=>c)),l(o,["contents"],s)}return o}function __(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(n,["tokensInfo"],i)}return n}function C_(t,e){let n={},o=a(t,["values"]);o!=null&&l(n,["values"],o);let r=a(t,["statistics"]);return r!=null&&l(n,["statistics"],T_(r)),n}function T_(t,e){let n={},o=a(t,["truncated"]);o!=null&&l(n,["truncated"],o);let r=a(t,["token_count"]);return r!=null&&l(n,["tokenCount"],r),n}function vi(t,e){let n={},o=a(t,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>RC(s))),l(n,["parts"],i)}let r=a(t,["role"]);return r!=null&&l(n,["role"],r),n}function S_(t,e){let n={},o=a(t,["controlType"]);o!=null&&l(n,["controlType"],o);let r=a(t,["enableControlImageComputation"]);return r!=null&&l(n,["computeControl"],r),n}function w_(t,e){let n={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function M_(t,e,n){let o={},r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&l(e,["systemInstruction"],ue(r));let i=a(t,["tools"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(u=>kp(u))),l(e,["tools"],c)}let s=a(t,["generationConfig"]);return e!==void 0&&s!=null&&l(e,["generationConfig"],yC(s)),o}function D_(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["contents"]);if(i!=null){let c=Ae(i);Array.isArray(c)&&(c=c.map(u=>vi(u))),l(o,["contents"],c)}let s=a(e,["config"]);return s!=null&&w_(s),o}function A_(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["contents"]);if(i!=null){let c=Ae(i);Array.isArray(c)&&(c=c.map(u=>u)),l(o,["contents"],c)}let s=a(e,["config"]);return s!=null&&M_(s,o),o}function b_(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["totalTokens"]);r!=null&&l(n,["totalTokens"],r);let i=a(t,["cachedContentTokenCount"]);return i!=null&&l(n,["cachedContentTokenCount"],i),n}function N_(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["totalTokens"]);return r!=null&&l(n,["totalTokens"],r),n}function x_(t,e,n){let o={},r=a(e,["model"]);return r!=null&&l(o,["_url","name"],H(t,r)),o}function R_(t,e,n){let o={},r=a(e,["model"]);return r!=null&&l(o,["_url","name"],H(t,r)),o}function P_(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&l(n,["sdkHttpResponse"],o),n}function k_(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&l(n,["sdkHttpResponse"],o),n}function L_(t,e,n){let o={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&l(e,["parameters","storageUri"],r);let i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&l(e,["parameters","negativePrompt"],i);let s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&l(e,["parameters","sampleCount"],s);let c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&l(e,["parameters","aspectRatio"],c);let u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);let d=a(t,["seed"]);e!==void 0&&d!=null&&l(e,["parameters","seed"],d);let f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&l(e,["parameters","safetySetting"],f);let p=a(t,["personGeneration"]);e!==void 0&&p!=null&&l(e,["parameters","personGeneration"],p);let h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&l(e,["parameters","includeSafetyAttributes"],h);let g=a(t,["includeRaiReason"]);e!==void 0&&g!=null&&l(e,["parameters","includeRaiReason"],g);let m=a(t,["language"]);e!==void 0&&m!=null&&l(e,["parameters","language"],m);let v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&l(e,["parameters","outputOptions","mimeType"],v);let _=a(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&l(e,["parameters","outputOptions","compressionQuality"],_);let I=a(t,["addWatermark"]);e!==void 0&&I!=null&&l(e,["parameters","addWatermark"],I);let M=a(t,["labels"]);e!==void 0&&M!=null&&l(e,["labels"],M);let w=a(t,["editMode"]);e!==void 0&&w!=null&&l(e,["parameters","editMode"],w);let D=a(t,["baseSteps"]);return e!==void 0&&D!=null&&l(e,["parameters","editConfig","baseSteps"],D),o}function O_(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["prompt"]);i!=null&&l(o,["instances[0]","prompt"],i);let s=a(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>VC(d))),l(o,["instances[0]","referenceImages"],u)}let c=a(e,["config"]);return c!=null&&L_(c,o),o}function F_(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ei(s))),l(n,["generatedImages"],i)}return n}function V_(t,e,n){let o={},r=a(t,["taskType"]);e!==void 0&&r!=null&&l(e,["requests[]","taskType"],r);let i=a(t,["title"]);e!==void 0&&i!=null&&l(e,["requests[]","title"],i);let s=a(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&l(e,["requests[]","outputDimensionality"],s),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function U_(t,e,n){let o={},r=a(t,["taskType"]);e!==void 0&&r!=null&&l(e,["instances[]","task_type"],r);let i=a(t,["title"]);e!==void 0&&i!=null&&l(e,["instances[]","title"],i);let s=a(t,["outputDimensionality"]);e!==void 0&&s!=null&&l(e,["parameters","outputDimensionality"],s);let c=a(t,["mimeType"]);e!==void 0&&c!=null&&l(e,["instances[]","mimeType"],c);let u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&l(e,["parameters","autoTruncate"],u),o}function H_(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["contents"]);if(i!=null){let u=pc(t,i);Array.isArray(u)&&(u=u.map(d=>d)),l(o,["requests[]","content"],u)}let s=a(e,["config"]);s!=null&&V_(s,o);let c=a(e,["model"]);return c!==void 0&&l(o,["requests[]","model"],H(t,c)),o}function B_(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["contents"]);if(i!=null){let c=pc(t,i);Array.isArray(c)&&(c=c.map(u=>u)),l(o,["instances[]","content"],c)}let s=a(e,["config"]);return s!=null&&U_(s,o),o}function G_(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>c)),l(n,["embeddings"],s)}let i=a(t,["metadata"]);return i!=null&&l(n,["metadata"],i),n}function $_(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>C_(c))),l(n,["embeddings"],s)}let i=a(t,["metadata"]);return i!=null&&l(n,["metadata"],i),n}function q_(t,e){let n={},o=a(t,["endpoint"]);o!=null&&l(n,["name"],o);let r=a(t,["deployedModelId"]);return r!=null&&l(n,["deployedModelId"],r),n}function z_(t,e){let n={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["fileUri"]);o!=null&&l(n,["fileUri"],o);let r=a(t,["mimeType"]);return r!=null&&l(n,["mimeType"],r),n}function W_(t,e){let n={},o=a(t,["id"]);o!=null&&l(n,["id"],o);let r=a(t,["args"]);r!=null&&l(n,["args"],r);let i=a(t,["name"]);if(i!=null&&l(n,["name"],i),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function J_(t,e){let n={},o=a(t,["allowedFunctionNames"]);o!=null&&l(n,["allowedFunctionNames"],o);let r=a(t,["mode"]);if(r!=null&&l(n,["mode"],r),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Y_(t,e){let n={},o=a(t,["description"]);o!=null&&l(n,["description"],o);let r=a(t,["name"]);r!=null&&l(n,["name"],r);let i=a(t,["parameters"]);i!=null&&l(n,["parameters"],i);let s=a(t,["parametersJsonSchema"]);s!=null&&l(n,["parametersJsonSchema"],s);let c=a(t,["response"]);c!=null&&l(n,["response"],c);let u=a(t,["responseJsonSchema"]);if(u!=null&&l(n,["responseJsonSchema"],u),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function K_(t,e,n,o){let r={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&l(n,["systemInstruction"],vi(ue(i)));let s=a(e,["temperature"]);s!=null&&l(r,["temperature"],s);let c=a(e,["topP"]);c!=null&&l(r,["topP"],c);let u=a(e,["topK"]);u!=null&&l(r,["topK"],u);let d=a(e,["candidateCount"]);d!=null&&l(r,["candidateCount"],d);let f=a(e,["maxOutputTokens"]);f!=null&&l(r,["maxOutputTokens"],f);let p=a(e,["stopSequences"]);p!=null&&l(r,["stopSequences"],p);let h=a(e,["responseLogprobs"]);h!=null&&l(r,["responseLogprobs"],h);let g=a(e,["logprobs"]);g!=null&&l(r,["logprobs"],g);let m=a(e,["presencePenalty"]);m!=null&&l(r,["presencePenalty"],m);let v=a(e,["frequencyPenalty"]);v!=null&&l(r,["frequencyPenalty"],v);let _=a(e,["seed"]);_!=null&&l(r,["seed"],_);let I=a(e,["responseMimeType"]);I!=null&&l(r,["responseMimeType"],I);let M=a(e,["responseSchema"]);M!=null&&l(r,["responseSchema"],hc(M));let w=a(e,["responseJsonSchema"]);if(w!=null&&l(r,["responseJsonSchema"],w),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let D=a(e,["safetySettings"]);if(n!==void 0&&D!=null){let ie=D;Array.isArray(ie)&&(ie=ie.map(Gt=>UC(Gt))),l(n,["safetySettings"],ie)}let C=a(e,["tools"]);if(n!==void 0&&C!=null){let ie=wn(C);Array.isArray(ie)&&(ie=ie.map(Gt=>WC(Sn(Gt)))),l(n,["tools"],ie)}let k=a(e,["toolConfig"]);if(n!==void 0&&k!=null&&l(n,["toolConfig"],zC(k)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let P=a(e,["cachedContent"]);n!==void 0&&P!=null&&l(n,["cachedContent"],ct(t,P));let Y=a(e,["responseModalities"]);Y!=null&&l(r,["responseModalities"],Y);let b=a(e,["mediaResolution"]);b!=null&&l(r,["mediaResolution"],b);let L=a(e,["speechConfig"]);if(L!=null&&l(r,["speechConfig"],gc(L)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let X=a(e,["thinkingConfig"]);X!=null&&l(r,["thinkingConfig"],X);let ve=a(e,["imageConfig"]);ve!=null&&l(r,["imageConfig"],CC(ve));let de=a(e,["enableEnhancedCivicAnswers"]);if(de!=null&&l(r,["enableEnhancedCivicAnswers"],de),a(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function j_(t,e,n,o){let r={},i=a(e,["systemInstruction"]);n!==void 0&&i!=null&&l(n,["systemInstruction"],ue(i));let s=a(e,["temperature"]);s!=null&&l(r,["temperature"],s);let c=a(e,["topP"]);c!=null&&l(r,["topP"],c);let u=a(e,["topK"]);u!=null&&l(r,["topK"],u);let d=a(e,["candidateCount"]);d!=null&&l(r,["candidateCount"],d);let f=a(e,["maxOutputTokens"]);f!=null&&l(r,["maxOutputTokens"],f);let p=a(e,["stopSequences"]);p!=null&&l(r,["stopSequences"],p);let h=a(e,["responseLogprobs"]);h!=null&&l(r,["responseLogprobs"],h);let g=a(e,["logprobs"]);g!=null&&l(r,["logprobs"],g);let m=a(e,["presencePenalty"]);m!=null&&l(r,["presencePenalty"],m);let v=a(e,["frequencyPenalty"]);v!=null&&l(r,["frequencyPenalty"],v);let _=a(e,["seed"]);_!=null&&l(r,["seed"],_);let I=a(e,["responseMimeType"]);I!=null&&l(r,["responseMimeType"],I);let M=a(e,["responseSchema"]);M!=null&&l(r,["responseSchema"],hc(M));let w=a(e,["responseJsonSchema"]);w!=null&&l(r,["responseJsonSchema"],w);let D=a(e,["routingConfig"]);D!=null&&l(r,["routingConfig"],D);let C=a(e,["modelSelectionConfig"]);C!=null&&l(r,["modelConfig"],C);let k=a(e,["safetySettings"]);if(n!==void 0&&k!=null){let Ke=k;Array.isArray(Ke)&&(Ke=Ke.map(Ti=>Ti)),l(n,["safetySettings"],Ke)}let P=a(e,["tools"]);if(n!==void 0&&P!=null){let Ke=wn(P);Array.isArray(Ke)&&(Ke=Ke.map(Ti=>kp(Sn(Ti)))),l(n,["tools"],Ke)}let Y=a(e,["toolConfig"]);n!==void 0&&Y!=null&&l(n,["toolConfig"],Y);let b=a(e,["labels"]);n!==void 0&&b!=null&&l(n,["labels"],b);let L=a(e,["cachedContent"]);n!==void 0&&L!=null&&l(n,["cachedContent"],ct(t,L));let X=a(e,["responseModalities"]);X!=null&&l(r,["responseModalities"],X);let ve=a(e,["mediaResolution"]);ve!=null&&l(r,["mediaResolution"],ve);let de=a(e,["speechConfig"]);de!=null&&l(r,["speechConfig"],gc(de));let ie=a(e,["audioTimestamp"]);ie!=null&&l(r,["audioTimestamp"],ie);let Gt=a(e,["thinkingConfig"]);Gt!=null&&l(r,["thinkingConfig"],Gt);let vc=a(e,["imageConfig"]);if(vc!=null&&l(r,["imageConfig"],TC(vc)),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");let Ec=a(e,["modelArmorConfig"]);return n!==void 0&&Ec!=null&&l(n,["modelArmorConfig"],Ec),r}function Zf(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["contents"]);if(i!=null){let c=Ae(i);Array.isArray(c)&&(c=c.map(u=>vi(u))),l(o,["contents"],c)}let s=a(e,["config"]);return s!=null&&l(o,["generationConfig"],K_(t,s,o)),o}function Qf(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["contents"]);if(i!=null){let c=Ae(i);Array.isArray(c)&&(c=c.map(u=>u)),l(o,["contents"],c)}let s=a(e,["config"]);return s!=null&&l(o,["generationConfig"],j_(t,s,o)),o}function Xf(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>v_(f))),l(n,["candidates"],d)}let i=a(t,["modelVersion"]);i!=null&&l(n,["modelVersion"],i);let s=a(t,["promptFeedback"]);s!=null&&l(n,["promptFeedback"],s);let c=a(t,["responseId"]);c!=null&&l(n,["responseId"],c);let u=a(t,["usageMetadata"]);return u!=null&&l(n,["usageMetadata"],u),n}function ep(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),l(n,["candidates"],f)}let i=a(t,["createTime"]);i!=null&&l(n,["createTime"],i);let s=a(t,["modelVersion"]);s!=null&&l(n,["modelVersion"],s);let c=a(t,["promptFeedback"]);c!=null&&l(n,["promptFeedback"],c);let u=a(t,["responseId"]);u!=null&&l(n,["responseId"],u);let d=a(t,["usageMetadata"]);return d!=null&&l(n,["usageMetadata"],d),n}function Z_(t,e,n){let o={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&l(e,["parameters","sampleCount"],r);let i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&l(e,["parameters","aspectRatio"],i);let s=a(t,["guidanceScale"]);if(e!==void 0&&s!=null&&l(e,["parameters","guidanceScale"],s),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let c=a(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&l(e,["parameters","safetySetting"],c);let u=a(t,["personGeneration"]);e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u);let d=a(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&l(e,["parameters","includeSafetyAttributes"],d);let f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&l(e,["parameters","includeRaiReason"],f);let p=a(t,["language"]);e!==void 0&&p!=null&&l(e,["parameters","language"],p);let h=a(t,["outputMimeType"]);e!==void 0&&h!=null&&l(e,["parameters","outputOptions","mimeType"],h);let g=a(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&l(e,["parameters","outputOptions","compressionQuality"],g),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let m=a(t,["imageSize"]);if(e!==void 0&&m!=null&&l(e,["parameters","sampleImageSize"],m),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Q_(t,e,n){let o={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&l(e,["parameters","storageUri"],r);let i=a(t,["negativePrompt"]);e!==void 0&&i!=null&&l(e,["parameters","negativePrompt"],i);let s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&l(e,["parameters","sampleCount"],s);let c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&l(e,["parameters","aspectRatio"],c);let u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);let d=a(t,["seed"]);e!==void 0&&d!=null&&l(e,["parameters","seed"],d);let f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&l(e,["parameters","safetySetting"],f);let p=a(t,["personGeneration"]);e!==void 0&&p!=null&&l(e,["parameters","personGeneration"],p);let h=a(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&l(e,["parameters","includeSafetyAttributes"],h);let g=a(t,["includeRaiReason"]);e!==void 0&&g!=null&&l(e,["parameters","includeRaiReason"],g);let m=a(t,["language"]);e!==void 0&&m!=null&&l(e,["parameters","language"],m);let v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&l(e,["parameters","outputOptions","mimeType"],v);let _=a(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&l(e,["parameters","outputOptions","compressionQuality"],_);let I=a(t,["addWatermark"]);e!==void 0&&I!=null&&l(e,["parameters","addWatermark"],I);let M=a(t,["labels"]);e!==void 0&&M!=null&&l(e,["labels"],M);let w=a(t,["imageSize"]);e!==void 0&&w!=null&&l(e,["parameters","sampleImageSize"],w);let D=a(t,["enhancePrompt"]);return e!==void 0&&D!=null&&l(e,["parameters","enhancePrompt"],D),o}function X_(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["prompt"]);i!=null&&l(o,["instances[0]","prompt"],i);let s=a(e,["config"]);return s!=null&&Z_(s,o),o}function eC(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["prompt"]);i!=null&&l(o,["instances[0]","prompt"],i);let s=a(e,["config"]);return s!=null&&Q_(s,o),o}function tC(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>pC(c))),l(n,["generatedImages"],s)}let i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&l(n,["positivePromptSafetyAttributes"],Rp(i)),n}function nC(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(c=>Ei(c))),l(n,["generatedImages"],s)}let i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&l(n,["positivePromptSafetyAttributes"],Pp(i)),n}function oC(t,e,n){let o={},r=a(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&l(e,["parameters","sampleCount"],r),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let i=a(t,["durationSeconds"]);if(e!==void 0&&i!=null&&l(e,["parameters","durationSeconds"],i),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&l(e,["parameters","aspectRatio"],s);let c=a(t,["resolution"]);e!==void 0&&c!=null&&l(e,["parameters","resolution"],c);let u=a(t,["personGeneration"]);if(e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let d=a(t,["negativePrompt"]);e!==void 0&&d!=null&&l(e,["parameters","negativePrompt"],d);let f=a(t,["enhancePrompt"]);if(e!==void 0&&f!=null&&l(e,["parameters","enhancePrompt"],f),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let p=a(t,["lastFrame"]);e!==void 0&&p!=null&&l(e,["instances[0]","lastFrame"],Ii(p));let h=a(t,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(m=>iT(m))),l(e,["instances[0]","referenceImages"],g)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function rC(t,e,n){let o={},r=a(t,["numberOfVideos"]);e!==void 0&&r!=null&&l(e,["parameters","sampleCount"],r);let i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);let s=a(t,["fps"]);e!==void 0&&s!=null&&l(e,["parameters","fps"],s);let c=a(t,["durationSeconds"]);e!==void 0&&c!=null&&l(e,["parameters","durationSeconds"],c);let u=a(t,["seed"]);e!==void 0&&u!=null&&l(e,["parameters","seed"],u);let d=a(t,["aspectRatio"]);e!==void 0&&d!=null&&l(e,["parameters","aspectRatio"],d);let f=a(t,["resolution"]);e!==void 0&&f!=null&&l(e,["parameters","resolution"],f);let p=a(t,["personGeneration"]);e!==void 0&&p!=null&&l(e,["parameters","personGeneration"],p);let h=a(t,["pubsubTopic"]);e!==void 0&&h!=null&&l(e,["parameters","pubsubTopic"],h);let g=a(t,["negativePrompt"]);e!==void 0&&g!=null&&l(e,["parameters","negativePrompt"],g);let m=a(t,["enhancePrompt"]);e!==void 0&&m!=null&&l(e,["parameters","enhancePrompt"],m);let v=a(t,["generateAudio"]);e!==void 0&&v!=null&&l(e,["parameters","generateAudio"],v);let _=a(t,["lastFrame"]);e!==void 0&&_!=null&&l(e,["instances[0]","lastFrame"],$e(_));let I=a(t,["referenceImages"]);if(e!==void 0&&I!=null){let D=I;Array.isArray(D)&&(D=D.map(C=>sT(C))),l(e,["instances[0]","referenceImages"],D)}let M=a(t,["mask"]);e!==void 0&&M!=null&&l(e,["instances[0]","mask"],rT(M));let w=a(t,["compressionQuality"]);return e!==void 0&&w!=null&&l(e,["parameters","compressionQuality"],w),o}function iC(t,e){let n={},o=a(t,["name"]);o!=null&&l(n,["name"],o);let r=a(t,["metadata"]);r!=null&&l(n,["metadata"],r);let i=a(t,["done"]);i!=null&&l(n,["done"],i);let s=a(t,["error"]);s!=null&&l(n,["error"],s);let c=a(t,["response","generateVideoResponse"]);return c!=null&&l(n,["response"],cC(c)),n}function sC(t,e){let n={},o=a(t,["name"]);o!=null&&l(n,["name"],o);let r=a(t,["metadata"]);r!=null&&l(n,["metadata"],r);let i=a(t,["done"]);i!=null&&l(n,["done"],i);let s=a(t,["error"]);s!=null&&l(n,["error"],s);let c=a(t,["response"]);return c!=null&&l(n,["response"],uC(c)),n}function aC(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["prompt"]);i!=null&&l(o,["instances[0]","prompt"],i);let s=a(e,["image"]);s!=null&&l(o,["instances[0]","image"],Ii(s));let c=a(e,["video"]);c!=null&&l(o,["instances[0]","video"],Lp(c));let u=a(e,["source"]);u!=null&&dC(u,o);let d=a(e,["config"]);return d!=null&&oC(d,o),o}function lC(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["prompt"]);i!=null&&l(o,["instances[0]","prompt"],i);let s=a(e,["image"]);s!=null&&l(o,["instances[0]","image"],$e(s));let c=a(e,["video"]);c!=null&&l(o,["instances[0]","video"],Op(c));let u=a(e,["source"]);u!=null&&fC(u,o);let d=a(e,["config"]);return d!=null&&rC(d,o),o}function cC(t,e){let n={},o=a(t,["generatedSamples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>gC(c))),l(n,["generatedVideos"],s)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&l(n,["raiMediaFilteredCount"],r);let i=a(t,["raiMediaFilteredReasons"]);return i!=null&&l(n,["raiMediaFilteredReasons"],i),n}function uC(t,e){let n={},o=a(t,["videos"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>mC(c))),l(n,["generatedVideos"],s)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&l(n,["raiMediaFilteredCount"],r);let i=a(t,["raiMediaFilteredReasons"]);return i!=null&&l(n,["raiMediaFilteredReasons"],i),n}function dC(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&l(e,["instances[0]","prompt"],r);let i=a(t,["image"]);e!==void 0&&i!=null&&l(e,["instances[0]","image"],Ii(i));let s=a(t,["video"]);return e!==void 0&&s!=null&&l(e,["instances[0]","video"],Lp(s)),o}function fC(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&l(e,["instances[0]","prompt"],r);let i=a(t,["image"]);e!==void 0&&i!=null&&l(e,["instances[0]","image"],$e(i));let s=a(t,["video"]);return e!==void 0&&s!=null&&l(e,["instances[0]","video"],Op(s)),o}function pC(t,e){let n={},o=a(t,["_self"]);o!=null&&l(n,["image"],SC(o));let r=a(t,["raiFilteredReason"]);r!=null&&l(n,["raiFilteredReason"],r);let i=a(t,["_self"]);return i!=null&&l(n,["safetyAttributes"],Rp(i)),n}function Ei(t,e){let n={},o=a(t,["_self"]);o!=null&&l(n,["image"],xp(o));let r=a(t,["raiFilteredReason"]);r!=null&&l(n,["raiFilteredReason"],r);let i=a(t,["_self"]);i!=null&&l(n,["safetyAttributes"],Pp(i));let s=a(t,["prompt"]);return s!=null&&l(n,["enhancedPrompt"],s),n}function hC(t,e){let n={},o=a(t,["_self"]);o!=null&&l(n,["mask"],xp(o));let r=a(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(n,["labels"],i)}return n}function gC(t,e){let n={},o=a(t,["video"]);return o!=null&&l(n,["video"],nT(o)),n}function mC(t,e){let n={},o=a(t,["_self"]);return o!=null&&l(n,["video"],oT(o)),n}function yC(t,e){let n={},o=a(t,["modelSelectionConfig"]);o!=null&&l(n,["modelConfig"],o);let r=a(t,["responseJsonSchema"]);r!=null&&l(n,["responseJsonSchema"],r);let i=a(t,["audioTimestamp"]);i!=null&&l(n,["audioTimestamp"],i);let s=a(t,["candidateCount"]);s!=null&&l(n,["candidateCount"],s);let c=a(t,["enableAffectiveDialog"]);c!=null&&l(n,["enableAffectiveDialog"],c);let u=a(t,["frequencyPenalty"]);u!=null&&l(n,["frequencyPenalty"],u);let d=a(t,["logprobs"]);d!=null&&l(n,["logprobs"],d);let f=a(t,["maxOutputTokens"]);f!=null&&l(n,["maxOutputTokens"],f);let p=a(t,["mediaResolution"]);p!=null&&l(n,["mediaResolution"],p);let h=a(t,["presencePenalty"]);h!=null&&l(n,["presencePenalty"],h);let g=a(t,["responseLogprobs"]);g!=null&&l(n,["responseLogprobs"],g);let m=a(t,["responseMimeType"]);m!=null&&l(n,["responseMimeType"],m);let v=a(t,["responseModalities"]);v!=null&&l(n,["responseModalities"],v);let _=a(t,["responseSchema"]);_!=null&&l(n,["responseSchema"],_);let I=a(t,["routingConfig"]);I!=null&&l(n,["routingConfig"],I);let M=a(t,["seed"]);M!=null&&l(n,["seed"],M);let w=a(t,["speechConfig"]);w!=null&&l(n,["speechConfig"],w);let D=a(t,["stopSequences"]);D!=null&&l(n,["stopSequences"],D);let C=a(t,["temperature"]);C!=null&&l(n,["temperature"],C);let k=a(t,["thinkingConfig"]);k!=null&&l(n,["thinkingConfig"],k);let P=a(t,["topK"]);P!=null&&l(n,["topK"],P);let Y=a(t,["topP"]);if(Y!=null&&l(n,["topP"],Y),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function vC(t,e,n){let o={},r=a(e,["model"]);return r!=null&&l(o,["_url","name"],H(t,r)),o}function EC(t,e,n){let o={},r=a(e,["model"]);return r!=null&&l(o,["_url","name"],H(t,r)),o}function IC(t,e){let n={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let o=a(t,["enableWidget"]);return o!=null&&l(n,["enableWidget"],o),n}function _C(t,e){let n={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let o=a(t,["timeRangeFilter"]);return o!=null&&l(n,["timeRangeFilter"],o),n}function CC(t,e){let n={},o=a(t,["aspectRatio"]);o!=null&&l(n,["aspectRatio"],o);let r=a(t,["imageSize"]);if(r!=null&&l(n,["imageSize"],r),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function TC(t,e){let n={},o=a(t,["aspectRatio"]);o!=null&&l(n,["aspectRatio"],o);let r=a(t,["imageSize"]);r!=null&&l(n,["imageSize"],r);let i=a(t,["personGeneration"]);i!=null&&l(n,["personGeneration"],i);let s=a(t,["outputMimeType"]);s!=null&&l(n,["imageOutputOptions","mimeType"],s);let c=a(t,["outputCompressionQuality"]);return c!=null&&l(n,["imageOutputOptions","compressionQuality"],c),n}function SC(t,e){let n={},o=a(t,["bytesBase64Encoded"]);o!=null&&l(n,["imageBytes"],Et(o));let r=a(t,["mimeType"]);return r!=null&&l(n,["mimeType"],r),n}function xp(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&l(n,["gcsUri"],o);let r=a(t,["bytesBase64Encoded"]);r!=null&&l(n,["imageBytes"],Et(r));let i=a(t,["mimeType"]);return i!=null&&l(n,["mimeType"],i),n}function Ii(t,e){let n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let o=a(t,["imageBytes"]);o!=null&&l(n,["bytesBase64Encoded"],Et(o));let r=a(t,["mimeType"]);return r!=null&&l(n,["mimeType"],r),n}function $e(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&l(n,["gcsUri"],o);let r=a(t,["imageBytes"]);r!=null&&l(n,["bytesBase64Encoded"],Et(r));let i=a(t,["mimeType"]);return i!=null&&l(n,["mimeType"],i),n}function wC(t,e,n,o){let r={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&l(n,["_query","pageSize"],i);let s=a(e,["pageToken"]);n!==void 0&&s!=null&&l(n,["_query","pageToken"],s);let c=a(e,["filter"]);n!==void 0&&c!=null&&l(n,["_query","filter"],c);let u=a(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],Sp(t,u)),r}function MC(t,e,n,o){let r={},i=a(e,["pageSize"]);n!==void 0&&i!=null&&l(n,["_query","pageSize"],i);let s=a(e,["pageToken"]);n!==void 0&&s!=null&&l(n,["_query","pageToken"],s);let c=a(e,["filter"]);n!==void 0&&c!=null&&l(n,["_query","filter"],c);let u=a(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],Sp(t,u)),r}function DC(t,e,n){let o={},r=a(e,["config"]);return r!=null&&wC(t,r,o),o}function AC(t,e,n){let o={},r=a(e,["config"]);return r!=null&&MC(t,r,o),o}function bC(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);let i=a(t,["_self"]);if(i!=null){let s=wp(i);Array.isArray(s)&&(s=s.map(c=>Vl(c))),l(n,["models"],s)}return n}function NC(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);let i=a(t,["_self"]);if(i!=null){let s=wp(i);Array.isArray(s)&&(s=s.map(c=>Ul(c))),l(n,["models"],s)}return n}function xC(t,e){let n={},o=a(t,["maskMode"]);o!=null&&l(n,["maskMode"],o);let r=a(t,["segmentationClasses"]);r!=null&&l(n,["maskClasses"],r);let i=a(t,["maskDilation"]);return i!=null&&l(n,["dilation"],i),n}function Vl(t,e){let n={},o=a(t,["name"]);o!=null&&l(n,["name"],o);let r=a(t,["displayName"]);r!=null&&l(n,["displayName"],r);let i=a(t,["description"]);i!=null&&l(n,["description"],i);let s=a(t,["version"]);s!=null&&l(n,["version"],s);let c=a(t,["_self"]);c!=null&&l(n,["tunedModelInfo"],JC(c));let u=a(t,["inputTokenLimit"]);u!=null&&l(n,["inputTokenLimit"],u);let d=a(t,["outputTokenLimit"]);d!=null&&l(n,["outputTokenLimit"],d);let f=a(t,["supportedGenerationMethods"]);f!=null&&l(n,["supportedActions"],f);let p=a(t,["temperature"]);p!=null&&l(n,["temperature"],p);let h=a(t,["maxTemperature"]);h!=null&&l(n,["maxTemperature"],h);let g=a(t,["topP"]);g!=null&&l(n,["topP"],g);let m=a(t,["topK"]);m!=null&&l(n,["topK"],m);let v=a(t,["thinking"]);return v!=null&&l(n,["thinking"],v),n}function Ul(t,e){let n={},o=a(t,["name"]);o!=null&&l(n,["name"],o);let r=a(t,["displayName"]);r!=null&&l(n,["displayName"],r);let i=a(t,["description"]);i!=null&&l(n,["description"],i);let s=a(t,["versionId"]);s!=null&&l(n,["version"],s);let c=a(t,["deployedModels"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>q_(g))),l(n,["endpoints"],h)}let u=a(t,["labels"]);u!=null&&l(n,["labels"],u);let d=a(t,["_self"]);d!=null&&l(n,["tunedModelInfo"],YC(d));let f=a(t,["defaultCheckpointId"]);f!=null&&l(n,["defaultCheckpointId"],f);let p=a(t,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),l(n,["checkpoints"],h)}return n}function RC(t,e){let n={},o=a(t,["mediaResolution"]);o!=null&&l(n,["mediaResolution"],o);let r=a(t,["codeExecutionResult"]);r!=null&&l(n,["codeExecutionResult"],r);let i=a(t,["executableCode"]);i!=null&&l(n,["executableCode"],i);let s=a(t,["fileData"]);s!=null&&l(n,["fileData"],z_(s));let c=a(t,["functionCall"]);c!=null&&l(n,["functionCall"],W_(c));let u=a(t,["functionResponse"]);u!=null&&l(n,["functionResponse"],u);let d=a(t,["inlineData"]);d!=null&&l(n,["inlineData"],y_(d));let f=a(t,["text"]);f!=null&&l(n,["text"],f);let p=a(t,["thought"]);p!=null&&l(n,["thought"],p);let h=a(t,["thoughtSignature"]);h!=null&&l(n,["thoughtSignature"],h);let g=a(t,["videoMetadata"]);return g!=null&&l(n,["videoMetadata"],g),n}function PC(t,e){let n={},o=a(t,["productImage"]);return o!=null&&l(n,["image"],$e(o)),n}function kC(t,e,n){let o={},r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&l(e,["parameters","sampleCount"],r);let i=a(t,["baseSteps"]);e!==void 0&&i!=null&&l(e,["parameters","baseSteps"],i);let s=a(t,["outputGcsUri"]);e!==void 0&&s!=null&&l(e,["parameters","storageUri"],s);let c=a(t,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);let u=a(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&l(e,["parameters","safetySetting"],u);let d=a(t,["personGeneration"]);e!==void 0&&d!=null&&l(e,["parameters","personGeneration"],d);let f=a(t,["addWatermark"]);e!==void 0&&f!=null&&l(e,["parameters","addWatermark"],f);let p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","mimeType"],p);let h=a(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&l(e,["parameters","outputOptions","compressionQuality"],h);let g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&l(e,["parameters","enhancePrompt"],g);let m=a(t,["labels"]);return e!==void 0&&m!=null&&l(e,["labels"],m),o}function LC(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["source"]);i!=null&&FC(i,o);let s=a(e,["config"]);return s!=null&&kC(s,o),o}function OC(t,e){let n={},o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ei(i))),l(n,["generatedImages"],r)}return n}function FC(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&l(e,["instances[0]","prompt"],r);let i=a(t,["personImage"]);e!==void 0&&i!=null&&l(e,["instances[0]","personImage","image"],$e(i));let s=a(t,["productImages"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(u=>PC(u))),l(e,["instances[0]","productImages"],c)}return o}function VC(t,e){let n={},o=a(t,["referenceImage"]);o!=null&&l(n,["referenceImage"],$e(o));let r=a(t,["referenceId"]);r!=null&&l(n,["referenceId"],r);let i=a(t,["referenceType"]);i!=null&&l(n,["referenceType"],i);let s=a(t,["maskImageConfig"]);s!=null&&l(n,["maskImageConfig"],xC(s));let c=a(t,["controlImageConfig"]);c!=null&&l(n,["controlImageConfig"],S_(c));let u=a(t,["styleImageConfig"]);u!=null&&l(n,["styleImageConfig"],u);let d=a(t,["subjectImageConfig"]);return d!=null&&l(n,["subjectImageConfig"],d),n}function Rp(t,e){let n={},o=a(t,["safetyAttributes","categories"]);o!=null&&l(n,["categories"],o);let r=a(t,["safetyAttributes","scores"]);r!=null&&l(n,["scores"],r);let i=a(t,["contentType"]);return i!=null&&l(n,["contentType"],i),n}function Pp(t,e){let n={},o=a(t,["safetyAttributes","categories"]);o!=null&&l(n,["categories"],o);let r=a(t,["safetyAttributes","scores"]);r!=null&&l(n,["scores"],r);let i=a(t,["contentType"]);return i!=null&&l(n,["contentType"],i),n}function UC(t,e){let n={},o=a(t,["category"]);if(o!=null&&l(n,["category"],o),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=a(t,["threshold"]);return r!=null&&l(n,["threshold"],r),n}function HC(t,e){let n={},o=a(t,["image"]);return o!=null&&l(n,["image"],$e(o)),n}function BC(t,e,n){let o={},r=a(t,["mode"]);e!==void 0&&r!=null&&l(e,["parameters","mode"],r);let i=a(t,["maxPredictions"]);e!==void 0&&i!=null&&l(e,["parameters","maxPredictions"],i);let s=a(t,["confidenceThreshold"]);e!==void 0&&s!=null&&l(e,["parameters","confidenceThreshold"],s);let c=a(t,["maskDilation"]);e!==void 0&&c!=null&&l(e,["parameters","maskDilation"],c);let u=a(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&l(e,["parameters","binaryColorThreshold"],u);let d=a(t,["labels"]);return e!==void 0&&d!=null&&l(e,["labels"],d),o}function GC(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["source"]);i!=null&&qC(i,o);let s=a(e,["config"]);return s!=null&&BC(s,o),o}function $C(t,e){let n={},o=a(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>hC(i))),l(n,["generatedMasks"],r)}return n}function qC(t,e,n){let o={},r=a(t,["prompt"]);e!==void 0&&r!=null&&l(e,["instances[0]","prompt"],r);let i=a(t,["image"]);e!==void 0&&i!=null&&l(e,["instances[0]","image"],$e(i));let s=a(t,["scribbleImage"]);return e!==void 0&&s!=null&&l(e,["instances[0]","scribble"],HC(s)),o}function zC(t,e){let n={},o=a(t,["retrievalConfig"]);o!=null&&l(n,["retrievalConfig"],o);let r=a(t,["functionCallingConfig"]);return r!=null&&l(n,["functionCallingConfig"],J_(r)),n}function WC(t,e){let n={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=a(t,["computerUse"]);o!=null&&l(n,["computerUse"],o);let r=a(t,["fileSearch"]);r!=null&&l(n,["fileSearch"],r);let i=a(t,["codeExecution"]);if(i!=null&&l(n,["codeExecution"],i),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let s=a(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>h)),l(n,["functionDeclarations"],p)}let c=a(t,["googleMaps"]);c!=null&&l(n,["googleMaps"],IC(c));let u=a(t,["googleSearch"]);u!=null&&l(n,["googleSearch"],_C(u));let d=a(t,["googleSearchRetrieval"]);d!=null&&l(n,["googleSearchRetrieval"],d);let f=a(t,["urlContext"]);return f!=null&&l(n,["urlContext"],f),n}function kp(t,e){let n={},o=a(t,["retrieval"]);o!=null&&l(n,["retrieval"],o);let r=a(t,["computerUse"]);if(r!=null&&l(n,["computerUse"],r),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let i=a(t,["codeExecution"]);i!=null&&l(n,["codeExecution"],i);let s=a(t,["enterpriseWebSearch"]);s!=null&&l(n,["enterpriseWebSearch"],s);let c=a(t,["functionDeclarations"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Y_(g))),l(n,["functionDeclarations"],h)}let u=a(t,["googleMaps"]);u!=null&&l(n,["googleMaps"],u);let d=a(t,["googleSearch"]);d!=null&&l(n,["googleSearch"],d);let f=a(t,["googleSearchRetrieval"]);f!=null&&l(n,["googleSearchRetrieval"],f);let p=a(t,["urlContext"]);return p!=null&&l(n,["urlContext"],p),n}function JC(t,e){let n={},o=a(t,["baseModel"]);o!=null&&l(n,["baseModel"],o);let r=a(t,["createTime"]);r!=null&&l(n,["createTime"],r);let i=a(t,["updateTime"]);return i!=null&&l(n,["updateTime"],i),n}function YC(t,e){let n={},o=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&l(n,["baseModel"],o);let r=a(t,["createTime"]);r!=null&&l(n,["createTime"],r);let i=a(t,["updateTime"]);return i!=null&&l(n,["updateTime"],i),n}function KC(t,e,n){let o={},r=a(t,["displayName"]);e!==void 0&&r!=null&&l(e,["displayName"],r);let i=a(t,["description"]);e!==void 0&&i!=null&&l(e,["description"],i);let s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&l(e,["defaultCheckpointId"],s),o}function jC(t,e,n){let o={},r=a(t,["displayName"]);e!==void 0&&r!=null&&l(e,["displayName"],r);let i=a(t,["description"]);e!==void 0&&i!=null&&l(e,["description"],i);let s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&l(e,["defaultCheckpointId"],s),o}function ZC(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","name"],H(t,r));let i=a(e,["config"]);return i!=null&&KC(i,o),o}function QC(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["config"]);return i!=null&&jC(i,o),o}function XC(t,e,n){let o={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&l(e,["parameters","storageUri"],r);let i=a(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&l(e,["parameters","safetySetting"],i);let s=a(t,["personGeneration"]);e!==void 0&&s!=null&&l(e,["parameters","personGeneration"],s);let c=a(t,["includeRaiReason"]);e!==void 0&&c!=null&&l(e,["parameters","includeRaiReason"],c);let u=a(t,["outputMimeType"]);e!==void 0&&u!=null&&l(e,["parameters","outputOptions","mimeType"],u);let d=a(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&l(e,["parameters","outputOptions","compressionQuality"],d);let f=a(t,["enhanceInputImage"]);e!==void 0&&f!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],f);let p=a(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],p);let h=a(t,["labels"]);e!==void 0&&h!=null&&l(e,["labels"],h);let g=a(t,["numberOfImages"]);e!==void 0&&g!=null&&l(e,["parameters","sampleCount"],g);let m=a(t,["mode"]);return e!==void 0&&m!=null&&l(e,["parameters","mode"],m),o}function eT(t,e,n){let o={},r=a(e,["model"]);r!=null&&l(o,["_url","model"],H(t,r));let i=a(e,["image"]);i!=null&&l(o,["instances[0]","image"],$e(i));let s=a(e,["upscaleFactor"]);s!=null&&l(o,["parameters","upscaleConfig","upscaleFactor"],s);let c=a(e,["config"]);return c!=null&&XC(c,o),o}function tT(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Ei(s))),l(n,["generatedImages"],i)}return n}function nT(t,e){let n={},o=a(t,["uri"]);o!=null&&l(n,["uri"],o);let r=a(t,["encodedVideo"]);r!=null&&l(n,["videoBytes"],Et(r));let i=a(t,["encoding"]);return i!=null&&l(n,["mimeType"],i),n}function oT(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&l(n,["uri"],o);let r=a(t,["bytesBase64Encoded"]);r!=null&&l(n,["videoBytes"],Et(r));let i=a(t,["mimeType"]);return i!=null&&l(n,["mimeType"],i),n}function rT(t,e){let n={},o=a(t,["image"]);o!=null&&l(n,["_self"],$e(o));let r=a(t,["maskMode"]);return r!=null&&l(n,["maskMode"],r),n}function iT(t,e){let n={},o=a(t,["image"]);o!=null&&l(n,["image"],Ii(o));let r=a(t,["referenceType"]);return r!=null&&l(n,["referenceType"],r),n}function sT(t,e){let n={},o=a(t,["image"]);o!=null&&l(n,["image"],$e(o));let r=a(t,["referenceType"]);return r!=null&&l(n,["referenceType"],r),n}function Lp(t,e){let n={},o=a(t,["uri"]);o!=null&&l(n,["uri"],o);let r=a(t,["videoBytes"]);r!=null&&l(n,["encodedVideo"],Et(r));let i=a(t,["mimeType"]);return i!=null&&l(n,["encoding"],i),n}function Op(t,e){let n={},o=a(t,["uri"]);o!=null&&l(n,["gcsUri"],o);let r=a(t,["videoBytes"]);r!=null&&l(n,["bytesBase64Encoded"],Et(r));let i=a(t,["mimeType"]);return i!=null&&l(n,["mimeType"],i),n}function aT(t,e){let n={},o=a(t,["displayName"]);return e!==void 0&&o!=null&&l(e,["displayName"],o),n}function lT(t){let e={},n=a(t,["config"]);return n!=null&&aT(n,e),e}function cT(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&l(e,["_query","force"],o),n}function uT(t){let e={},n=a(t,["name"]);n!=null&&l(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&cT(o,e),e}function dT(t){let e={},n=a(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function fT(t,e){let n={},o=a(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["customMetadata"],i)}let r=a(t,["chunkingConfig"]);return e!==void 0&&r!=null&&l(e,["chunkingConfig"],r),n}function pT(t){let e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);let o=a(t,["metadata"]);o!=null&&l(e,["metadata"],o);let r=a(t,["done"]);r!=null&&l(e,["done"],r);let i=a(t,["error"]);i!=null&&l(e,["error"],i);let s=a(t,["response"]);return s!=null&&l(e,["response"],gT(s)),e}function hT(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&l(e,["_url","file_search_store_name"],n);let o=a(t,["fileName"]);o!=null&&l(e,["fileName"],o);let r=a(t,["config"]);return r!=null&&fT(r,e),e}function gT(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["parent"]);o!=null&&l(e,["parent"],o);let r=a(t,["documentName"]);return r!=null&&l(e,["documentName"],r),e}function mT(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function yT(t){let e={},n=a(t,["config"]);return n!=null&&mT(n,e),e}function vT(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["fileSearchStores"],i)}return e}function Fp(t,e){let n={},o=a(t,["mimeType"]);e!==void 0&&o!=null&&l(e,["mimeType"],o);let r=a(t,["displayName"]);e!==void 0&&r!=null&&l(e,["displayName"],r);let i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(u=>u)),l(e,["customMetadata"],c)}let s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&l(e,["chunkingConfig"],s),n}function ET(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&l(e,["_url","file_search_store_name"],n);let o=a(t,["config"]);return o!=null&&Fp(o,e),e}function IT(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}var _T="Content-Type",CT="X-Server-Timeout",TT="User-Agent",Hl="x-goog-api-client",ST="1.40.0",wT=`google-genai-sdk/${ST}`,MT="v1beta1",DT="v1beta",Bl=class{constructor(e){var n,o,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));let i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");let c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:MT}else{if(!this.clientOptions.apiKey)throw new ho({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:DT,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){let r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===mp.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(let[s,c]of Object.entries(e.queryParams))r.searchParams.append(s,String(c));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){let o=JSON.parse(JSON.stringify(e));for(let[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){let i=new AbortController,s=i.signal;if(n.timeout&&n?.timeout>0){let c=setTimeout(()=>i.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&AT(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await tp(r),new po(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await tp(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return He(this,arguments,function*(){var o;let r=(o=e?.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="",c="data:",u=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:d,value:f}=yield N(r.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let p=i.decode(f,{stream:!0});try{let m=JSON.parse(p);if("error"in m){let v=JSON.parse(JSON.stringify(m.error)),_=v.status,I=v.code,M=`got status: ${_}. ${JSON.stringify(m)}`;if(I>=400&&I<600)throw new ho({message:M,status:I})}}catch(m){if(m.name==="ApiError")throw m}s+=p;let h=-1,g=0;for(;;){h=-1,g=0;for(let _ of u){let I=s.indexOf(_);I!==-1&&(h===-1||I<h)&&(h=I,g=_.length)}if(h===-1)break;let m=s.substring(0,h);s=s.substring(h+g);let v=m.trim();if(v.startsWith(c)){let _=v.substring(c.length).trim();try{let I=new Response(_,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield N(new po(I))}catch(I){throw new Error(`exception parsing stream chunk ${_}. ${I}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){let e={},n=wT+" "+this.clientOptions.userAgentExtra;return e[TT]=n,e[Hl]=n,e[_T]="application/json",e}async getHeadersInternal(e,n){let o=new Headers;if(e&&e.headers){for(let[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(CT,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;let r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let i=this.clientOptions.uploader,s=await i.stat(e);r.sizeBytes=String(s.size);let c=(o=n?.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=c;let u={file:r},d=this.getFileName(e),f=S("upload/v1beta/files",u._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,u,n?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,o){var r;let i=this.clientOptions.uploader,s=await i.stat(n),c=String(s.size),u=(r=o?.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};o!=null&&Fp(o,p);let h=await this.fetchUploadUrl(d,c,u,f,p,o?.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,s){var c;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};let d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:u});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}};async function tp(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};let r=JSON.stringify(o);throw n>=400&&n<600?new ho({message:r,status:n}):new Error(r)}}function AT(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,s){let c=Object.assign({},i);for(let u in s)if(Object.prototype.hasOwnProperty.call(s,u)){let d=s[u],f=c[u];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?c[u]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),c[u]=d)}return c}let r=o(n,e);t.body=JSON.stringify(r)}var bT="mcp_used/unknown",NT=!1;function Vp(t){for(let e of t)if(xT(e)||typeof e=="object"&&"inputSchema"in e)return!0;return NT}function Up(t){var e;let n=(e=t[Hl])!==null&&e!==void 0?e:"";t[Hl]=(n+` ${bT}`).trimStart()}function xT(t){return t!==null&&typeof t=="object"&&t instanceof Gl}function RT(t){return He(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){let s=yield N(n.listTools({cursor:r}));for(let c of s.tools)yield yield N(c),i++;if(!s.nextCursor)break;r=s.nextCursor}})}var Gl=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;let i={},s=[];for(let f of this.mcpClients)try{for(var c=!0,u=(n=void 0,Be(RT(f))),d;d=await u.next(),e=d.done,!e;c=!0){r=d.value,c=!1;let p=r;s.push(p);let h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!c&&!e&&(o=u.return)&&await o.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),pE(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let o of e)if(o.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[o.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let s=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:s.isError?{error:s}:s}})}return n}};async function PT(t,e,n){let o=new bl,r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}var $l=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=LT(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),u=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${c}`,d=()=>{},f=new Promise(w=>{d=w}),p=e.callbacks,h=function(){d({})},g=this.apiClient,m={onopen:h,onmessage:w=>{PT(g,p.onmessage,w)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(w){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(w){}},v=this.webSocketFactory.create(u,kT(s),m);v.connect(),await f;let M={setup:{model:H(this.apiClient,e.model)}};return v.send(JSON.stringify(M)),new ql(v,this.apiClient)}},ql=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=a_(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=s_(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(uo.PLAY)}pause(){this.sendPlaybackControl(uo.PAUSE)}stop(){this.sendPlaybackControl(uo.STOP)}resetContext(){this.sendPlaybackControl(uo.RESET_CONTEXT)}close(){this.conn.close()}};function kT(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function LT(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var OT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FT(t,e,n){let o=new Al,r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;let i=JSON.parse(r);if(t.isVertexAI()){let s=u_(i);Object.assign(o,s)}else Object.assign(o,i);e(o)}var zl=class{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new $l(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,s,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&Vp(e.config.tools)&&Up(p);let h=HT(p);if(this.apiClient.isVertexAI()){let b=this.apiClient.getProject(),L=this.apiClient.getLocation(),X=this.apiClient.getApiKey(),ve=!!b&&!!L||!!X;this.apiClient.getCustomBaseUrl()&&!ve?f=u:(f=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f))}else{let b=this.apiClient.getApiKey(),L="BidiGenerateContent",X="key";b?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),L="BidiGenerateContentConstrained",X="access_token"),f=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${L}?${X}=${b}`}let g=()=>{},m=new Promise(b=>{g=b}),v=e.callbacks,_=function(){var b;(b=v?.onopen)===null||b===void 0||b.call(v),g({})},I=this.apiClient,M={onopen:_,onmessage:b=>{FT(I,v.onmessage,b)},onerror:(n=v?.onerror)!==null&&n!==void 0?n:function(b){},onclose:(o=v?.onclose)!==null&&o!==void 0?o:function(b){}},w=this.webSocketFactory.create(f,UT(h),M);w.connect(),await m;let D=H(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){let b=this.apiClient.getProject(),L=this.apiClient.getLocation();b&&L&&(D=`projects/${b}/locations/${L}/`+D)}let C={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hl.AUDIO]}:e.config.responseModalities=[hl.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let k=(c=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[],P=[];for(let b of k)if(this.isCallableTool(b)){let L=b;P.push(await L.tool())}else P.push(b);P.length>0&&(e.config.tools=P);let Y={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=i_(this.apiClient,Y):C=r_(this.apiClient,Y),delete C.config,w.send(JSON.stringify(C)),new Wl(w,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},VT={turnComplete:!0},Wl=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Ae(n.turns),e.isVertexAI()||(o=o.map(r=>vi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(let i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(OT)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},VT),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:c_(e)}:n={realtimeInput:l_(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function UT(t){let e={};return t.forEach((n,o)=>{e[o]=n}),e}function HT(t){let e=new Headers;for(let[n,o]of Object.entries(t))e.append(n,o);return e}var np=10;function op(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let s of(n=t?.tools)!==null&&n!==void 0?n:[])if(_n(s)){r=!0;break}if(!r)return!0;let i=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function _n(t){return"callTool"in t&&typeof t.callTool=="function"}function BT(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>_n(r)))!==null&&o!==void 0?o:!1}function rp(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(_n(o))return;let i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function ip(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var Jl=class extends Ge{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,s,c;let u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!BT(n)||op(n.config))return await this.generateContentInternal(u);let d=rp(n);if(d.length>0){let v=d.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let f,p,h=Ae(u.contents),g=(i=(r=(o=u.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:np,m=0;for(;m<g&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){let v=f.candidates[0].content,_=[];for(let I of(c=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&c!==void 0?c:[])if(_n(I)){let w=await I.callTool(f.functionCalls);_.push(...w)}m++,p={role:"user",parts:_},u.contents=Ae(u.contents),u.contents.push(v),u.contents.push(p),ip(u.config)&&(h.push(v),h.push(p))}return ip(u.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var o,r,i,s,c;if(this.maybeMoveToResponseJsonSchem(n),op(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let u=rp(n);if(u.length>0){let p=u.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let d=(i=(r=(o=n?.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(c=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i,s=[];if(o?.generatedImages)for(let u of o.generatedImages)u&&u?.safetyAttributes&&((r=u?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=u?.safetyAttributes:s.push(u);let c;return i?c={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:c={generatedImages:s,sdkHttpResponse:o.sdkHttpResponse},c}),this.list=async n=>{var o;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new lt(It.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(s),s)},this.editImage=async n=>{let o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));let r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,s,c,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((u=(c=n.source)===null||c===void 0?void 0:c.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;let i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;let s=await Promise.all(i.map(async u=>_n(u)?await u.tool():u)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(c.config.tools=s,e.config&&e.config.tools&&Vp(e.config.tools)){let u=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{},d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Up(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,o,r;let i=new Map;for(let s of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(_n(s)){let c=s,u=await c.tool();for(let d of(r=u.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,c)}}return i}async processAfcStream(e){var n,o,r;let i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:np,s=!1,c=0,u=await this.initAfcToolsMap(e);return(function(d,f,p){return He(this,arguments,function*(){for(var h,g,m,v,_,I;c<i;){s&&(c++,s=!1);let C=yield N(d.processParamsMaybeAddMcpUsage(p)),k=yield N(d.generateContentStreamInternal(C)),P=[],Y=[];try{for(var M=!0,w=(g=void 0,Be(k)),D;D=yield N(w.next()),h=D.done,!h;M=!0){v=D.value,M=!1;let b=v;if(yield yield N(b),b.candidates&&(!((_=b.candidates[0])===null||_===void 0)&&_.content)){Y.push(b.candidates[0].content);for(let L of(I=b.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(c<i&&L.functionCall){if(!L.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(L.functionCall.name)){let X=yield N(f.get(L.functionCall.name).callTool([L.functionCall]));P.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${L.functionCall.name}`)}}}}catch(b){g={error:b}}finally{try{!M&&!h&&(m=w.return)&&(yield N(m.call(w)))}finally{if(g)throw g.error}}if(P.length>0){s=!0;let b=new Ht;b.candidates=[{content:{role:"user",parts:P}}],yield yield N(b);let L=[];L.push(...Y),L.push({role:"user",parts:P});let X=Ae(p.contents).concat(L);p.contents=X}else break}})})(this,u,e)}async generateContentInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=Qf(this.apiClient,e);return c=S("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=ep(f),h=new Ht;return Object.assign(h,p),h})}else{let d=Zf(this.apiClient,e);return c=S("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Xf(f),h=new Ht;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=Qf(this.apiClient,e);return c=S("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return He(this,arguments,function*(){var h,g,m,v;try{for(var _=!0,I=Be(p),M;M=yield N(I.next()),h=M.done,!h;_=!0){v=M.value,_=!1;let w=v,D=ep(yield N(w.json()),e);D.sdkHttpResponse={headers:w.headers};let C=new Ht;Object.assign(C,D),yield yield N(C)}}catch(w){g={error:w}}finally{try{!_&&!h&&(m=I.return)&&(yield N(m.call(I)))}finally{if(g)throw g.error}}})})}else{let d=Zf(this.apiClient,e);return c=S("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return He(this,arguments,function*(){var h,g,m,v;try{for(var _=!0,I=Be(p),M;M=yield N(I.next()),h=M.done,!h;_=!0){v=M.value,_=!1;let w=v,D=Xf(yield N(w.json()),e);D.sdkHttpResponse={headers:w.headers};let C=new Ht;Object.assign(C,D),yield yield N(C)}}catch(w){g={error:w}}finally{try{!_&&!h&&(m=I.return)&&(yield N(m.call(I)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=B_(this.apiClient,e);return c=S("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=$_(f),h=new zr;return Object.assign(h,p),h})}else{let d=H_(this.apiClient,e);return c=S("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=G_(f),h=new zr;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=eC(this.apiClient,e);return c=S("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=nC(f),h=new Wr;return Object.assign(h,p),h})}else{let d=X_(this.apiClient,e);return c=S("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=tC(f),h=new Wr;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let c=O_(this.apiClient,e);return i=S("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=F_(u),f=new gl;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let c=eT(this.apiClient,e);return i=S("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=tT(u),f=new ml;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let c=LC(this.apiClient,e);return i=S("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=OC(u),f=new yl;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let c=GC(this.apiClient,e);return i=S("{model}:predict",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=$C(u),f=new vl;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=EC(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Ul(f))}else{let d=vC(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Vl(f))}}async listInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=AC(this.apiClient,e);return c=S("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=NC(f),h=new Jr;return Object.assign(h,p),h})}else{let d=DC(this.apiClient,e);return c=S("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=bC(f),h=new Jr;return Object.assign(h,p),h})}}async update(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=QC(this.apiClient,e);return c=S("{model}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Ul(f))}else{let d=ZC(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Vl(f))}}async delete(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=R_(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=k_(f),h=new Yr;return Object.assign(h,p),h})}else{let d=x_(this.apiClient,e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=P_(f),h=new Yr;return Object.assign(h,p),h})}}async countTokens(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=A_(this.apiClient,e);return c=S("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=N_(f),h=new Kr;return Object.assign(h,p),h})}else{let d=D_(this.apiClient,e);return c=S("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=b_(f),h=new Kr;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let c=I_(this.apiClient,e);return i=S("{model}:computeTokens",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{let d=__(u),f=new El;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=lC(this.apiClient,e);return c=S("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{let p=sC(f),h=new jr;return Object.assign(h,p),h})}else{let d=aC(this.apiClient,e);return c=S("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=iC(f),h=new jr;return Object.assign(h,p),h})}}};var Yl=class extends Ge{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){let n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=n.name.split("/operations/")[0],i;o&&"httpOptions"in o&&(i=o.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=eE(e);return c=S("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else{let d=Xv(e);return c=S("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let c=Wv(e);return i=S("{resourceName}:fetchPredictOperation",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}};function GT(t){let e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function $T(t){let e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>QT(i))),l(e,["parts"],r)}let o=a(t,["role"]);return o!=null&&l(e,["role"],o),e}function qT(t,e,n){let o={},r=a(e,["expireTime"]);n!==void 0&&r!=null&&l(n,["expireTime"],r);let i=a(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&l(n,["newSessionExpireTime"],i);let s=a(e,["uses"]);n!==void 0&&s!=null&&l(n,["uses"],s);let c=a(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&l(n,["bidiGenerateContentSetup"],ZT(t,c));let u=a(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&l(n,["fieldMask"],u),o}function zT(t,e){let n={},o=a(e,["config"]);return o!=null&&l(n,["config"],qT(t,o,n)),n}function WT(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);let o=a(t,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function JT(t){let e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);let o=a(t,["args"]);o!=null&&l(e,["args"],o);let r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function YT(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function KT(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function jT(t,e){let n={},o=a(t,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);let r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);let i=a(t,["temperature"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","topP"],s);let c=a(t,["topK"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","topK"],c);let u=a(t,["maxOutputTokens"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","maxOutputTokens"],u);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],mc(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&l(e,["setup","systemInstruction"],$T(ue(m)));let v=a(t,["tools"]);if(e!==void 0&&v!=null){let k=wn(v);Array.isArray(k)&&(k=k.map(P=>eS(Sn(P)))),l(e,["setup","tools"],k)}let _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&l(e,["setup","sessionResumption"],XT(_));let I=a(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&l(e,["setup","inputAudioTranscription"],I);let M=a(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&l(e,["setup","outputAudioTranscription"],M);let w=a(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&l(e,["setup","realtimeInputConfig"],w);let D=a(t,["contextWindowCompression"]);e!==void 0&&D!=null&&l(e,["setup","contextWindowCompression"],D);let C=a(t,["proactivity"]);if(e!==void 0&&C!=null&&l(e,["setup","proactivity"],C),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function ZT(t,e){let n={},o=a(e,["model"]);o!=null&&l(n,["setup","model"],H(t,o));let r=a(e,["config"]);return r!=null&&l(n,["config"],jT(r,n)),n}function QT(t){let e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);let o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);let r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);let i=a(t,["fileData"]);i!=null&&l(e,["fileData"],WT(i));let s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],JT(s));let c=a(t,["functionResponse"]);c!=null&&l(e,["functionResponse"],c);let u=a(t,["inlineData"]);u!=null&&l(e,["inlineData"],GT(u));let d=a(t,["text"]);d!=null&&l(e,["text"],d);let f=a(t,["thought"]);f!=null&&l(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function XT(t){let e={},n=a(t,["handle"]);if(n!=null&&l(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function eS(t){let e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let n=a(t,["computerUse"]);n!=null&&l(e,["computerUse"],n);let o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);let r=a(t,["codeExecution"]);if(r!=null&&l(e,["codeExecution"],r),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let i=a(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}let s=a(t,["googleMaps"]);s!=null&&l(e,["googleMaps"],YT(s));let c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],KT(c));let u=a(t,["googleSearchRetrieval"]);u!=null&&l(e,["googleSearchRetrieval"],u);let d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function tS(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){let r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function nS(t,e){let n=null,o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){let i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;let r=t.fieldMask;if(n){let i=tS(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],c=[];r.length>0&&(c=r.map(d=>s.includes(d)?`generationConfig.${d}`:d));let u=[];i&&u.push(i),c.length>0&&u.push(...c),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}var Kl=class extends Ge{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let c=zT(this.apiClient,e);i=S("auth_tokens",c._url),s=c._query,delete c.config,delete c._url,delete c._query;let u=nS(c,e.config);return r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}};function oS(t,e){let n={},o=a(t,["force"]);return e!==void 0&&o!=null&&l(e,["_query","force"],o),n}function rS(t){let e={},n=a(t,["name"]);n!=null&&l(e,["_url","name"],n);let o=a(t,["config"]);return o!=null&&oS(o,e),e}function iS(t){let e={},n=a(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function sS(t,e){let n={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);let r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function aS(t){let e={},n=a(t,["parent"]);n!=null&&l(e,["_url","parent"],n);let o=a(t,["config"]);return o!=null&&sS(o,e),e}function lS(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);let o=a(t,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);let r=a(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),l(e,["documents"],i)}return e}var jl=class extends Ge{constructor(e){super(),this.apiClient=e,this.list=async n=>new lt(It.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=iS(e);return i=S("{name}",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=rS(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=aS(e);return i=S("{parent}/documents",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=lS(u),f=new Il;return Object.assign(f,d),f})}}};var Zl=class extends Ge{constructor(e,n=new jl(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new lt(It.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=lT(e);return i=S("fileSearchStores",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=dT(e);return i=S("{name}",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>u)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=uT(e);r=S("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=yT(e);return i=S("fileSearchStores",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=vT(u),f=new _l;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=ET(e);return i=S("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=IT(u),f=new Cl;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=hT(e);return i=S("{file_search_store_name}:importFile",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json()),r.then(u=>{let d=pT(u),f=new Tl;return Object.assign(f,d),f})}}};var Hp=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return Hp=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))},cS=()=>Hp();function Ql(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var Xl=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var me=class extends Error{},ye=class t extends me{constructor(e,n,o,r){super(`${t.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){let r=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new Cn({message:o,cause:Xl(n)});let i=n;return e===400?new ii(e,i,o,r):e===401?new si(e,i,o,r):e===403?new ai(e,i,o,r):e===404?new li(e,i,o,r):e===409?new ci(e,i,o,r):e===422?new ui(e,i,o,r):e===429?new di(e,i,o,r):e>=500?new fi(e,i,o,r):new t(e,i,o,r)}},go=class extends ye{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Cn=class extends ye{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},ri=class extends Cn{constructor({message:e}={}){super({message:e??"Request timed out."})}},ii=class extends ye{},si=class extends ye{},ai=class extends ye{},li=class extends ye{},ci=class extends ye{},ui=class extends ye{},di=class extends ye{},fi=class extends ye{};var uS=/^[a-z][a-z0-9+.-]*:/i,dS=t=>uS.test(t),ec=t=>(ec=Array.isArray,ec(t)),fS=ec,pS=fS,sp=pS;function hS(t){if(!t)return!0;for(let e in t)return!1;return!0}function gS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var mS=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new me(`${t} must be an integer`);if(e<0)throw new me(`${t} must be a positive integer`);return e},yS=t=>{try{return JSON.parse(t)}catch{return}};var vS=t=>new Promise(e=>setTimeout(e,t));var En="0.0.1";function ES(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var IS=()=>{var t,e,n,o,r;let i=ES();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":En,"X-Stainless-OS":lp(Deno.build.os),"X-Stainless-Arch":ap(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":En,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":En,"X-Stainless-OS":lp((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":ap((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};let s=_S();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":En,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":En,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function _S(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let o=n.exec(navigator.userAgent);if(o){let r=o[1]||0,i=o[2]||0,s=o[3]||0;return{browser:e,version:`${r}.${i}.${s}`}}}return null}var ap=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",lp=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),Vr,CS=()=>Vr??(Vr=IS());function TS(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Bp(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function SS(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Bp({start(){},async pull(n){let{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Gp(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function wS(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}let o=t.getReader(),r=o.cancel();o.releaseLock(),await r}var MS=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var $p=()=>{var t;if(typeof File>"u"){let{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ul(t,e,n){return $p(),new File(t,e??"unknown_file",n)}function DS(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var AS=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var qp=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",bS=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&qp(t),NS=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function xS(t,e,n){if($p(),t=await t,bS(t))return t instanceof File?t:ul([await t.arrayBuffer()],t.name);if(NS(t)){let r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ul(await tc(r),e,n)}let o=await tc(t);if(e||(e=DS(t)),!n?.type){let r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return ul(o,e,n)}async function tc(t){var e,n,o,r,i;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(qp(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(AS(t))try{for(var c=!0,u=Be(t),d;d=await u.next(),e=d.done,!e;c=!0){r=d.value,c=!1;let f=r;s.push(...await tc(f))}}catch(f){n={error:f}}finally{try{!c&&!e&&(o=u.return)&&await o.call(u)}finally{if(n)throw n.error}}else{let f=(i=t?.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${RS(t)}`)}return s}function RS(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var PS=(()=>{class t{constructor(n){this._client=n}}t._key=[];return t})();function zp(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var cp=Object.freeze(Object.create(null)),kS=(t=zp)=>function(n,...o){if(n.length===1)return n[0];let r=!1,i=[],s=n.reduce((f,p,h)=>{var g,m,v;/[?#]/.test(p)&&(r=!0);let _=o[h],I=(r?encodeURIComponent:t)(""+_);return h!==o.length&&(_==null||typeof _=="object"&&_.toString===((v=Object.getPrototypeOf((m=Object.getPrototypeOf((g=_.hasOwnProperty)!==null&&g!==void 0?g:cp))!==null&&m!==void 0?m:cp))===null||v===void 0?void 0:v.toString))&&(I=_+"",i.push({start:f.length+p.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),f+p+(h===o.length?"":I)},""),c=s.split(/[?#]/,1)[0],u=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,d;for(;(d=u.exec(c))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,p)=>f.start-p.start),i.length>0){let f=0,p=i.reduce((h,g)=>{let m=" ".repeat(g.start-f),v="^".repeat(g.length);return f=g.start+g.length,h+m+v},"");throw new me(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},Ur=kS(zp);var pi=class extends PS{create(e,n){var o;let{api_version:r=this._client.apiVersion}=e,i=oi(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new me("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new me("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ur`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(Ur`/${r}/interactions/${e}`,o)}cancel(e,n={},o){let{api_version:r=this._client.apiVersion}=n??{};return this._client.post(Ur`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;let i=n??{},{api_version:s=this._client.apiVersion}=i,c=oi(i,["api_version"]);return this._client.get(Ur`/${s}/interactions/${e}`,Object.assign(Object.assign({query:c},o),{stream:(r=n?.stream)!==null&&r!==void 0?r:!1}))}};pi._key=Object.freeze(["interactions"]);var hi=class extends pi{};function LS(t){let e=0;for(let r of t)e+=r.length;let n=new Uint8Array(e),o=0;for(let r of t)n.set(r,o),o+=r.length;return n}var Hr;function yc(t){let e;return(Hr??(e=new globalThis.TextEncoder,Hr=e.encode.bind(e)))(t)}var Br;function up(t){let e;return(Br??(e=new globalThis.TextDecoder,Br=e.decode.bind(e)))(t)}var Tn=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?yc(e):e;this.buffer=LS([this.buffer,n]);let o=[],r;for(;(r=OS(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(up(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,s=up(this.buffer.subarray(0,i));o.push(s),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}};Tn.NEWLINE_CHARS=new Set([`
`,"\r"]);Tn.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function OS(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function FS(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}var gi={off:0,error:200,warn:300,info:400,debug:500},dp=(t,e,n)=>{if(t){if(gS(gi,t))return t;he(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(gi))}`)}};function fo(){}function Gr(t,e,n){return!e||gi[t]>gi[n]?fo:e[t].bind(e)}var VS={error:fo,warn:fo,info:fo,debug:fo},fp=new WeakMap;function he(t){var e;let n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return VS;let r=fp.get(n);if(r&&r[0]===o)return r[1];let i={error:Gr("error",n,o),warn:Gr("warn",n,o),info:Gr("info",n,o),debug:Gr("debug",n,o)};return fp.set(n,[o,i]),i}var Ut=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var nc=class t{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1,i=o?he(o):console;function s(){return He(this,arguments,function*(){var u,d,f,p;if(r)throw new me("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,m=Be(US(e,n)),v;v=yield N(m.next()),u=v.done,!u;g=!0){p=v.value,g=!1;let _=p;if(!h)if(_.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield N(JSON.parse(_.data))}catch(I){throw i.error("Could not parse message into JSON:",_.data),i.error("From chunk:",_.raw),I}}}catch(_){d={error:_}}finally{try{!g&&!u&&(f=m.return)&&(yield N(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(_){if(Ql(_))return yield N(void 0);throw _}finally{h||n.abort()}})}return new t(s,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return He(this,arguments,function*(){var u,d,f,p;let h=new Tn,g=Gp(e);try{for(var m=!0,v=Be(g),_;_=yield N(v.next()),u=_.done,!u;m=!0){p=_.value,m=!1;let I=p;for(let M of h.decode(I))yield yield N(M)}}catch(I){d={error:I}}finally{try{!m&&!u&&(f=v.return)&&(yield N(f.call(v)))}finally{if(d)throw d.error}}for(let I of h.flush())yield yield N(I)})}function s(){return He(this,arguments,function*(){var u,d,f,p;if(r)throw new me("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let h=!1;try{try{for(var g=!0,m=Be(i()),v;v=yield N(m.next()),u=v.done,!u;g=!0){p=v.value,g=!1;let _=p;h||_&&(yield yield N(JSON.parse(_)))}}catch(_){d={error:_}}finally{try{!g&&!u&&(f=m.return)&&(yield N(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(_){if(Ql(_))return yield N(void 0);throw _}finally{h||n.abort()}})}return new t(s,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){let s=o.next();e.push(s),n.push(s)}return i.shift()}});return[new t(()=>r(e),this.controller,this.client),new t(()=>r(n),this.controller,this.client)]}toReadableStream(){let e=this,n;return Bp({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{let{value:r,done:i}=await n.next();if(i)return o.close();let s=yc(JSON.stringify(r)+`
`);o.enqueue(s)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}};function US(t,e){return He(this,arguments,function*(){var o,r,i,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new me("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new me("Attempted to iterate over a response with no body");let c=new oc,u=new Tn,d=Gp(t.body);try{for(var f=!0,p=Be(HS(d)),h;h=yield N(p.next()),o=h.done,!o;f=!0){s=h.value,f=!1;let g=s;for(let m of u.decode(g)){let v=c.decode(m);v&&(yield yield N(v))}}}catch(g){r={error:g}}finally{try{!f&&!o&&(i=p.return)&&(yield N(i.call(p)))}finally{if(r)throw r.error}}for(let g of u.flush()){let m=c.decode(g);m&&(yield yield N(m))}})}function HS(t){return He(this,arguments,function*(){var n,o,r,i;let s=new Uint8Array;try{for(var c=!0,u=Be(t),d;d=yield N(u.next()),n=d.done,!n;c=!0){i=d.value,c=!1;let f=i;if(f==null)continue;let p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?yc(f):f,h=new Uint8Array(s.length+p.length);h.set(s),h.set(p,s.length),s=h;let g;for(;(g=FS(s))!==-1;)yield yield N(s.slice(0,g)),s=s.slice(g)}}catch(f){o={error:f}}finally{try{!c&&!n&&(r=u.return)&&(yield N(r.call(u)))}finally{if(o)throw o.error}}s.length>0&&(yield yield N(s))})}var oc=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=BS(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}};function BS(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function GS(t,e){let{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,s=await(async()=>{var c;if(e.options.stream)return he(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):nc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let u=n.headers.get("content-type"),d=(c=u?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return he(t).debug(`[${o}] response parsed`,Ut({retryOfRequestLogID:r,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}var rc=class t extends Promise{constructor(e,n,o=GS){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new t(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};var Wp=Symbol("brand.privateNullableHeaders");function*$S(t){if(!t)return;if(Wp in t){let{values:o,nulls:r}=t;yield*o.entries();for(let i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():sp(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){let r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");let i=sp(o[1])?o[1]:[o[1]],s=!1;for(let c of i)c!==void 0&&(e&&!s&&(s=!0,yield[r,null]),yield[r,c])}}var co=t=>{let e=new Headers,n=new Set;for(let o of t){let r=new Set;for(let[i,s]of $S(o)){let c=i.toLowerCase();r.has(c)||(e.delete(i),r.add(c)),s===null?(e.delete(i),n.add(c)):(e.append(i,s),n.delete(c))}}return{[Wp]:!0,values:e,nulls:n}};var dl=t=>{var e,n,o,r,i,s;if(typeof globalThis.process<"u")return(o=(n=(e=globalThis.process.env)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||s===void 0?void 0:s.trim()};var Jp,qS=(()=>{class t{constructor(n){var o,r,i,s,c,u,d,{baseURL:f=dl("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(o=dl("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:h="v1beta"}=n,g=oi(n,["baseURL","apiKey","apiVersion"]);let m=Object.assign(Object.assign({apiKey:p,apiVersion:h},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:t.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;let v="warn";this.logLevel=v,this.logLevel=(c=(s=dp(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:dp(dl("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:v,this.fetchOptions=m.fetchOptions,this.maxRetries=(u=m.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=m.fetch)!==null&&d!==void 0?d:TS(),this.encoder=MS,this._options=m,this.apiKey=p,this.apiVersion=h,this.clientAdapter=m.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let o=co([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return co([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return co([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new me(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${En}`}defaultIdempotencyKey(){return`stainless-node-retry-${cS()}`}makeStatusError(n,o,r,i){return ye.generate(n,o,r,i)}buildURL(n,o,r){let i=!this.baseURLOverridden()&&r||this.baseURL,s=dS(n)?new URL(n):new URL(i+(i.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),c=this.defaultQuery();return hS(c)||(o=Object.assign(Object.assign({},c),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(s.search=this.stringifyQuery(o)),s.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:r}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:n,path:o},i)))}request(n,o=null){return new rc(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,r){var i,s,c;let u=await n,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o==null&&(o=d),await this.prepareOptions(u);let{req:f,url:p,timeout:h}=await this.buildRequest(u,{retryCount:d-o});await this.prepareRequest(f,{url:p,options:u});let g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(he(this).debug(`[${g}] sending request`,Ut({retryOfRequestLogID:r,method:u.method,url:p,options:u,headers:f.headers})),!((s=u.signal)===null||s===void 0)&&s.aborted)throw new go;let _=new AbortController,I=await this.fetchWithTimeout(p,f,h,_).catch(Xl),M=Date.now();if(I instanceof globalThis.Error){let D=`retrying, ${o} attempts remaining`;if(!((c=u.signal)===null||c===void 0)&&c.aborted)throw new go;let C=Ql(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(o)return he(this).info(`[${g}] connection ${C?"timed out":"failed"} - ${D}`),he(this).debug(`[${g}] connection ${C?"timed out":"failed"} (${D})`,Ut({retryOfRequestLogID:r,url:p,durationMs:M-v,message:I.message})),this.retryRequest(u,o,r??g);throw he(this).info(`[${g}] connection ${C?"timed out":"failed"} - error; no more retries left`),he(this).debug(`[${g}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Ut({retryOfRequestLogID:r,url:p,durationMs:M-v,message:I.message})),C?new ri:new Cn({cause:I})}let w=`[${g}${m}] ${f.method} ${p} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${M-v}ms`;if(!I.ok){let D=await this.shouldRetry(I);if(o&&D){let L=`retrying, ${o} attempts remaining`;return await wS(I.body),he(this).info(`${w} - ${L}`),he(this).debug(`[${g}] response error (${L})`,Ut({retryOfRequestLogID:r,url:I.url,status:I.status,headers:I.headers,durationMs:M-v})),this.retryRequest(u,o,r??g,I.headers)}let C=D?"error; no more retries left":"error; not retryable";he(this).info(`${w} - ${C}`);let k=await I.text().catch(L=>Xl(L).message),P=yS(k),Y=P?void 0:k;throw he(this).debug(`[${g}] response error (${C})`,Ut({retryOfRequestLogID:r,url:I.url,status:I.status,headers:I.headers,message:Y,durationMs:Date.now()-v})),this.makeStatusError(I.status,P,Y,I.headers)}return he(this).info(w),he(this).debug(`[${g}] response start`,Ut({retryOfRequestLogID:r,url:I.url,status:I.status,headers:I.headers,durationMs:M-v})),{response:I,options:u,controller:_,requestLogID:g,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(n,o,r,i){let s=o||{},{signal:c,method:u}=s,d=oi(s,["signal","method"]),f=i.abort.bind(i);c&&c.addEventListener("abort",f,{once:!0});let p=setTimeout(f,r),h=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),d);u&&(g.method=u.toUpperCase());try{return await this.fetch.call(void 0,n,g)}finally{clearTimeout(p)}}async shouldRetry(n){let o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,r,i){var s;let c,u=i?.get("retry-after-ms");if(u){let f=parseFloat(u);Number.isNaN(f)||(c=f)}let d=i?.get("retry-after");if(d&&!c){let f=parseFloat(d);Number.isNaN(f)?c=Date.parse(d)-Date.now():c=f*1e3}if(!(c&&0<=c&&c<60*1e3)){let f=(s=n.maxRetries)!==null&&s!==void 0?s:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(o,f)}return await vS(c),this.makeRequest(n,o-1,r)}calculateDefaultRetryTimeoutMillis(n,o){let s=o-n,c=Math.min(.5*Math.pow(2,s),8),u=1-Math.random()*.25;return c*u*1e3}async buildRequest(n,{retryCount:o=0}={}){var r,i,s;let c=Object.assign({},n),{method:u,path:d,query:f,defaultBaseURL:p}=c,h=this.buildURL(d,f,p);"timeout"in c&&mS("timeout",c.timeout),c.timeout=(r=c.timeout)!==null&&r!==void 0?r:this.timeout;let{bodyHeaders:g,body:m}=this.buildBody({options:c}),v=await this.buildHeaders({options:n,method:u,bodyHeaders:g,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:v},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=c.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:c.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=n.idempotencyKey);let c=await this.authHeaders(n),u=co([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),CS()),this._options.defaultHeaders,r,n.headers,c]);return this.validateHeaders(u),u.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};let r=co([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&r.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:SS(n)}:this.encoder({body:n,headers:r})}}return t.DEFAULT_TIMEOUT=6e4,t})(),ne=class extends qS{constructor(){super(...arguments),this.interactions=new hi(this)}};Jp=ne;ne.GeminiNextGenAPIClient=Jp;ne.GeminiNextGenAPIClientError=me;ne.APIError=ye;ne.APIConnectionError=Cn;ne.APIConnectionTimeoutError=ri;ne.APIUserAbortError=go;ne.NotFoundError=li;ne.ConflictError=ci;ne.RateLimitError=di;ne.BadRequestError=ii;ne.AuthenticationError=si;ne.InternalServerError=fi;ne.PermissionDeniedError=ai;ne.UnprocessableEntityError=ui;ne.toFile=xS;ne.Interactions=hi;function zS(t,e){let n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function WS(t,e){let n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function JS(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&l(n,["sdkHttpResponse"],o),n}function YS(t,e){let n={},o=a(t,["sdkHttpResponse"]);return o!=null&&l(n,["sdkHttpResponse"],o),n}function KS(t,e,n){let o={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let r=a(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&l(e,["displayName"],r),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let i=a(t,["epochCount"]);e!==void 0&&i!=null&&l(e,["tuningTask","hyperparameters","epochCount"],i);let s=a(t,["learningRateMultiplier"]);if(s!=null&&l(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(a(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(a(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");let c=a(t,["batchSize"]);e!==void 0&&c!=null&&l(e,["tuningTask","hyperparameters","batchSize"],c);let u=a(t,["learningRate"]);if(e!==void 0&&u!=null&&l(e,["tuningTask","hyperparameters","learningRate"],u),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(a(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(a(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(a(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(a(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return o}function jS(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let C=a(t,["validationDataset"]);e!==void 0&&C!=null&&l(e,["supervisedTuningSpec"],fl(C))}else if(r==="PREFERENCE_TUNING"){let C=a(t,["validationDataset"]);e!==void 0&&C!=null&&l(e,["preferenceOptimizationSpec"],fl(C))}else if(r==="DISTILLATION"){let C=a(t,["validationDataset"]);e!==void 0&&C!=null&&l(e,["distillationSpec"],fl(C))}let i=a(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&l(e,["tunedModelDisplayName"],i);let s=a(t,["description"]);e!==void 0&&s!=null&&l(e,["description"],s);let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let C=a(t,["epochCount"]);e!==void 0&&C!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(c==="PREFERENCE_TUNING"){let C=a(t,["epochCount"]);e!==void 0&&C!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}else if(c==="DISTILLATION"){let C=a(t,["epochCount"]);e!==void 0&&C!=null&&l(e,["distillationSpec","hyperParameters","epochCount"],C)}let u=a(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let C=a(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(u==="PREFERENCE_TUNING"){let C=a(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}else if(u==="DISTILLATION"){let C=a(t,["learningRateMultiplier"]);e!==void 0&&C!=null&&l(e,["distillationSpec","hyperParameters","learningRateMultiplier"],C)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let C=a(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(d==="PREFERENCE_TUNING"){let C=a(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&l(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}else if(d==="DISTILLATION"){let C=a(t,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&l(e,["distillationSpec","exportLastCheckpointOnly"],C)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let C=a(t,["adapterSize"]);e!==void 0&&C!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(f==="PREFERENCE_TUNING"){let C=a(t,["adapterSize"]);e!==void 0&&C!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}else if(f==="DISTILLATION"){let C=a(t,["adapterSize"]);e!==void 0&&C!=null&&l(e,["distillationSpec","hyperParameters","adapterSize"],C)}let p=a(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){let C=a(t,["tuningMode"]);e!==void 0&&C!=null&&l(e,["supervisedTuningSpec","tuningMode"],C)}let h=a(t,["customBaseModel"]);e!==void 0&&h!=null&&l(e,["customBaseModel"],h);let g=a(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){let C=a(t,["batchSize"]);e!==void 0&&C!=null&&l(e,["supervisedTuningSpec","hyperParameters","batchSize"],C)}let m=a(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){let C=a(t,["learningRate"]);e!==void 0&&C!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRate"],C)}let v=a(t,["labels"]);e!==void 0&&v!=null&&l(e,["labels"],v);let _=a(t,["beta"]);e!==void 0&&_!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","beta"],_);let I=a(t,["baseTeacherModel"]);e!==void 0&&I!=null&&l(e,["distillationSpec","baseTeacherModel"],I);let M=a(t,["tunedTeacherModelSource"]);e!==void 0&&M!=null&&l(e,["distillationSpec","tunedTeacherModelSource"],M);let w=a(t,["sftLossWeightMultiplier"]);e!==void 0&&w!=null&&l(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],w);let D=a(t,["outputUri"]);return e!==void 0&&D!=null&&l(e,["outputUri"],D),o}function ZS(t,e){let n={},o=a(t,["baseModel"]);o!=null&&l(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&l(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&lw(i);let s=a(t,["config"]);return s!=null&&KS(s,n),n}function QS(t,e){let n={},o=a(t,["baseModel"]);o!=null&&l(n,["baseModel"],o);let r=a(t,["preTunedModel"]);r!=null&&l(n,["preTunedModel"],r);let i=a(t,["trainingDataset"]);i!=null&&cw(i,n,e);let s=a(t,["config"]);return s!=null&&jS(s,n,e),n}function XS(t,e){let n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function ew(t,e){let n={},o=a(t,["name"]);return o!=null&&l(n,["_url","name"],o),n}function tw(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&l(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&l(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),o}function nw(t,e,n){let o={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&l(e,["_query","pageSize"],r);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&l(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),o}function ow(t,e){let n={},o=a(t,["config"]);return o!=null&&tw(o,n),n}function rw(t,e){let n={},o=a(t,["config"]);return o!=null&&nw(o,n),n}function iw(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);let i=a(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>Yp(c))),l(n,["tuningJobs"],s)}return n}function sw(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);let i=a(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(c=>ic(c))),l(n,["tuningJobs"],s)}return n}function aw(t,e){let n={},o=a(t,["name"]);o!=null&&l(n,["model"],o);let r=a(t,["name"]);return r!=null&&l(n,["endpoint"],r),n}function lw(t,e){let n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let o=a(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),l(n,["examples","examples"],r)}return n}function cw(t,e,n){let o={},r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&l(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(r==="DISTILLATION"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&l(e,["distillationSpec","promptDatasetUri"],s)}let i=a(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&l(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&l(e,["distillationSpec","promptDatasetUri"],s)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Yp(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&l(n,["name"],r);let i=a(t,["state"]);i!=null&&l(n,["state"],Cp(i));let s=a(t,["createTime"]);s!=null&&l(n,["createTime"],s);let c=a(t,["tuningTask","startTime"]);c!=null&&l(n,["startTime"],c);let u=a(t,["tuningTask","completeTime"]);u!=null&&l(n,["endTime"],u);let d=a(t,["updateTime"]);d!=null&&l(n,["updateTime"],d);let f=a(t,["description"]);f!=null&&l(n,["description"],f);let p=a(t,["baseModel"]);p!=null&&l(n,["baseModel"],p);let h=a(t,["_self"]);return h!=null&&l(n,["tunedModel"],aw(h)),n}function ic(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&l(n,["name"],r);let i=a(t,["state"]);i!=null&&l(n,["state"],Cp(i));let s=a(t,["createTime"]);s!=null&&l(n,["createTime"],s);let c=a(t,["startTime"]);c!=null&&l(n,["startTime"],c);let u=a(t,["endTime"]);u!=null&&l(n,["endTime"],u);let d=a(t,["updateTime"]);d!=null&&l(n,["updateTime"],d);let f=a(t,["error"]);f!=null&&l(n,["error"],f);let p=a(t,["description"]);p!=null&&l(n,["description"],p);let h=a(t,["baseModel"]);h!=null&&l(n,["baseModel"],h);let g=a(t,["tunedModel"]);g!=null&&l(n,["tunedModel"],g);let m=a(t,["preTunedModel"]);m!=null&&l(n,["preTunedModel"],m);let v=a(t,["supervisedTuningSpec"]);v!=null&&l(n,["supervisedTuningSpec"],v);let _=a(t,["preferenceOptimizationSpec"]);_!=null&&l(n,["preferenceOptimizationSpec"],_);let I=a(t,["distillationSpec"]);I!=null&&l(n,["distillationSpec"],I);let M=a(t,["tuningDataStats"]);M!=null&&l(n,["tuningDataStats"],M);let w=a(t,["encryptionSpec"]);w!=null&&l(n,["encryptionSpec"],w);let D=a(t,["partnerModelTuningSpec"]);D!=null&&l(n,["partnerModelTuningSpec"],D);let C=a(t,["customBaseModel"]);C!=null&&l(n,["customBaseModel"],C);let k=a(t,["experiment"]);k!=null&&l(n,["experiment"],k);let P=a(t,["labels"]);P!=null&&l(n,["labels"],P);let Y=a(t,["outputUri"]);Y!=null&&l(n,["outputUri"],Y);let b=a(t,["pipelineJob"]);b!=null&&l(n,["pipelineJob"],b);let L=a(t,["serviceAccount"]);L!=null&&l(n,["serviceAccount"],L);let X=a(t,["tunedModelDisplayName"]);X!=null&&l(n,["tunedModelDisplayName"],X);let ve=a(t,["veoTuningSpec"]);return ve!=null&&l(n,["veoTuningSpec"],ve),n}function uw(t,e){let n={},o=a(t,["sdkHttpResponse"]);o!=null&&l(n,["sdkHttpResponse"],o);let r=a(t,["name"]);r!=null&&l(n,["name"],r);let i=a(t,["metadata"]);i!=null&&l(n,["metadata"],i);let s=a(t,["done"]);s!=null&&l(n,["done"],s);let c=a(t,["error"]);return c!=null&&l(n,["error"],c),n}function fl(t,e){let n={},o=a(t,["gcsUri"]);o!=null&&l(n,["validationDatasetUri"],o);let r=a(t,["vertexDatasetResource"]);return r!=null&&l(n,["validationDatasetUri"],r),n}var sc=class extends Ge{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new lt(It.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{let r=Object.assign({},n);return await this.tuneInternal(r)}else{let r=Object.assign({},n),i=await this.tuneMldevInternal(r),s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:gp.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=ew(e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>ic(f))}else{let d=XS(e);return c=S("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Yp(f))}}async listInternal(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=rw(e);return c=S("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=sw(f),h=new Zr;return Object.assign(h,p),h})}else{let d=ow(e);return c=S("tunedModels",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=iw(f),h=new Zr;return Object.assign(h,p),h})}}async cancel(e){var n,o,r,i;let s,c="",u={};if(this.apiClient.isVertexAI()){let d=WS(e);return c=S("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=YS(f),h=new Qr;return Object.assign(h,p),h})}else{let d=zS(e);return c=S("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=JS(f),h=new Qr;return Object.assign(h,p),h})}}async tuneInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){let c=QS(e,e);return i=S("tuningJobs",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>ic(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let c=ZS(e);return i=S("tunedModels",c._url),s=c._query,delete c._url,delete c._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>uw(u))}}};var ac=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},dw=1024*1024*8,fw=3,pw=1e3,hw=2,mi="x-goog-upload-status";async function gw(t,e,n){var o;let r=await Kp(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[mi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function mw(t,e,n){var o;let r=await Kp(t,e,n),i=await r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[mi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=hp(i),c=new Nl;return Object.assign(c,s),c}async function Kp(t,e,n){var o,r;let i=0,s=0,c=new po(new Response),u="upload";for(i=t.size;s<i;){let d=Math.min(dw,i-s),f=t.slice(s,s+d);s+d>=i&&(u+=", finalize");let p=0,h=pw;for(;p<fw&&(c=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((o=c?.headers)===null||o===void 0)&&o[mi]));)p++,await vw(h),h=h*hw;if(s+=d,((r=c?.headers)===null||r===void 0?void 0:r[mi])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function yw(t){return{size:t.size,type:t.type}}function vw(t){return new Promise(e=>setTimeout(e,t))}var lc=class{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gw(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mw(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yw(e)}};var cc=class{create(e,n,o){return new uc(e,n,o)}},uc=class{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var pp="x-goog-api-key",dc=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(pp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pp,this.apiKey)}}};var Ew="gl-node/",yi=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new ne({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let o=qv(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let r=new dc(this.apiKey);this.apiClient=new Bl({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Ew+"web",uploader:new lc,downloader:new ac}),this.models=new Jl(this.apiClient),this.live=new zl(this.apiClient,r,new cc),this.batches=new Pl(this.apiClient),this.chats=new Ll(this.models,this.apiClient),this.caches=new kl(this.apiClient),this.files=new Fl(this.apiClient),this.operations=new Yl(this.apiClient),this.authTokens=new Kl(this.apiClient),this.tunings=new sc(this.apiClient),this.fileSearchStores=new Zl(this.apiClient)}};var jp="AIzaSyBMecqTsYoRBevF2_fgEnRcUPdz7E__aX8",_i=class t{constructor(){if(!jp)throw new Error("API_KEY is not set");this.ai=new yi({apiKey:jp});let e=`
      You are a strict but helpful AI assistant for Lei's developer portfolio. 
      Your primary role is to answer questions from potential employers about Lei's skills, experience, and projects based *only* on the information provided.
      You must strictly enforce that the conversation remains on-topic.

      **RESPONSE FORMATTING RULES (VERY IMPORTANT):**
      You MUST respond with a raw JSON object string. Do NOT use markdown code fences.

      1.  **First, analyze the user's prompt.** Determine if it is related to Lei's portfolio, skills, projects, or a request to contact him.

      2.  **If the prompt is ON-TOPIC:**
          *   For navigation requests (viewing projects, tech stack, contact info, about), respond with this JSON format:
              \`{"action": "navigate", "target": "about" | "projects" | "tech" | "contact", "response": "Your generated summary for the navigation."}\`
              
              **Instructions for the 'response' field during navigation:**
              - target 'projects': "Certainly! I'm navigating you to the projects section. Lei has worked on several key applications, including a comprehensive HRMS platform, an employee self-service portal, and a full-featured Point of Sale system."
              - target 'tech': "Absolutely. Here are the technologies Lei specializes in. For the front-end, he primarily uses Angular and TypeScript, and for the back-end, he's proficient with ASP.NET Core, EF Core, and SQL Server."
              - target 'contact': "Here are Lei's contact details. The best way to reach him is by email, but you can also connect with him on LinkedIn or check out his work on GitHub."
              - target 'about': "Let me take you to his bio. Lei is a Full-Stack Developer with over 3 years of experience, specializing in building maintainable APIs and polished front-end applications."

          *   For other ON-TOPIC questions (e.g., "how many years of experience with Angular?"), respond with this JSON format:
              \`{"action": "answer", "response": "Your concise, professional, and friendly answer here."}\`

      3.  **If the prompt is OFF-TOPIC:**
          *   You MUST respond ONLY with the following JSON object:
              \`{"action": "warn", "response": "Please keep your questions related to Lei's portfolio, skills, and experience. This is a professional inquiry channel."}\`

      **Lei's Profile Data:**
      - **Name:** Leinard Alilin Artajo (prefers Lei)
      - **Role:** Full-Stack Developer
      - **Experience:** 3+ years
      - **Specialty:** Building maintainable APIs and polished front-ends.

      **Technology Stack:**
      - **Front-End:** Angular, TypeScript, HTML & CSS, RxJS
      - **Back-End:** ASP.NET Core, Entity Framework Core (EF Core), SQL Server
      - **Enterprise Tools:** ASP.NET Zero
      - **Workflow & Tools:** Git, Visual Studio, REST APIs, Postman

      **Highlighted Projects:**
      1.  **HRMS Platform:** A comprehensive Human Resource Management System.
      2.  **HR201 Employee Portal:** An internal web application for managing employee profiles on ASP.NET Zero.
      3.  **Employee Self-Service (ESS) Portal:** A portal for employees to file Overtime/DTR and manage benefits.
      4.  **Point of Sale (POS) System:** A full-featured retail POS with inventory management.

      **Contact Info:**
      - **Email:** zhylegaming@gmail.com
      - **LinkedIn:** /in/leinard-artajo
      - **GitHub:** /syntaxerrrr

      Be polite but firm about the topic constraints.
    `;this.chat=this.ai.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:e}})}async sendMessage(e){try{return(await this.chat.sendMessage({message:e})).text}catch(n){return console.error("Error sending message to Gemini:",n),"I'm sorry, I encountered an error. Please try again later."}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=Z({token:t,factory:t.\u0275fac,providedIn:"root"})}};var Iw=(t,e)=>e.id;function _w(t,e){if(t&1&&F(0,"span",34),t&2){let n=e.$implicit;br("transform","translate("+n.x+"px, "+n.y+"px)")("width",n.size,"px")("height",n.size,"px")("opacity",n.opacity)}}function Cw(t,e){t&1&&(U(),y(0,"svg",23),F(1,"circle",35)(2,"path",36)(3,"path",37)(4,"path",38)(5,"path",39)(6,"path",40)(7,"path",41)(8,"path",42)(9,"path",43),E())}function Tw(t,e){t&1&&(U(),y(0,"svg",23),F(1,"path",44),E())}function Sw(t,e){t&1&&(U(),y(0,"svg",23),F(1,"path",45)(2,"path",46)(3,"path",47)(4,"path",48),E())}function ww(t,e){if(t&1){let n=vn();y(0,"div",25)(1,"section",49)(2,"div",50),T(3,"Full-Stack Developer"),E(),y(4,"h1",51),T(5,"Hi, I'm "),y(6,"span",52),T(7,"Lei"),E()(),y(8,"p",53),T(9," I build maintainable APIs and polished front-ends that solve real problems. Focused on Angular, TypeScript, ASP.NET Core, and SQL Server. "),E(),y(10,"div",54)(11,"button",55),re("click",function(){Le(n);let r=Ue();return Oe(r.setTab("projects"))}),U(),y(12,"svg",12),F(13,"rect",15)(14,"line",16)(15,"line",17),E(),T(16," View Projects "),E(),J(),y(17,"button",56),re("click",function(){Le(n);let r=Ue();return Oe(r.setTab("contact"))}),T(18," Get in Touch "),E()()(),y(19,"div",57)(20,"div",58)(21,"span",59),T(22,"3+"),E(),y(23,"span",60),T(24,"Years Experience"),E()(),y(25,"div",58)(26,"span",59),T(27,"10+"),E(),y(28,"span",60),T(29,"Projects Delivered"),E()(),y(30,"div",58)(31,"span",59),T(32,"5+"),E(),y(33,"span",60),T(34,"Technologies"),E()()(),y(35,"section",61)(36,"h2",62),T(37,"About Me"),E(),y(38,"div",63)(39,"div",64)(40,"div",65),U(),y(41,"svg",66),F(42,"polyline",18)(43,"polyline",19),E()(),J(),y(44,"h3"),T(45,"Front-End"),E(),y(46,"p"),T(47," Building responsive, component-driven UIs with Angular and TypeScript. Clean architecture, lazy loading, and reactive patterns. "),E()(),y(48,"div",64)(49,"div",65),U(),y(50,"svg",66),F(51,"rect",67)(52,"rect",68)(53,"line",69)(54,"line",70),E()(),J(),y(55,"h3"),T(56,"Back-End"),E(),y(57,"p"),T(58," Designing RESTful APIs with ASP.NET Core, Entity Framework Core, and SQL Server. Secure, testable, and well-documented. "),E()(),y(59,"div",64)(60,"div",65),U(),y(61,"svg",66),F(62,"circle",71)(63,"path",72),E()(),J(),y(64,"h3"),T(65,"Integration"),E(),y(66,"p"),T(67," Connecting systems through third-party APIs, middleware, and data pipelines. ASP.NET Zero, payment gateways, and more. "),E()()()()()}}function Mw(t,e){t&1&&(y(0,"div",25)(1,"h2",62),T(2,"Selected Projects"),E(),y(3,"p",73),T(4,"A few highlights from my recent work."),E(),y(5,"div",74)(6,"article",75)(7,"div",76)(8,"div",77),U(),y(9,"svg",66),F(10,"rect",15)(11,"line",16)(12,"line",17),E()(),J(),y(13,"span",78),T(14,"Enterprise Web App"),E()(),y(15,"h3"),T(16,"HRMS Platform"),E(),y(17,"p"),T(18," A comprehensive Human Resource Management System to streamline HR processes, including employee data management, payroll, and performance tracking. "),E(),y(19,"div",79)(20,"span"),T(21,"Angular"),E(),y(22,"span"),T(23,"ASP.NET Core"),E(),y(24,"span"),T(25,"SQL Server"),E()()(),y(26,"article",75)(27,"div",76)(28,"div",77),U(),y(29,"svg",66),F(30,"path",80)(31,"path",81)(32,"path",82),E()(),J(),y(33,"span",78),T(34,"Web App"),E()(),y(35,"h3"),T(36,"HR201 Employee Portal"),E(),y(37,"p"),T(38," An internal web application for managing employee profiles, leave requests, and company documents, built on the robust ASP.NET Zero framework. "),E(),y(39,"div",79)(40,"span"),T(41,"ASP.NET Zero"),E(),y(42,"span"),T(43,"Angular"),E(),y(44,"span"),T(45,"EF Core"),E()()(),y(46,"article",75)(47,"div",76)(48,"div",77),U(),y(49,"svg",66),F(50,"path",83)(51,"polyline",84)(52,"line",85),E()(),J(),y(53,"span",78),T(54,"Web App"),E()(),y(55,"h3"),T(56,"Employee Self-Service (ESS) Portal"),E(),y(57,"p"),T(58," A dedicated self-service portal allowing employees to file Overtime and DTR, update personal information, and manage benefits securely and efficiently. "),E(),y(59,"div",79)(60,"span"),T(61,"Angular"),E(),y(62,"span"),T(63,"REST API"),E(),y(64,"span"),T(65,"SQL Server"),E()()(),y(66,"article",75)(67,"div",76)(68,"div",77),U(),y(69,"svg",66),F(70,"path",86),E()(),J(),y(71,"span",78),T(72,"Full-Stack"),E()(),y(73,"h3"),T(74,"Point of Sale (POS) System"),E(),y(75,"p"),T(76," A full-featured Point of Sale system for retail with inventory management, sales reporting, and real-time transaction processing. "),E(),y(77,"div",79)(78,"span"),T(79,"ASP.NET Core"),E(),y(80,"span"),T(81,"Angular"),E(),y(82,"span"),T(83,"EF Core"),E()()()()())}function Dw(t,e){t&1&&(y(0,"div",25)(1,"h2",62),T(2,"Tech Stack"),E(),y(3,"p",73),T(4," Technologies and tools I work with daily. "),E(),y(5,"div",87)(6,"h3",88),T(7,"Front-End"),E(),y(8,"div",89)(9,"div",90)(10,"div",91),T(11,"Ng"),E(),y(12,"div",92)(13,"strong"),T(14,"Angular"),E(),y(15,"span"),T(16,"Component framework"),E()()(),y(17,"div",90)(18,"div",93),T(19,"TS"),E(),y(20,"div",92)(21,"strong"),T(22,"TypeScript"),E(),y(23,"span"),T(24,"Type-safe JavaScript"),E()()(),y(25,"div",90)(26,"div",94),U(),y(27,"svg",95),F(28,"polyline",18)(29,"polyline",19),E()(),J(),y(30,"div",92)(31,"strong"),T(32,"HTML & CSS"),E(),y(33,"span"),T(34,"Semantic markup & styling"),E()()(),y(35,"div",90)(36,"div",96),T(37,"Rx"),E(),y(38,"div",92)(39,"strong"),T(40,"RxJS"),E(),y(41,"span"),T(42,"Reactive programming"),E()()()()(),y(43,"div",87)(44,"h3",88),T(45,"Back-End"),E(),y(46,"div",89)(47,"div",90)(48,"div",97),T(49,".N"),E(),y(50,"div",92)(51,"strong"),T(52,"ASP.NET Core"),E(),y(53,"span"),T(54,"Web API framework"),E()()(),y(55,"div",90)(56,"div",98),T(57,"EF"),E(),y(58,"div",92)(59,"strong"),T(60,"Entity Framework Core"),E(),y(61,"span"),T(62,"ORM & data access"),E()()(),y(63,"div",90)(64,"div",99),U(),y(65,"svg",95),F(66,"ellipse",100)(67,"path",101)(68,"path",102),E()(),J(),y(69,"div",92)(70,"strong"),T(71,"SQL Server"),E(),y(72,"span"),T(73,"Relational database"),E()()(),y(74,"div",90)(75,"div",103),T(76,"AZ"),E(),y(77,"div",92)(78,"strong"),T(79,"ASP.NET Zero"),E(),y(80,"span"),T(81,"Enterprise boilerplate"),E()()()()(),y(82,"div",87)(83,"h3",88),T(84,"Tools & Workflow"),E(),y(85,"div",89)(86,"div",90)(87,"div",104),U(),y(88,"svg",95),F(89,"circle",105)(90,"circle",106)(91,"path",107)(92,"line",108),E()(),J(),y(93,"div",92)(94,"strong"),T(95,"Git"),E(),y(96,"span"),T(97,"Version control"),E()()(),y(98,"div",90)(99,"div",109),T(100,"VS"),E(),y(101,"div",92)(102,"strong"),T(103,"Visual Studio"),E(),y(104,"span"),T(105,"IDE"),E()()(),y(106,"div",90)(107,"div",110),U(),y(108,"svg",95),F(109,"path",83)(110,"polyline",84)(111,"line",85),E()(),J(),y(112,"div",92)(113,"strong"),T(114,"REST APIs"),E(),y(115,"span"),T(116,"API integration"),E()()(),y(117,"div",90)(118,"div",111),T(119,"PM"),E(),y(120,"div",92)(121,"strong"),T(122,"Postman"),E(),y(123,"span"),T(124,"API testing"),E()()()()()())}function Aw(t,e){t&1&&(y(0,"div",25)(1,"h2",62),T(2,"Get in Touch"),E(),y(3,"p",73),T(4," Have a project in mind or want to collaborate? Let's talk. "),E(),y(5,"div",112)(6,"a",113)(7,"div",114),U(),y(8,"svg",115),F(9,"path",20)(10,"polyline",21),E()(),J(),y(11,"h3"),T(12,"Email"),E(),y(13,"p"),T(14,"zhylegaming@gmail.com"),E()(),y(15,"a",116)(16,"div",114),U(),y(17,"svg",115),F(18,"path",117)(19,"rect",118)(20,"circle",119),E()(),J(),y(21,"h3"),T(22,"LinkedIn"),E(),y(23,"p"),T(24,"/in/leinard-artajo"),E()(),y(25,"a",120)(26,"div",114),U(),y(27,"svg",115),F(28,"path",121),E()(),J(),y(29,"h3"),T(30,"GitHub"),E(),y(31,"p"),T(32,"/syntaxerrrr"),E()()()())}function bw(t,e){if(t&1){let n=vn();y(0,"div",122),re("click",function(){Le(n);let r=Ue();return Oe(r.toggleAvatarZoom())}),F(1,"img",123),E()}}function Nw(t,e){t&1&&(y(0,"div",29),U(),y(1,"svg",23),F(2,"circle",124)(3,"path",125)(4,"line",126)(5,"line",127),E(),T(6," Need help? Chat with me... "),E())}function xw(t,e){t&1&&(y(0,"div",147),U(),y(1,"svg",133),F(2,"circle",124)(3,"path",125)(4,"line",126)(5,"line",127),E()())}function Rw(t,e){if(t&1&&(y(0,"div",146),Ce(1,xw,6,0,"div",147),y(2,"p"),T(3),E()()),t&2){let n=e.$implicit;Ye("user",n.sender==="user")("ai",n.sender==="ai"),K(),Te(n.sender==="ai"?1:-1),K(2),Nr(n.text)}}function Pw(t,e){t&1&&(y(0,"div",142)(1,"div",147),U(),y(2,"svg",133),F(3,"circle",124)(4,"path",125)(5,"line",126)(6,"line",127),E()(),J(),y(7,"div",148),F(8,"span")(9,"span")(10,"span"),E()())}function kw(t,e){if(t&1){let n=vn();y(0,"form",149),re("submit",function(r){Le(n);let i=Ue(2);return r.preventDefault(),Oe(i.sendMessage())}),y(1,"input",150),re("input",function(r){Le(n);let i=Ue(2);return Oe(i.userInput.set(r.target.value))}),E(),y(2,"button",151),U(),y(3,"svg",137),F(4,"line",152)(5,"polygon",153),E()()()}if(t&2){let n=Ue(2);K(),Xn("value",n.userInput()),K(),Xn("disabled",!n.userInput().trim()||n.isLoading())}}function Lw(t,e){t&1&&(y(0,"div",145),U(),y(1,"svg",23),F(2,"circle",124)(3,"line",154),E(),J(),y(4,"span"),T(5,"Chat blocked due to off-topic questions."),E()())}function Ow(t,e){if(t&1){let n=vn();y(0,"div",128),re("click",function(){Le(n);let r=Ue();return Oe(r.toggleChat())}),y(1,"div",129),re("click",function(r){return Le(n),Oe(r.stopPropagation())}),y(2,"header",130)(3,"div",131)(4,"div",132),U(),y(5,"svg",133),F(6,"circle",124)(7,"path",125)(8,"line",126)(9,"line",127),E()(),J(),y(10,"div")(11,"h3",134),T(12,"Lei's AI Assistant"),E(),y(13,"p",135),T(14,"Online"),E()()(),y(15,"button",136),re("click",function(){Le(n);let r=Ue();return Oe(r.toggleChat())}),U(),y(16,"svg",137),F(17,"line",138)(18,"line",139),E()()(),J(),y(19,"div",140),Mr(20,Rw,4,6,"div",141,Ja),Ce(22,Pw,11,0,"div",142),E(),y(23,"footer",143),Ce(24,kw,6,2,"form",144)(25,Lw,6,0,"div",145),E()()()}if(t&2){let n=Ue();K(),Ye("visible",n.chatVisible()),K(19),Dr(n.chatMessages()),K(2),Te(n.isLoading()?22:-1),K(2),Te(n.isBlocked()?25:24)}}var Ci=class t{constructor(){this.geminiService=G(_i);this.elementRef=G(mr);this.activeTab=ce("about");this.avatarZoomed=ce(!1);this.theme=ce("dark");this.particles=ce([]);this.mouseX=ce(-9999);this.mouseY=ce(-9999);this.chatVisible=ce(!1);this.chatMessages=ce([]);this.isLoading=ce(!1);this.userInput=ce("");this.showChatTooltip=ce(!0);this.violationCount=ce(0);this.isBlocked=ce(!1);this.nextTheme=Qa(()=>{switch(this.theme()){case"dark":return"light mode";case"light":return"flashlight mode";case"flashlight":return"dark mode"}});Js(()=>{this.activeTab(),window.scrollTo(0,0)}),this.chatMessages.set([{sender:"ai",text:"Hello! I'm Lei's AI assistant. Ask me anything about his skills, projects, or experience."}]),setTimeout(()=>this.showChatTooltip.set(!1),8e3)}ngOnInit(){this.initializeParticles(),this.animateParticles()}initializeParticles(){let n=[];for(let o=0;o<30;o++)n.push(this.createParticle());this.particles.set(n)}createParticle(e=!1){let n=Math.random()*8+4,o=Math.random()*window.innerWidth,r=e?window.innerHeight+n:Math.random()*window.innerHeight,i=-(Math.random()*.8+.2);return{id:Math.random(),x:o,y:r,vx:0,vy:i,baseVy:i,size:n,opacity:Math.random()*.5+.2}}animateParticles(){let e=()=>{this.particles.update(n=>n.map(o=>{let r=o.x-this.mouseX(),i=o.y-this.mouseY(),s=Math.sqrt(r*r+i*i),c=100;if(s<c){let u=(c-s)/c;o.vx+=r/s*u*2.5,o.vy+=i/s*u*2.5}return o.vx*=.95,o.vy=o.vy*.95+o.baseVy*.05,o.x+=o.vx,o.y+=o.vy,o.y<-o.size||o.x<-o.size||o.x>window.innerWidth+o.size?this.createParticle(!0):o})),requestAnimationFrame(e)};requestAnimationFrame(e)}setTab(e){this.activeTab.set(e)}toggleTheme(){this.theme.update(e=>e==="dark"?"light":e==="light"?"flashlight":"dark")}toggleAvatarZoom(){this.avatarZoomed.update(e=>!e)}onMouseMove(e){let{clientX:n,clientY:o}=e;this.mouseX.set(n),this.mouseY.set(o),this.theme()==="flashlight"&&(this.elementRef.nativeElement.style.setProperty("--mouse-x",`${n}px`),this.elementRef.nativeElement.style.setProperty("--mouse-y",`${o}px`))}onMouseLeave(){this.mouseX.set(-9999),this.mouseY.set(-9999)}onEscKey(){this.avatarZoomed()&&this.avatarZoomed.set(!1),this.chatVisible()&&this.chatVisible.set(!1)}toggleChat(){this.chatVisible.update(e=>!e),this.showChatTooltip.set(!1)}async sendMessage(){let e=this.userInput().trim();if(!(!e||this.isLoading()||this.isBlocked())){this.chatMessages.update(n=>[...n,{sender:"user",text:e}]),this.userInput.set(""),this.isLoading.set(!0);try{let n=await this.geminiService.sendMessage(e),o=n,r=n.match(/```json\s*([\s\S]*?)\s*```/);r&&r[1]&&(o=r[1]);try{let i=JSON.parse(o);switch(i.action){case"navigate":this.chatMessages.update(u=>[...u,{sender:"ai",text:i.response}]),this.setTab(i.target);break;case"answer":this.chatMessages.update(u=>[...u,{sender:"ai",text:i.response}]);break;case"warn":this.violationCount.update(u=>u+1);let s=3-this.violationCount(),c=`${i.response} You have ${s} warning(s) left.`;this.chatMessages.update(u=>[...u,{sender:"ai",text:s>0?c:i.response}]),this.violationCount()>=3&&(this.isBlocked.set(!0),this.chatMessages.update(u=>[...u,{sender:"ai",text:"You have been temporarily blocked due to repeated off-topic questions. Please refresh the page to start a new session."}]));break;default:this.chatMessages.update(u=>[...u,{sender:"ai",text:"I received an unexpected response. Please try rephrasing."}])}}catch(i){console.error("Failed to parse AI JSON response:",i),this.chatMessages.update(s=>[...s,{sender:"ai",text:"Sorry, I'm having trouble formatting my response. Please try again."}])}}catch{this.chatMessages.update(o=>[...o,{sender:"ai",text:"Sorry, I'm having trouble connecting right now."}])}finally{this.isLoading.set(!1)}}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=Ga({type:t,selectors:[["app-root"]],hostBindings:function(n,o){n&1&&Ar("keydown.escape",function(){return o.onEscKey()},Zn)("mousemove",function(i){return o.onMouseMove(i)},Zn)("mouseleave",function(){return o.onMouseLeave()},Zn)},decls:53,vars:25,consts:[[1,"eye-animation-overlay"],[1,"portfolio"],["aria-hidden","true",1,"global-particles"],[1,"particle",3,"transform","width","height","opacity"],[1,"header"],[1,"header-inner"],[1,"logo"],["src","https://i.imgur.com/pm3YRsS.jpeg","alt","Lei profile photo","role","button","tabindex","0",1,"logo-avatar",3,"click","keydown.enter"],[1,"logo-text"],[1,"header-controls"],["role","tablist",1,"tab-nav"],["role","tab",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["x","2","y","3","width","20","height","14","rx","2","ry","2"],["x1","8","y1","21","x2","16","y2","21"],["x1","12","y1","17","x2","12","y2","21"],["points","16 18 22 12 16 6"],["points","8 6 2 12 8 18"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],[1,"theme-toggle",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"main"],["role","tabpanel",1,"tab-panel","fade-in"],[1,"footer"],[1,"avatar-overlay"],[1,"chat-fab-container"],["role","tooltip",1,"chat-tooltip"],["aria-label","Open AI Assistant",1,"chat-fab",3,"click"],["width","28","height","28","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"],[1,"chat-overlay"],[1,"particle"],["cx","12","cy","12","r","4"],["d","M12 2v2"],["d","M12 20v2"],["d","m4.93 4.93 1.41 1.41"],["d","m17.66 17.66 1.41 1.41"],["d","M2 12h2"],["d","M20 12h2"],["d","m6.34 17.66-1.41 1.41"],["d","m19.07 4.93-1.41 1.41"],["d","M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"],["d","M18 6 6 18"],["d","m6 6 12 12"],["d","M3 3h2l4 4L3 13V3z"],["d","M21 21h-2l-4-4L21 11v10z"],[1,"hero"],[1,"hero-badge"],[1,"hero-name"],[1,"highlight"],[1,"hero-tagline"],[1,"hero-actions"],[1,"btn-primary",3,"click"],[1,"btn-secondary",3,"click"],[1,"stats-row"],[1,"stat-card"],[1,"stat-number"],[1,"stat-label"],[1,"about-detail"],[1,"section-title"],[1,"about-grid"],[1,"about-card"],[1,"about-card-icon"],["width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x","2","y","2","width","20","height","8","rx","2","ry","2"],["x","2","y","14","width","20","height","8","rx","2","ry","2"],["x1","6","y1","6","x2","6.01","y2","6"],["x1","6","y1","18","x2","6.01","y2","18"],["cx","12","cy","12","r","3"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"],[1,"section-subtitle"],[1,"projects-grid"],[1,"project-card"],[1,"project-header"],[1,"project-icon"],[1,"project-type"],[1,"project-tags"],["d","M12 2L2 7l10 5 10-5-10-5z"],["d","M2 17l10 5 10-5"],["d","M2 12l10 5 10-5"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15 3 21 3 21 9"],["x1","10","y1","14","x2","21","y2","3"],["d","M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"],[1,"tech-section"],[1,"tech-category-title"],[1,"tech-grid"],[1,"tech-card"],[1,"tech-card-icon","angular"],[1,"tech-card-info"],[1,"tech-card-icon","typescript"],[1,"tech-card-icon","html"],["width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"tech-card-icon","rxjs"],[1,"tech-card-icon","dotnet"],[1,"tech-card-icon","efcore"],[1,"tech-card-icon","sql"],["cx","12","cy","5","rx","9","ry","3"],["d","M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"],["d","M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"],[1,"tech-card-icon","zero"],[1,"tech-card-icon","git"],["cx","18","cy","18","r","3"],["cx","6","cy","6","r","3"],["d","M13 6h3a2 2 0 0 1 2 2v7"],["x1","6","y1","9","x2","6","y2","21"],[1,"tech-card-icon","vs"],[1,"tech-card-icon","api"],[1,"tech-card-icon","postman"],[1,"contact-grid"],["href","mailto:zhylegaming@gmail.com",1,"contact-card"],[1,"contact-card-icon"],["width","28","height","28","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["href","https://www.linkedin.com/in/leinard-artajo/","target","_blank","rel","noopener",1,"contact-card"],["d","M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-4 0v7h-4v-7a6 6 0 0 1 6-6z"],["x","2","y","9","width","4","height","12"],["cx","4","cy","4","r","2"],["href","https://github.com/syntaxerrrr","target","_blank","rel","noopener",1,"contact-card"],["d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"],[1,"avatar-overlay",3,"click"],["src","https://i.imgur.com/pm3YRsS.jpeg","alt","Lei profile photo zoomed",1,"avatar-zoomed"],["cx","12","cy","12","r","10"],["d","M8 14s1.5 2 4 2 4-2 4-2"],["x1","9","y1","9","x2","9.01","y2","9"],["x1","15","y1","9","x2","15.01","y2","9"],[1,"chat-overlay",3,"click"],[1,"chat-widget",3,"click"],[1,"chat-header"],[1,"chat-header-info"],[1,"chat-header-avatar"],["width","22","height","22","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"chat-header-title"],[1,"chat-header-status"],["aria-label","Close chat",1,"chat-close-btn",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2.5"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"chat-messages"],[1,"chat-message",3,"user","ai"],[1,"chat-message","ai"],[1,"chat-footer"],[1,"chat-form"],[1,"chat-blocked-message"],[1,"chat-message"],[1,"chat-avatar"],[1,"typing-indicator"],[1,"chat-form",3,"submit"],["type","text","placeholder","Ask about my projects...",1,"chat-input",3,"input","value"],["type","submit","aria-label","Send message",1,"chat-send-btn",3,"disabled"],["x1","22","y1","2","x2","11","y2","13"],["points","22 2 15 22 11 13 2 9 22 2"],["x1","4.93","y1","4.93","x2","19.07","y2","19.07"]],template:function(n,o){n&1&&(F(0,"div",0),y(1,"div",1)(2,"div",2),Mr(3,_w,1,8,"span",3,Iw),E(),y(5,"header",4)(6,"div",5)(7,"div",6)(8,"img",7),re("click",function(){return o.toggleAvatarZoom()})("keydown.enter",function(){return o.toggleAvatarZoom()}),E(),y(9,"span",8),T(10,"Leinard Alilin Artajo"),E()(),y(11,"div",9)(12,"nav",10)(13,"button",11),re("click",function(){return o.setTab("about")}),U(),y(14,"svg",12),F(15,"path",13)(16,"circle",14),E(),T(17," About "),E(),J(),y(18,"button",11),re("click",function(){return o.setTab("projects")}),U(),y(19,"svg",12),F(20,"rect",15)(21,"line",16)(22,"line",17),E(),T(23," Projects "),E(),J(),y(24,"button",11),re("click",function(){return o.setTab("tech")}),U(),y(25,"svg",12),F(26,"polyline",18)(27,"polyline",19),E(),T(28," Tech "),E(),J(),y(29,"button",11),re("click",function(){return o.setTab("contact")}),U(),y(30,"svg",12),F(31,"path",20)(32,"polyline",21),E(),T(33," Contact "),E()(),J(),y(34,"button",22),re("click",function(){return o.toggleTheme()}),Ce(35,Cw,10,0,":svg:svg",23)(36,Tw,2,0,":svg:svg",23)(37,Sw,5,0,":svg:svg",23),E()()()(),y(38,"main",24),Ce(39,ww,68,0,"div",25),Ce(40,Mw,84,0,"div",25),Ce(41,Dw,125,0,"div",25),Ce(42,Aw,33,0,"div",25),E(),y(43,"footer",26)(44,"p"),T(45,"\xA9 2026 Lei. Built with Angular."),E()(),Ce(46,bw,2,0,"div",27),y(47,"div",28),Ce(48,Nw,7,0,"div",29),y(49,"button",30),re("click",function(){return o.toggleChat()}),U(),y(50,"svg",31),F(51,"path",32),E()()(),Ce(52,Ow,26,4,"div",33),E()),n&2&&(K(),Ye("light-theme",o.theme()==="light")("flashlight-theme",o.theme()==="flashlight"),K(2),Dr(o.particles()),K(10),Ye("active",o.activeTab()==="about"),vt("aria-selected",o.activeTab()==="about"),K(5),Ye("active",o.activeTab()==="projects"),vt("aria-selected",o.activeTab()==="projects"),K(6),Ye("active",o.activeTab()==="tech"),vt("aria-selected",o.activeTab()==="tech"),K(5),Ye("active",o.activeTab()==="contact"),vt("aria-selected",o.activeTab()==="contact"),K(5),vt("aria-label","Switch to "+o.nextTheme()),K(),Te(o.theme()==="dark"?35:o.theme()==="light"?36:37),K(4),Te(o.activeTab()==="about"?39:-1),K(),Te(o.activeTab()==="projects"?40:-1),K(),Te(o.activeTab()==="tech"?41:-1),K(),Te(o.activeTab()==="contact"?42:-1),K(4),Te(o.avatarZoomed()?46:-1),K(2),Te(o.showChatTooltip()&&!o.chatVisible()?48:-1),K(4),Te(o.chatVisible()?52:-1))},styles:['[_nghost-%COMP%]{display:block;min-height:100vh;font-family:Inter,sans-serif}.eye-animation-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:99999;overflow:hidden;animation:_ngcontent-%COMP%_hide-overlay 0s 1.8s forwards}.eye-animation-overlay[_ngcontent-%COMP%]:before, .eye-animation-overlay[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;width:100%;height:50%;background-color:#0f1117}.eye-animation-overlay[_ngcontent-%COMP%]:before{top:0;animation:_ngcontent-%COMP%_open-top-lid 1.8s cubic-bezier(.77,0,.175,1) forwards}.eye-animation-overlay[_ngcontent-%COMP%]:after{bottom:0;animation:_ngcontent-%COMP%_open-bottom-lid 1.8s cubic-bezier(.77,0,.175,1) forwards}@keyframes _ngcontent-%COMP%_open-top-lid{0%{transform:translateY(0)}to{transform:translateY(-100%)}}@keyframes _ngcontent-%COMP%_open-bottom-lid{0%{transform:translateY(0)}to{transform:translateY(100%)}}@keyframes _ngcontent-%COMP%_hide-overlay{to{visibility:hidden}}.portfolio[_ngcontent-%COMP%]{--bg: #0f1117;--bg-card: #181b23;--bg-card-hover: #1e2230;--bg-header: rgba(15, 17, 23, .85);--border: rgba(255, 255, 255, .06);--border-hover: rgba(255, 255, 255, .12);--text: #e1e4ea;--text-muted: #8b8fa3;--text-dim: #5c5f72;--blue: #3b82f6;--blue-hover: #60a5fa;--blue-glow: rgba(59, 130, 246, .15);--blue-subtle: rgba(59, 130, 246, .08);--radius: 12px;--radius-lg: 16px;min-height:100vh;display:flex;flex-direction:column;position:relative;z-index:1;background-color:var(--bg);transition:background-color .3s ease,color .3s ease}.portfolio.light-theme[_ngcontent-%COMP%], .portfolio.flashlight-theme[_ngcontent-%COMP%]{--bg: #f9fafb;--bg-card: #ffffff;--bg-card-hover: #f3f4f6;--bg-header: rgba(249, 250, 251, .85);--border: rgba(0, 0, 0, .08);--border-hover: rgba(0, 0, 0, .12);--text: #1f2937;--text-muted: #6b7280;--text-dim: #9ca3af}.light-theme[_ngcontent-%COMP%]   .project-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .flashlight-theme[_ngcontent-%COMP%]   .project-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#0000000a;color:var(--text-muted)}.light-theme[_ngcontent-%COMP%]   .tab-nav[_ngcontent-%COMP%], .flashlight-theme[_ngcontent-%COMP%]   .tab-nav[_ngcontent-%COMP%]{background:#00000008}.light-theme[_ngcontent-%COMP%]   .tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .flashlight-theme[_ngcontent-%COMP%]   .tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0000000a}.light-theme[_ngcontent-%COMP%]   .chat-close-btn[_ngcontent-%COMP%]:hover, .flashlight-theme[_ngcontent-%COMP%]   .chat-close-btn[_ngcontent-%COMP%]:hover, .light-theme[_ngcontent-%COMP%]   .chat-avatar[_ngcontent-%COMP%], .flashlight-theme[_ngcontent-%COMP%]   .chat-avatar[_ngcontent-%COMP%]{background-color:#0000000d}.light-theme[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%], .flashlight-theme[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]{background:#00000008}.portfolio.flashlight-theme[_ngcontent-%COMP%]{cursor:none}.portfolio.flashlight-theme[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background-color:#000;z-index:999;pointer-events:none;-webkit-mask-image:radial-gradient(circle 350px at var(--mouse-x, -999px) var(--mouse-y, -999px),transparent 0%,transparent 50%,black 100%);mask-image:radial-gradient(circle 350px at var(--mouse-x, -999px) var(--mouse-y, -999px),transparent 0%,transparent 50%,black 100%)}.portfolio.flashlight-theme[_ngcontent-%COMP%]:after{content:"";position:fixed;left:var(--mouse-x, -999px);top:var(--mouse-y, -999px);transform:translate(-50%,-50%);width:12px;height:12px;border-radius:50%;background:#fff;box-shadow:0 0 20px 8px #fffc;z-index:1002;pointer-events:none}.global-particles[_ngcontent-%COMP%]{position:fixed;inset:0;pointer-events:none;z-index:-1}.particle[_ngcontent-%COMP%]{position:absolute;top:0;left:0;border-radius:50%;background:#60a5fa;box-shadow:0 0 12px 4px #60a5fa99,0 0 24px 8px #3b82f640}.header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;background:var(--bg-header);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border-bottom:1px solid var(--border)}.header-inner[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:0 24px;display:flex;align-items:center;justify-content:space-between;height:64px}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.theme-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;border:1px solid var(--border);background-color:transparent;color:var(--text-muted);cursor:pointer;transition:all .2s ease}.theme-toggle[_ngcontent-%COMP%]:hover{color:var(--text);background-color:#7f7f7f1a;border-color:var(--border-hover)}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.logo-avatar[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50%;object-fit:cover;border:2px solid var(--blue);box-shadow:0 0 12px #3b82f64d;transition:box-shadow .25s ease,transform .25s ease}.logo-avatar[_ngcontent-%COMP%]:hover{box-shadow:0 0 20px #3b82f680;transform:scale(1.08);cursor:pointer}.avatar-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;background:#000c;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;cursor:pointer;animation:_ngcontent-%COMP%_overlayIn .3s ease}.avatar-zoomed[_ngcontent-%COMP%]{width:280px;height:280px;border-radius:50%;object-fit:cover;border:3px solid var(--blue);box-shadow:0 0 40px #3b82f666,0 0 80px #3b82f626;cursor:default;animation:_ngcontent-%COMP%_zoomIn .35s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_overlayIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_zoomIn{0%{opacity:0;transform:scale(.3)}to{opacity:1;transform:scale(1)}}.logo-text[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:var(--text);letter-spacing:-.02em}.tab-nav[_ngcontent-%COMP%]{display:flex;gap:4px;background:#ffffff08;padding:4px;border-radius:12px;border:1px solid var(--border)}.tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border:none;background:transparent;color:var(--text-muted);font-family:inherit;font-size:.85rem;font-weight:500;border-radius:8px;cursor:pointer;transition:all .2s ease;white-space:nowrap}.tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:var(--text);background:#ffffff0a}.tab-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#fff;background:var(--blue);box-shadow:0 2px 8px #3b82f64d}.tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.main[_ngcontent-%COMP%]{flex:1;max-width:1100px;width:100%;margin:0 auto;padding:40px 24px}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .35s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.section-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--text);letter-spacing:-.03em;margin-bottom:6px}.section-subtitle[_ngcontent-%COMP%]{color:var(--text-muted);font-size:1rem;margin-bottom:32px;line-height:1.6}.hero[_ngcontent-%COMP%]{position:relative;text-align:center;padding:80px 0 64px;border-radius:0;background:transparent}.hero-badge[_ngcontent-%COMP%], .hero-name[_ngcontent-%COMP%], .hero-tagline[_ngcontent-%COMP%], .hero-actions[_ngcontent-%COMP%]{position:relative;z-index:1}.hero-badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 16px;background:var(--blue-subtle);color:var(--blue);border-radius:999px;font-size:.8rem;font-weight:600;letter-spacing:.02em;border:1px solid rgba(59,130,246,.15);margin-bottom:20px}.hero-name[_ngcontent-%COMP%]{font-size:3.2rem;font-weight:800;color:var(--text);letter-spacing:-.04em;line-height:1.1;margin-bottom:18px}.highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#60a5fa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero-tagline[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--text-muted);line-height:1.7;max-width:600px;margin:0 auto 28px}.hero-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;flex-wrap:wrap}.btn-primary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:10px;font-family:inherit;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s ease;box-shadow:0 4px 12px #3b82f640}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#60a5fa,#3b82f6);box-shadow:0 6px 20px #3b82f659;transform:translateY(-1px)}.btn-secondary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:transparent;color:var(--text);border:1px solid var(--border-hover);border-radius:10px;font-family:inherit;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-secondary[_ngcontent-%COMP%]:hover{border-color:var(--blue);color:var(--blue);background:var(--blue-subtle)}.stats-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin:32px 0 40px}.stat-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);padding:24px 16px;text-align:center;transition:all .25s ease}.stat-card[_ngcontent-%COMP%]:hover{border-color:#3b82f633;background:var(--bg-card-hover);box-shadow:0 0 20px var(--blue-glow)}.stat-number[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:800;color:var(--blue);letter-spacing:-.03em}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.82rem;color:var(--text-muted);margin-top:4px;font-weight:500}.about-detail[_ngcontent-%COMP%]{margin-top:8px}.about-detail[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-bottom:20px}.about-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.about-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:28px 24px;transition:all .25s ease}.about-card[_ngcontent-%COMP%]:hover{border-color:#3b82f633;background:var(--bg-card-hover);transform:translateY(-2px);box-shadow:0 8px 24px #0003}.about-card-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:var(--blue-subtle);border-radius:12px;display:flex;align-items:center;justify-content:center;color:var(--blue);margin-bottom:16px}.about-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.05rem;font-weight:700;color:var(--text);margin-bottom:8px}.about-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.88rem;color:var(--text-muted);line-height:1.6}.projects-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.project-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:28px 24px;transition:all .25s ease}.project-card[_ngcontent-%COMP%]:hover{border-color:#3b82f633;background:var(--bg-card-hover);transform:translateY(-2px);box-shadow:0 8px 24px #0003}.project-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.project-icon[_ngcontent-%COMP%]{width:44px;height:44px;background:var(--blue-subtle);border-radius:10px;display:flex;align-items:center;justify-content:center;color:var(--blue)}.project-type[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:var(--blue);background:var(--blue-subtle);padding:4px 10px;border-radius:6px;letter-spacing:.02em}.project-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text);margin-bottom:8px}.project-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.88rem;color:var(--text-muted);line-height:1.6;margin-bottom:16px}.project-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.project-tags[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:var(--text-dim);background:#ffffff0a;padding:4px 10px;border-radius:6px;border:1px solid var(--border)}.tech-section[_ngcontent-%COMP%]{margin-bottom:32px}.tech-category-title[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--text-dim);text-transform:uppercase;letter-spacing:.08em;margin-bottom:14px;padding-left:2px}.tech-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}.tech-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);padding:18px 16px;display:flex;align-items:center;gap:14px;transition:all .25s ease}.tech-card[_ngcontent-%COMP%]:hover{border-color:#3b82f633;background:var(--bg-card-hover);transform:translateY(-2px);box-shadow:0 6px 16px #00000026}.tech-card-icon[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.85rem;flex-shrink:0}.tech-card-icon.angular[_ngcontent-%COMP%]{background:#dd00311f;color:#f44771}.tech-card-icon.typescript[_ngcontent-%COMP%]{background:#3178c61f;color:#5c9cf5}.tech-card-icon.html[_ngcontent-%COMP%]{background:#e34f261f;color:#e9724c}.tech-card-icon.rxjs[_ngcontent-%COMP%]{background:#b528801f;color:#d95aae}.tech-card-icon.dotnet[_ngcontent-%COMP%], .tech-card-icon.efcore[_ngcontent-%COMP%]{background:#512bd41f;color:#8b6cf6}.tech-card-icon.sql[_ngcontent-%COMP%], .tech-card-icon.zero[_ngcontent-%COMP%]{background:#3b82f61f;color:#60a5fa}.tech-card-icon.git[_ngcontent-%COMP%]{background:#f050321f;color:#f06040}.tech-card-icon.vs[_ngcontent-%COMP%]{background:#7952b31f;color:#a78bfa}.tech-card-icon.api[_ngcontent-%COMP%]{background:#22c55e1f;color:#4ade80}.tech-card-icon.postman[_ngcontent-%COMP%]{background:#ff6c371f;color:#ff8a4c}.tech-card-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.tech-card-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.88rem;font-weight:600;color:var(--text)}.tech-card-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-muted);margin-top:2px}.contact-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:40px}.contact-card[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:32px 24px;text-align:center;text-decoration:none;transition:all .25s ease;display:block}.contact-card[_ngcontent-%COMP%]:hover{border-color:#3b82f640;background:var(--bg-card-hover);transform:translateY(-3px);box-shadow:0 8px 24px #0003}.contact-card-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:var(--blue-subtle);border-radius:14px;display:flex;align-items:center;justify-content:center;color:var(--blue);margin:0 auto 14px}.contact-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:var(--text);margin-bottom:4px}.contact-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-muted)}.contact-form-section[_ngcontent-%COMP%]{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:32px}.contact-form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700;color:var(--text);margin-bottom:20px}.contact-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.82rem;font-weight:600;color:var(--text-muted)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 14px;background:#ffffff08;border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:inherit;font-size:.9rem;transition:border-color .2s ease,box-shadow .2s ease;outline:none;resize:vertical}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-dim)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:var(--blue);box-shadow:0 0 0 3px var(--blue-glow)}.contact-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{align-self:flex-start;margin-top:4px}.footer[_ngcontent-%COMP%]{text-align:center;padding:28px 24px;color:var(--text-dim);font-size:.82rem;border-top:1px solid var(--border);margin-top:auto}.chat-fab-container[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;display:flex;align-items:center}.chat-tooltip[_ngcontent-%COMP%]{position:relative;background:var(--text);color:var(--bg);padding:10px 16px;border-radius:var(--radius);margin-right:16px;font-weight:500;font-size:.9rem;white-space:nowrap;box-shadow:0 4px 16px #0003;opacity:0;transform:translate(10px);animation:_ngcontent-%COMP%_tooltip-fade-in .5s .5s cubic-bezier(.16,1,.3,1) forwards;display:flex;align-items:center;gap:8px}.chat-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:100%;margin-top:-6px;border-width:6px;border-style:solid;border-color:transparent transparent transparent var(--text)}@keyframes _ngcontent-%COMP%_tooltip-fade-in{to{opacity:1;transform:translate(0)}}.chat-fab[_ngcontent-%COMP%]{position:relative;width:60px;height:60px;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 8px 24px #3b82f64d;transition:all .3s cubic-bezier(.16,1,.3,1);animation:_ngcontent-%COMP%_pulse 2s infinite cubic-bezier(.66,0,0,1)}.chat-fab[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 12px 32px #3b82f666;animation:none}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 8px 24px #3b82f64d}50%{box-shadow:0 8px 24px #60a5fa66}}.chat-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1001;background:#00000080;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:flex;align-items:flex-end;justify-content:flex-end;padding:24px;animation:_ngcontent-%COMP%_overlayIn .3s ease}.chat-widget[_ngcontent-%COMP%]{width:100%;max-width:400px;height:70vh;max-height:600px;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);display:flex;flex-direction:column;overflow:hidden;box-shadow:0 16px 48px #0000004d;transform:translateY(20px);opacity:0;animation:_ngcontent-%COMP%_slideUp .4s .1s cubic-bezier(.16,1,.3,1) forwards}@keyframes _ngcontent-%COMP%_slideUp{to{transform:translateY(0);opacity:1}}.chat-header[_ngcontent-%COMP%]{padding:16px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.chat-header-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.chat-header-avatar[_ngcontent-%COMP%]{width:40px;height:40px;position:relative;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--blue-subtle);color:var(--blue)}.chat-header-avatar[_ngcontent-%COMP%]:after{content:"";position:absolute;width:10px;height:10px;border-radius:50%;background-color:#4ade80;border:2px solid var(--bg-card);bottom:0;right:0}.chat-header-title[_ngcontent-%COMP%]{color:var(--text);font-weight:600;font-size:1rem}.chat-header-status[_ngcontent-%COMP%]{color:#4ade80;font-size:.8rem}.chat-close-btn[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:4px;border-radius:50%;transition:all .2s}.chat-close-btn[_ngcontent-%COMP%]:hover{color:var(--text);background-color:#ffffff0d}.chat-messages[_ngcontent-%COMP%]{flex:1;padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:16px}.chat-message[_ngcontent-%COMP%]{display:flex;max-width:80%;align-items:flex-end}.chat-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px 16px;border-radius:18px;line-height:1.6;font-size:.9rem;word-break:break-word}.chat-message.ai[_ngcontent-%COMP%]{align-self:flex-start;gap:10px}.chat-message.ai[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:var(--bg-card-hover);color:var(--text);border-bottom-left-radius:4px}.chat-message.user[_ngcontent-%COMP%]{align-self:flex-end}.chat-message.user[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:var(--blue);color:#fff;border-bottom-right-radius:4px}.chat-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;flex-shrink:0;border:1px solid var(--border);display:flex;align-items:center;justify-content:center;background-color:#ffffff0d;color:var(--text-muted)}.typing-indicator[_ngcontent-%COMP%]{display:flex;gap:4px;padding:12px 16px;background:var(--bg-card-hover);border-radius:18px 18px 18px 4px}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:8px;width:8px;background-color:var(--text-dim);border-radius:50%;display:inline-block;animation:_ngcontent-%COMP%_bounce 1.4s infinite ease-in-out both}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_bounce{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.chat-footer[_ngcontent-%COMP%]{padding:16px 20px;border-top:1px solid var(--border);flex-shrink:0}.chat-form[_ngcontent-%COMP%]{display:flex;gap:12px}.chat-input[_ngcontent-%COMP%]{flex:1;width:100%;padding:10px 14px;background:#ffffff08;border:1px solid var(--border);border-radius:10px;color:var(--text);font-family:inherit;font-size:.9rem;transition:border-color .2s ease,box-shadow .2s ease;outline:none}.chat-input[_ngcontent-%COMP%]:focus{border-color:var(--blue);box-shadow:0 0 0 3px var(--blue-glow)}.chat-input[_ngcontent-%COMP%]::placeholder{color:var(--text-dim)}.chat-send-btn[_ngcontent-%COMP%]{width:42px;height:42px;border:none;background:var(--blue);color:#fff;border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.chat-send-btn[_ngcontent-%COMP%]:hover{background-color:var(--blue-hover)}.chat-send-btn[_ngcontent-%COMP%]:disabled{background-color:var(--text-dim);cursor:not-allowed}.chat-blocked-message[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;color:var(--text-dim);font-size:.9rem;text-align:center}@media(max-width:900px){.about-grid[_ngcontent-%COMP%], .projects-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.tech-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.stats-row[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media(max-width:700px){.header-inner[_ngcontent-%COMP%]{flex-direction:column;height:auto;padding:12px 16px;gap:10px}.header-controls[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.tab-nav[_ngcontent-%COMP%]{width:auto}.tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:7px 12px;font-size:.8rem}.tab-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:none}.hero-name[_ngcontent-%COMP%]{font-size:2.4rem}.hero-tagline[_ngcontent-%COMP%]{font-size:1rem}.main[_ngcontent-%COMP%]{padding:28px 16px}.contact-grid[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%], .stats-row[_ngcontent-%COMP%], .tech-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stats-row[_ngcontent-%COMP%], .tech-grid[_ngcontent-%COMP%]{gap:10px}.contact-form-section[_ngcontent-%COMP%]{padding:24px 18px}.portfolio.flashlight-theme[_ngcontent-%COMP%]:before{-webkit-mask-image:radial-gradient(circle 350px at 50% 50%,transparent 0%,transparent 50%,black 100%);mask-image:radial-gradient(circle 350px at 50% 50%,transparent 0%,transparent 50%,black 100%)}.portfolio.flashlight-theme[_ngcontent-%COMP%]:after{display:none}.chat-fab-container[_ngcontent-%COMP%]{bottom:16px;right:16px}.chat-tooltip[_ngcontent-%COMP%]{display:none}.chat-fab[_ngcontent-%COMP%]{width:54px;height:54px}.chat-overlay[_ngcontent-%COMP%]{padding:8px;align-items:stretch}.chat-widget[_ngcontent-%COMP%]{max-width:none;height:auto;max-height:none;flex:1;border-radius:var(--radius-lg)}}'],changeDetection:0})}};cl(Ci,{providers:[Ka()]}).catch(t=>console.error(t));
